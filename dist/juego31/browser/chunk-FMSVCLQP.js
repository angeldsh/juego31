var Y0=Object.create;var Du=Object.defineProperty,K0=Object.defineProperties,Z0=Object.getOwnPropertyDescriptor,Q0=Object.getOwnPropertyDescriptors,J0=Object.getOwnPropertyNames,Hm=Object.getOwnPropertySymbols,X0=Object.getPrototypeOf,$m=Object.prototype.hasOwnProperty,eT=Object.prototype.propertyIsEnumerable;var Um=(t,e,n)=>e in t?Du(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,X=(t,e)=>{for(var n in e||={})$m.call(e,n)&&Um(t,n,e[n]);if(Hm)for(var n of Hm(e))eT.call(e,n)&&Um(t,n,e[n]);return t},ne=(t,e)=>K0(t,Q0(e));var tT=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var nT=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of J0(e))!$m.call(t,i)&&i!==n&&Du(t,i,{get:()=>e[i],enumerable:!(r=Z0(e,i))||r.enumerable});return t};var rT=(t,e,n)=>(n=t!=null?Y0(X0(t)):{},nT(e||!t||!t.__esModule?Du(n,"default",{value:t,enumerable:!0}):n,t));var w=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(d){i(d)}},s=l=>{try{a(n.throw(l))}catch(d){i(d)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())});var cE=tT((Bt,Sh)=>{"use strict";(function(t,e){typeof Bt=="object"&&typeof Sh<"u"?Sh.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(Bt,function(){"use strict";function t(c,u,f){if(typeof c=="function"?c===u:c.has(u))return arguments.length<3?u:f;throw new TypeError("Private element is not present on this object")}function e(c,u){if(u.has(c))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(c,u){return c.get(t(c,u))}function r(c,u,f){e(c,u),u.set(c,f)}function i(c,u,f){return c.set(t(c,u),f),f}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},l=c=>new Promise(u=>{if(!c)return u();let f=window.scrollX,g=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),u()},o),window.scrollTo(f,g)}),d="swal2-",h=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((c,u)=>(c[u]=d+u,c),{}),y=["success","warning","info","question","error"].reduce((c,u)=>(c[u]=d+u,c),{}),_="SweetAlert2:",C=c=>c.charAt(0).toUpperCase()+c.slice(1),I=c=>{console.warn(`${_} ${typeof c=="object"?c.join(" "):c}`)},T=c=>{console.error(`${_} ${c}`)},Re=[],Ge=c=>{Re.includes(c)||(Re.push(c),I(c))},Qt=(c,u=null)=>{Ge(`"${c}" is deprecated and will be removed in the next major release.${u?` Use "${u}" instead.`:""}`)},On=c=>typeof c=="function"?c():c,Fn=c=>c&&typeof c.toPromise=="function",ln=c=>Fn(c)?c.toPromise():Promise.resolve(c),oo=c=>c&&Promise.resolve(c)===c,_e=()=>document.body.querySelector(`.${h.container}`),Ln=c=>{let u=_e();return u?u.querySelector(c):null},qe=c=>Ln(`.${c}`),z=()=>qe(h.popup),Ur=()=>qe(h.icon),yI=()=>qe(h["icon-content"]),Ug=()=>qe(h.title),su=()=>qe(h["html-container"]),$g=()=>qe(h.image),au=()=>qe(h["progress-steps"]),Zs=()=>qe(h["validation-message"]),At=()=>Ln(`.${h.actions} .${h.confirm}`),$r=()=>Ln(`.${h.actions} .${h.cancel}`),Vn=()=>Ln(`.${h.actions} .${h.deny}`),vI=()=>qe(h["input-label"]),Wr=()=>Ln(`.${h.loader}`),so=()=>qe(h.actions),Wg=()=>qe(h.footer),Qs=()=>qe(h["timer-progress-bar"]),cu=()=>qe(h.close),_I=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,lu=()=>{let c=z();if(!c)return[];let u=c.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),f=Array.from(u).sort((b,$)=>{let J=parseInt(b.getAttribute("tabindex")||"0"),le=parseInt($.getAttribute("tabindex")||"0");return J>le?1:J<le?-1:0}),g=c.querySelectorAll(_I),v=Array.from(g).filter(b=>b.getAttribute("tabindex")!=="-1");return[...new Set(f.concat(v))].filter(b=>Le(b))},uu=()=>Jt(document.body,h.shown)&&!Jt(document.body,h["toast-shown"])&&!Jt(document.body,h["no-backdrop"]),Js=()=>{let c=z();return c?Jt(c,h.toast):!1},wI=()=>{let c=z();return c?c.hasAttribute("data-loading"):!1},Ye=(c,u)=>{if(c.textContent="",u){let g=new DOMParser().parseFromString(u,"text/html"),v=g.querySelector("head");v&&Array.from(v.childNodes).forEach($=>{c.appendChild($)});let b=g.querySelector("body");b&&Array.from(b.childNodes).forEach($=>{$ instanceof HTMLVideoElement||$ instanceof HTMLAudioElement?c.appendChild($.cloneNode(!0)):c.appendChild($)})}},Jt=(c,u)=>{if(!u)return!1;let f=u.split(/\s+/);for(let g=0;g<f.length;g++)if(!c.classList.contains(f[g]))return!1;return!0},EI=(c,u)=>{Array.from(c.classList).forEach(f=>{!Object.values(h).includes(f)&&!Object.values(y).includes(f)&&!Object.values(u.showClass||{}).includes(f)&&c.classList.remove(f)})},Ke=(c,u,f)=>{if(EI(c,u),!u.customClass)return;let g=u.customClass[f];if(g){if(typeof g!="string"&&!g.forEach){I(`Invalid type of customClass.${f}! Expected string or iterable object, got "${typeof g}"`);return}q(c,g)}},Xs=(c,u)=>{if(!u)return null;switch(u){case"select":case"textarea":case"file":return c.querySelector(`.${h.popup} > .${h[u]}`);case"checkbox":return c.querySelector(`.${h.popup} > .${h.checkbox} input`);case"radio":return c.querySelector(`.${h.popup} > .${h.radio} input:checked`)||c.querySelector(`.${h.popup} > .${h.radio} input:first-child`);case"range":return c.querySelector(`.${h.popup} > .${h.range} input`);default:return c.querySelector(`.${h.popup} > .${h.input}`)}},zg=c=>{if(c.focus(),c.type!=="file"){let u=c.value;c.value="",c.value=u}},Gg=(c,u,f)=>{!c||!u||(typeof u=="string"&&(u=u.split(/\s+/).filter(Boolean)),u.forEach(g=>{Array.isArray(c)?c.forEach(v=>{f?v.classList.add(g):v.classList.remove(g)}):f?c.classList.add(g):c.classList.remove(g)}))},q=(c,u)=>{Gg(c,u,!0)},st=(c,u)=>{Gg(c,u,!1)},un=(c,u)=>{let f=Array.from(c.children);for(let g=0;g<f.length;g++){let v=f[g];if(v instanceof HTMLElement&&Jt(v,u))return v}},jn=(c,u,f)=>{f===`${parseInt(f)}`&&(f=parseInt(f)),f||parseInt(f)===0?c.style.setProperty(u,typeof f=="number"?`${f}px`:f):c.style.removeProperty(u)},Ce=(c,u="flex")=>{c&&(c.style.display=u)},Se=c=>{c&&(c.style.display="none")},du=(c,u="block")=>{c&&new MutationObserver(()=>{ao(c,c.innerHTML,u)}).observe(c,{childList:!0,subtree:!0})},qg=(c,u,f,g)=>{let v=c.querySelector(u);v&&v.style.setProperty(f,g)},ao=(c,u,f="flex")=>{u?Ce(c,f):Se(c)},Le=c=>!!(c&&(c.offsetWidth||c.offsetHeight||c.getClientRects().length)),bI=()=>!Le(At())&&!Le(Vn())&&!Le($r()),fu=c=>c.scrollHeight>c.clientHeight,CI=(c,u)=>{let f=c;for(;f&&f!==u;){if(fu(f))return!0;f=f.parentElement}return!1},Yg=c=>{let u=window.getComputedStyle(c),f=parseFloat(u.getPropertyValue("animation-duration")||"0"),g=parseFloat(u.getPropertyValue("transition-duration")||"0");return f>0||g>0},hu=(c,u=!1)=>{let f=Qs();f&&Le(f)&&(u&&(f.style.transition="none",f.style.width="100%"),setTimeout(()=>{f.style.transition=`width ${c/1e3}s linear`,f.style.width="0%"},10))},II=()=>{let c=Qs();if(!c)return;let u=parseInt(window.getComputedStyle(c).width);c.style.removeProperty("transition"),c.style.width="100%";let f=parseInt(window.getComputedStyle(c).width),g=u/f*100;c.style.width=`${g}%`},DI=()=>typeof window>"u"||typeof document>"u",TI=`
 <div aria-labelledby="${h.title}" aria-describedby="${h["html-container"]}" class="${h.popup}" tabindex="-1">
   <button type="button" class="${h.close}"></button>
   <ul class="${h["progress-steps"]}"></ul>
   <div class="${h.icon}"></div>
   <img class="${h.image}" />
   <h2 class="${h.title}" id="${h.title}"></h2>
   <div class="${h["html-container"]}" id="${h["html-container"]}"></div>
   <input class="${h.input}" id="${h.input}" />
   <input type="file" class="${h.file}" />
   <div class="${h.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${h.select}" id="${h.select}"></select>
   <div class="${h.radio}"></div>
   <label class="${h.checkbox}">
     <input type="checkbox" id="${h.checkbox}" />
     <span class="${h.label}"></span>
   </label>
   <textarea class="${h.textarea}" id="${h.textarea}"></textarea>
   <div class="${h["validation-message"]}" id="${h["validation-message"]}"></div>
   <div class="${h.actions}">
     <div class="${h.loader}"></div>
     <button type="button" class="${h.confirm}"></button>
     <button type="button" class="${h.deny}"></button>
     <button type="button" class="${h.cancel}"></button>
   </div>
   <div class="${h.footer}"></div>
   <div class="${h["timer-progress-bar-container"]}">
     <div class="${h["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),SI=()=>{let c=_e();return c?(c.remove(),st([document.documentElement,document.body],[h["no-backdrop"],h["toast-shown"],h["has-column"]]),!0):!1},Bn=()=>{s.currentInstance.resetValidationMessage()},AI=()=>{let c=z(),u=un(c,h.input),f=un(c,h.file),g=c.querySelector(`.${h.range} input`),v=c.querySelector(`.${h.range} output`),b=un(c,h.select),$=c.querySelector(`.${h.checkbox} input`),J=un(c,h.textarea);u.oninput=Bn,f.onchange=Bn,b.onchange=Bn,$.onchange=Bn,J.oninput=Bn,g.oninput=()=>{Bn(),v.value=g.value},g.onchange=()=>{Bn(),v.value=g.value}},NI=c=>typeof c=="string"?document.querySelector(c):c,xI=c=>{let u=z();u.setAttribute("role",c.toast?"alert":"dialog"),u.setAttribute("aria-live",c.toast?"polite":"assertive"),c.toast||u.setAttribute("aria-modal","true")},MI=c=>{window.getComputedStyle(c).direction==="rtl"&&q(_e(),h.rtl)},kI=c=>{let u=SI();if(DI()){T("SweetAlert2 requires document to initialize");return}let f=document.createElement("div");f.className=h.container,u&&q(f,h["no-transition"]),Ye(f,TI),f.dataset.swal2Theme=c.theme;let g=NI(c.target);g.appendChild(f),c.topLayer&&(f.setAttribute("popover",""),f.showPopover()),xI(c),MI(g),AI()},pu=(c,u)=>{c instanceof HTMLElement?u.appendChild(c):typeof c=="object"?RI(c,u):c&&Ye(u,c)},RI=(c,u)=>{c.jquery?PI(u,c):Ye(u,c.toString())},PI=(c,u)=>{if(c.textContent="",0 in u)for(let f=0;f in u;f++)c.appendChild(u[f].cloneNode(!0));else c.appendChild(u.cloneNode(!0))},OI=(c,u)=>{let f=so(),g=Wr();!f||!g||(!u.showConfirmButton&&!u.showDenyButton&&!u.showCancelButton?Se(f):Ce(f),Ke(f,u,"actions"),FI(f,g,u),Ye(g,u.loaderHtml||""),Ke(g,u,"loader"))};function FI(c,u,f){let g=At(),v=Vn(),b=$r();!g||!v||!b||(mu(g,"confirm",f),mu(v,"deny",f),mu(b,"cancel",f),LI(g,v,b,f),f.reverseButtons&&(f.toast?(c.insertBefore(b,g),c.insertBefore(v,g)):(c.insertBefore(b,u),c.insertBefore(v,u),c.insertBefore(g,u))))}function LI(c,u,f,g){if(!g.buttonsStyling){st([c,u,f],h.styled);return}q([c,u,f],h.styled),g.confirmButtonColor&&c.style.setProperty("--swal2-confirm-button-background-color",g.confirmButtonColor),g.denyButtonColor&&u.style.setProperty("--swal2-deny-button-background-color",g.denyButtonColor),g.cancelButtonColor&&f.style.setProperty("--swal2-cancel-button-background-color",g.cancelButtonColor),gu(c),gu(u),gu(f)}function gu(c){let u=window.getComputedStyle(c);if(u.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;let f=u.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");c.style.setProperty("--swal2-action-button-focus-box-shadow",u.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${f}`))}function mu(c,u,f){let g=C(u);ao(c,f[`show${g}Button`],"inline-block"),Ye(c,f[`${u}ButtonText`]||""),c.setAttribute("aria-label",f[`${u}ButtonAriaLabel`]||""),c.className=h[u],Ke(c,f,`${u}Button`)}let VI=(c,u)=>{let f=cu();f&&(Ye(f,u.closeButtonHtml||""),Ke(f,u,"closeButton"),ao(f,u.showCloseButton),f.setAttribute("aria-label",u.closeButtonAriaLabel||""))},jI=(c,u)=>{let f=_e();f&&(BI(f,u.backdrop),HI(f,u.position),UI(f,u.grow),Ke(f,u,"container"))};function BI(c,u){typeof u=="string"?c.style.background=u:u||q([document.documentElement,document.body],h["no-backdrop"])}function HI(c,u){u&&(u in h?q(c,h[u]):(I('The "position" parameter is not valid, defaulting to "center"'),q(c,h.center)))}function UI(c,u){u&&q(c,h[`grow-${u}`])}var oe={innerParams:new WeakMap,domCache:new WeakMap};let $I=["input","file","range","select","radio","checkbox","textarea"],WI=(c,u)=>{let f=z();if(!f)return;let g=oe.innerParams.get(c),v=!g||u.input!==g.input;$I.forEach(b=>{let $=un(f,h[b]);$&&(qI(b,u.inputAttributes),$.className=h[b],v&&Se($))}),u.input&&(v&&zI(u),YI(u))},zI=c=>{if(!c.input)return;if(!fe[c.input]){T(`Unexpected type of input! Expected ${Object.keys(fe).join(" | ")}, got "${c.input}"`);return}let u=Kg(c.input);if(!u)return;let f=fe[c.input](u,c);Ce(u),c.inputAutoFocus&&setTimeout(()=>{zg(f)})},GI=c=>{for(let u=0;u<c.attributes.length;u++){let f=c.attributes[u].name;["id","type","value","style"].includes(f)||c.removeAttribute(f)}},qI=(c,u)=>{let f=z();if(!f)return;let g=Xs(f,c);if(g){GI(g);for(let v in u)g.setAttribute(v,u[v])}},YI=c=>{if(!c.input)return;let u=Kg(c.input);u&&Ke(u,c,"input")},yu=(c,u)=>{!c.placeholder&&u.inputPlaceholder&&(c.placeholder=u.inputPlaceholder)},co=(c,u,f)=>{if(f.inputLabel){let g=document.createElement("label"),v=h["input-label"];g.setAttribute("for",c.id),g.className=v,typeof f.customClass=="object"&&q(g,f.customClass.inputLabel),g.innerText=f.inputLabel,u.insertAdjacentElement("beforebegin",g)}},Kg=c=>{let u=z();if(u)return un(u,h[c]||h.input)},ea=(c,u)=>{["string","number"].includes(typeof u)?c.value=`${u}`:oo(u)||I(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof u}"`)},fe={};fe.text=fe.email=fe.password=fe.number=fe.tel=fe.url=fe.search=fe.date=fe["datetime-local"]=fe.time=fe.week=fe.month=(c,u)=>(ea(c,u.inputValue),co(c,c,u),yu(c,u),c.type=u.input,c),fe.file=(c,u)=>(co(c,c,u),yu(c,u),c),fe.range=(c,u)=>{let f=c.querySelector("input"),g=c.querySelector("output");return ea(f,u.inputValue),f.type=u.input,ea(g,u.inputValue),co(f,c,u),c},fe.select=(c,u)=>{if(c.textContent="",u.inputPlaceholder){let f=document.createElement("option");Ye(f,u.inputPlaceholder),f.value="",f.disabled=!0,f.selected=!0,c.appendChild(f)}return co(c,c,u),c},fe.radio=c=>(c.textContent="",c),fe.checkbox=(c,u)=>{let f=Xs(z(),"checkbox");f.value="1",f.checked=!!u.inputValue;let g=c.querySelector("span");return Ye(g,u.inputPlaceholder||u.inputLabel),f},fe.textarea=(c,u)=>{ea(c,u.inputValue),yu(c,u),co(c,c,u);let f=g=>parseInt(window.getComputedStyle(g).marginLeft)+parseInt(window.getComputedStyle(g).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let g=parseInt(window.getComputedStyle(z()).width),v=()=>{if(!document.body.contains(c))return;let b=c.offsetWidth+f(c);b>g?z().style.width=`${b}px`:jn(z(),"width",u.width)};new MutationObserver(v).observe(c,{attributes:!0,attributeFilter:["style"]})}}),c};let KI=(c,u)=>{let f=su();f&&(du(f),Ke(f,u,"htmlContainer"),u.html?(pu(u.html,f),Ce(f,"block")):u.text?(f.textContent=u.text,Ce(f,"block")):Se(f),WI(c,u))},ZI=(c,u)=>{let f=Wg();f&&(du(f),ao(f,u.footer,"block"),u.footer&&pu(u.footer,f),Ke(f,u,"footer"))},QI=(c,u)=>{let f=oe.innerParams.get(c),g=Ur();if(!g)return;if(f&&u.icon===f.icon){Jg(g,u),Zg(g,u);return}if(!u.icon&&!u.iconHtml){Se(g);return}if(u.icon&&Object.keys(y).indexOf(u.icon)===-1){T(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${u.icon}"`),Se(g);return}Ce(g),Jg(g,u),Zg(g,u),q(g,u.showClass&&u.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Qg)},Zg=(c,u)=>{for(let[f,g]of Object.entries(y))u.icon!==f&&st(c,g);q(c,u.icon&&y[u.icon]),eD(c,u),Qg(),Ke(c,u,"icon")},Qg=()=>{let c=z();if(!c)return;let u=window.getComputedStyle(c).getPropertyValue("background-color"),f=c.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let g=0;g<f.length;g++)f[g].style.backgroundColor=u},JI=c=>`
  ${c.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${c.animation?'<div class="swal2-success-fix"></div>':""}
  ${c.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,XI=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Jg=(c,u)=>{if(!u.icon&&!u.iconHtml)return;let f=c.innerHTML,g="";u.iconHtml?g=Xg(u.iconHtml):u.icon==="success"?(g=JI(u),f=f.replace(/ style=".*?"/g,"")):u.icon==="error"?g=XI:u.icon&&(g=Xg({question:"?",warning:"!",info:"i"}[u.icon])),f.trim()!==g.trim()&&Ye(c,g)},eD=(c,u)=>{if(u.iconColor){c.style.color=u.iconColor,c.style.borderColor=u.iconColor;for(let f of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])qg(c,f,"background-color",u.iconColor);qg(c,".swal2-success-ring","border-color",u.iconColor)}},Xg=c=>`<div class="${h["icon-content"]}">${c}</div>`,tD=(c,u)=>{let f=$g();if(f){if(!u.imageUrl){Se(f);return}Ce(f,""),f.setAttribute("src",u.imageUrl),f.setAttribute("alt",u.imageAlt||""),jn(f,"width",u.imageWidth),jn(f,"height",u.imageHeight),f.className=h.image,Ke(f,u,"image")}},vu=!1,em=0,tm=0,nm=0,rm=0,nD=c=>{c.addEventListener("mousedown",ta),document.body.addEventListener("mousemove",na),c.addEventListener("mouseup",ra),c.addEventListener("touchstart",ta),document.body.addEventListener("touchmove",na),c.addEventListener("touchend",ra)},rD=c=>{c.removeEventListener("mousedown",ta),document.body.removeEventListener("mousemove",na),c.removeEventListener("mouseup",ra),c.removeEventListener("touchstart",ta),document.body.removeEventListener("touchmove",na),c.removeEventListener("touchend",ra)},ta=c=>{let u=z();if(c.target===u||Ur().contains(c.target)){vu=!0;let f=im(c);em=f.clientX,tm=f.clientY,nm=parseInt(u.style.insetInlineStart)||0,rm=parseInt(u.style.insetBlockStart)||0,q(u,"swal2-dragging")}},na=c=>{let u=z();if(vu){let{clientX:f,clientY:g}=im(c);u.style.insetInlineStart=`${nm+(f-em)}px`,u.style.insetBlockStart=`${rm+(g-tm)}px`}},ra=()=>{let c=z();vu=!1,st(c,"swal2-dragging")},im=c=>{let u=0,f=0;return c.type.startsWith("mouse")?(u=c.clientX,f=c.clientY):c.type.startsWith("touch")&&(u=c.touches[0].clientX,f=c.touches[0].clientY),{clientX:u,clientY:f}},iD=(c,u)=>{let f=_e(),g=z();if(!(!f||!g)){if(u.toast){jn(f,"width",u.width),g.style.width="100%";let v=Wr();v&&g.insertBefore(v,Ur())}else jn(g,"width",u.width);jn(g,"padding",u.padding),u.color&&(g.style.color=u.color),u.background&&(g.style.background=u.background),Se(Zs()),oD(g,u),u.draggable&&!u.toast?(q(g,h.draggable),nD(g)):(st(g,h.draggable),rD(g))}},oD=(c,u)=>{let f=u.showClass||{};c.className=`${h.popup} ${Le(c)?f.popup:""}`,u.toast?(q([document.documentElement,document.body],h["toast-shown"]),q(c,h.toast)):q(c,h.modal),Ke(c,u,"popup"),typeof u.customClass=="string"&&q(c,u.customClass),u.icon&&q(c,h[`icon-${u.icon}`])},sD=(c,u)=>{let f=au();if(!f)return;let{progressSteps:g,currentProgressStep:v}=u;if(!g||g.length===0||v===void 0){Se(f);return}Ce(f),f.textContent="",v>=g.length&&I("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),g.forEach((b,$)=>{let J=aD(b);if(f.appendChild(J),$===v&&q(J,h["active-progress-step"]),$!==g.length-1){let le=cD(u);f.appendChild(le)}})},aD=c=>{let u=document.createElement("li");return q(u,h["progress-step"]),Ye(u,c),u},cD=c=>{let u=document.createElement("li");return q(u,h["progress-step-line"]),c.progressStepsDistance&&jn(u,"width",c.progressStepsDistance),u},lD=(c,u)=>{let f=Ug();f&&(du(f),ao(f,u.title||u.titleText,"block"),u.title&&pu(u.title,f),u.titleText&&(f.innerText=u.titleText),Ke(f,u,"title"))},om=(c,u)=>{iD(c,u),jI(c,u),sD(c,u),QI(c,u),tD(c,u),lD(c,u),VI(c,u),KI(c,u),OI(c,u),ZI(c,u);let f=z();typeof u.didRender=="function"&&f&&u.didRender(f),s.eventEmitter.emit("didRender",f)},uD=()=>Le(z()),sm=()=>{var c;return(c=At())===null||c===void 0?void 0:c.click()},dD=()=>{var c;return(c=Vn())===null||c===void 0?void 0:c.click()},fD=()=>{var c;return(c=$r())===null||c===void 0?void 0:c.click()},zr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),am=c=>{c.keydownTarget&&c.keydownHandlerAdded&&(c.keydownTarget.removeEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!1)},hD=(c,u,f)=>{am(c),u.toast||(c.keydownHandler=g=>gD(u,g,f),c.keydownTarget=u.keydownListenerCapture?window:z(),c.keydownListenerCapture=u.keydownListenerCapture,c.keydownTarget.addEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!0)},_u=(c,u)=>{var f;let g=lu();if(g.length){c=c+u,c===-2&&(c=g.length-1),c===g.length?c=0:c===-1&&(c=g.length-1),g[c].focus();return}(f=z())===null||f===void 0||f.focus()},cm=["ArrowRight","ArrowDown"],pD=["ArrowLeft","ArrowUp"],gD=(c,u,f)=>{c&&(u.isComposing||u.keyCode===229||(c.stopKeydownPropagation&&u.stopPropagation(),u.key==="Enter"?mD(u,c):u.key==="Tab"?yD(u):[...cm,...pD].includes(u.key)?vD(u.key):u.key==="Escape"&&_D(u,c,f)))},mD=(c,u)=>{if(!On(u.allowEnterKey))return;let f=Xs(z(),u.input);if(c.target&&f&&c.target instanceof HTMLElement&&c.target.outerHTML===f.outerHTML){if(["textarea","file"].includes(u.input))return;sm(),c.preventDefault()}},yD=c=>{let u=c.target,f=lu(),g=-1;for(let v=0;v<f.length;v++)if(u===f[v]){g=v;break}c.shiftKey?_u(g,-1):_u(g,1),c.stopPropagation(),c.preventDefault()},vD=c=>{let u=so(),f=At(),g=Vn(),v=$r();if(!u||!f||!g||!v)return;let b=[f,g,v];if(document.activeElement instanceof HTMLElement&&!b.includes(document.activeElement))return;let $=cm.includes(c)?"nextElementSibling":"previousElementSibling",J=document.activeElement;if(J){for(let le=0;le<u.children.length;le++){if(J=J[$],!J)return;if(J instanceof HTMLButtonElement&&Le(J))break}J instanceof HTMLButtonElement&&J.focus()}},_D=(c,u,f)=>{c.preventDefault(),On(u.allowEscapeKey)&&f(zr.esc)};var Gr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let wD=()=>{let c=_e();Array.from(document.body.children).forEach(f=>{f.contains(c)||(f.hasAttribute("aria-hidden")&&f.setAttribute("data-previous-aria-hidden",f.getAttribute("aria-hidden")||""),f.setAttribute("aria-hidden","true"))})},lm=()=>{Array.from(document.body.children).forEach(u=>{u.hasAttribute("data-previous-aria-hidden")?(u.setAttribute("aria-hidden",u.getAttribute("data-previous-aria-hidden")||""),u.removeAttribute("data-previous-aria-hidden")):u.removeAttribute("aria-hidden")})},um=typeof window<"u"&&!!window.GestureEvent,ED=()=>{if(um&&!Jt(document.body,h.iosfix)){let c=document.body.scrollTop;document.body.style.top=`${c*-1}px`,q(document.body,h.iosfix),bD()}},bD=()=>{let c=_e();if(!c)return;let u;c.ontouchstart=f=>{u=CD(f)},c.ontouchmove=f=>{u&&(f.preventDefault(),f.stopPropagation())}},CD=c=>{let u=c.target,f=_e(),g=su();return!f||!g||ID(c)||DD(c)?!1:u===f||!fu(f)&&u instanceof HTMLElement&&!CI(u,g)&&u.tagName!=="INPUT"&&u.tagName!=="TEXTAREA"&&!(fu(g)&&g.contains(u))},ID=c=>c.touches&&c.touches.length&&c.touches[0].touchType==="stylus",DD=c=>c.touches&&c.touches.length>1,TD=()=>{if(Jt(document.body,h.iosfix)){let c=parseInt(document.body.style.top,10);st(document.body,h.iosfix),document.body.style.top="",document.body.scrollTop=c*-1}},SD=()=>{let c=document.createElement("div");c.className=h["scrollbar-measure"],document.body.appendChild(c);let u=c.getBoundingClientRect().width-c.clientWidth;return document.body.removeChild(c),u},qr=null,AD=c=>{qr===null&&(document.body.scrollHeight>window.innerHeight||c==="scroll")&&(qr=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${qr+SD()}px`)},ND=()=>{qr!==null&&(document.body.style.paddingRight=`${qr}px`,qr=null)};function dm(c,u,f,g){Js()?hm(c,g):(l(f).then(()=>hm(c,g)),am(s)),um?(u.setAttribute("style","display:none !important"),u.removeAttribute("class"),u.innerHTML=""):u.remove(),uu()&&(ND(),TD(),lm()),xD()}function xD(){st([document.documentElement,document.body],[h.shown,h["height-auto"],h["no-backdrop"],h["toast-shown"]])}function dn(c){c=kD(c);let u=Gr.swalPromiseResolve.get(this),f=MD(this);this.isAwaitingPromise?c.isDismissed||(lo(this),u(c)):f&&u(c)}let MD=c=>{let u=z();if(!u)return!1;let f=oe.innerParams.get(c);if(!f||Jt(u,f.hideClass.popup))return!1;st(u,f.showClass.popup),q(u,f.hideClass.popup);let g=_e();return st(g,f.showClass.backdrop),q(g,f.hideClass.backdrop),RD(c,u,f),!0};function fm(c){let u=Gr.swalPromiseReject.get(this);lo(this),u&&u(c)}let lo=c=>{c.isAwaitingPromise&&(delete c.isAwaitingPromise,oe.innerParams.get(c)||c._destroy())},kD=c=>typeof c>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},c),RD=(c,u,f)=>{var g;let v=_e(),b=Yg(u);typeof f.willClose=="function"&&f.willClose(u),(g=s.eventEmitter)===null||g===void 0||g.emit("willClose",u),b?PD(c,u,v,f.returnFocus,f.didClose):dm(c,v,f.returnFocus,f.didClose)},PD=(c,u,f,g,v)=>{s.swalCloseEventFinishedCallback=dm.bind(null,c,f,g,v);let b=function($){if($.target===u){var J;(J=s.swalCloseEventFinishedCallback)===null||J===void 0||J.call(s),delete s.swalCloseEventFinishedCallback,u.removeEventListener("animationend",b),u.removeEventListener("transitionend",b)}};u.addEventListener("animationend",b),u.addEventListener("transitionend",b)},hm=(c,u)=>{setTimeout(()=>{var f;typeof u=="function"&&u.bind(c.params)(),(f=s.eventEmitter)===null||f===void 0||f.emit("didClose"),c._destroy&&c._destroy()})},Yr=c=>{let u=z();if(u||new la,u=z(),!u)return;let f=Wr();Js()?Se(Ur()):OD(u,c),Ce(f),u.setAttribute("data-loading","true"),u.setAttribute("aria-busy","true"),u.focus()},OD=(c,u)=>{let f=so(),g=Wr();!f||!g||(!u&&Le(At())&&(u=At()),Ce(f),u&&(Se(u),g.setAttribute("data-button-to-replace",u.className),f.insertBefore(g,u)),q([c,f],h.loading))},FD=(c,u)=>{u.input==="select"||u.input==="radio"?HD(c,u):["text","email","number","tel","textarea"].some(f=>f===u.input)&&(Fn(u.inputValue)||oo(u.inputValue))&&(Yr(At()),UD(c,u))},LD=(c,u)=>{let f=c.getInput();if(!f)return null;switch(u.input){case"checkbox":return VD(f);case"radio":return jD(f);case"file":return BD(f);default:return u.inputAutoTrim?f.value.trim():f.value}},VD=c=>c.checked?1:0,jD=c=>c.checked?c.value:null,BD=c=>c.files&&c.files.length?c.getAttribute("multiple")!==null?c.files:c.files[0]:null,HD=(c,u)=>{let f=z();if(!f)return;let g=v=>{u.input==="select"?$D(f,ia(v),u):u.input==="radio"&&WD(f,ia(v),u)};Fn(u.inputOptions)||oo(u.inputOptions)?(Yr(At()),ln(u.inputOptions).then(v=>{c.hideLoading(),g(v)})):typeof u.inputOptions=="object"?g(u.inputOptions):T(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof u.inputOptions}`)},UD=(c,u)=>{let f=c.getInput();f&&(Se(f),ln(u.inputValue).then(g=>{f.value=u.input==="number"?`${parseFloat(g)||0}`:`${g}`,Ce(f),f.focus(),c.hideLoading()}).catch(g=>{T(`Error in inputValue promise: ${g}`),f.value="",Ce(f),f.focus(),c.hideLoading()}))};function $D(c,u,f){let g=un(c,h.select);if(!g)return;let v=(b,$,J)=>{let le=document.createElement("option");le.value=J,Ye(le,$),le.selected=pm(J,f.inputValue),b.appendChild(le)};u.forEach(b=>{let $=b[0],J=b[1];if(Array.isArray(J)){let le=document.createElement("optgroup");le.label=$,le.disabled=!1,g.appendChild(le),J.forEach(Zr=>v(le,Zr[1],Zr[0]))}else v(g,J,$)}),g.focus()}function WD(c,u,f){let g=un(c,h.radio);if(!g)return;u.forEach(b=>{let $=b[0],J=b[1],le=document.createElement("input"),Zr=document.createElement("label");le.type="radio",le.name=h.radio,le.value=$,pm($,f.inputValue)&&(le.checked=!0);let Iu=document.createElement("span");Ye(Iu,J),Iu.className=h.label,Zr.appendChild(le),Zr.appendChild(Iu),g.appendChild(Zr)});let v=g.querySelectorAll("input");v.length&&v[0].focus()}let ia=c=>{let u=[];return c instanceof Map?c.forEach((f,g)=>{let v=f;typeof v=="object"&&(v=ia(v)),u.push([g,v])}):Object.keys(c).forEach(f=>{let g=c[f];typeof g=="object"&&(g=ia(g)),u.push([f,g])}),u},pm=(c,u)=>!!u&&u.toString()===c.toString(),zD=c=>{let u=oe.innerParams.get(c);c.disableButtons(),u.input?gm(c,"confirm"):Eu(c,!0)},GD=c=>{let u=oe.innerParams.get(c);c.disableButtons(),u.returnInputValueOnDeny?gm(c,"deny"):wu(c,!1)},qD=(c,u)=>{c.disableButtons(),u(zr.cancel)},gm=(c,u)=>{let f=oe.innerParams.get(c);if(!f.input){T(`The "input" parameter is needed to be set when using returnInputValueOn${C(u)}`);return}let g=c.getInput(),v=LD(c,f);f.inputValidator?YD(c,v,u):g&&!g.checkValidity()?(c.enableButtons(),c.showValidationMessage(f.validationMessage||g.validationMessage)):u==="deny"?wu(c,v):Eu(c,v)},YD=(c,u,f)=>{let g=oe.innerParams.get(c);c.disableInput(),Promise.resolve().then(()=>ln(g.inputValidator(u,g.validationMessage))).then(b=>{c.enableButtons(),c.enableInput(),b?c.showValidationMessage(b):f==="deny"?wu(c,u):Eu(c,u)})},wu=(c,u)=>{let f=oe.innerParams.get(c||void 0);f.showLoaderOnDeny&&Yr(Vn()),f.preDeny?(c.isAwaitingPromise=!0,Promise.resolve().then(()=>ln(f.preDeny(u,f.validationMessage))).then(v=>{v===!1?(c.hideLoading(),lo(c)):c.close({isDenied:!0,value:typeof v>"u"?u:v})}).catch(v=>ym(c||void 0,v))):c.close({isDenied:!0,value:u})},mm=(c,u)=>{c.close({isConfirmed:!0,value:u})},ym=(c,u)=>{c.rejectPromise(u)},Eu=(c,u)=>{let f=oe.innerParams.get(c||void 0);f.showLoaderOnConfirm&&Yr(),f.preConfirm?(c.resetValidationMessage(),c.isAwaitingPromise=!0,Promise.resolve().then(()=>ln(f.preConfirm(u,f.validationMessage))).then(v=>{Le(Zs())||v===!1?(c.hideLoading(),lo(c)):mm(c,typeof v>"u"?u:v)}).catch(v=>ym(c||void 0,v))):mm(c,u)};function oa(){let c=oe.innerParams.get(this);if(!c)return;let u=oe.domCache.get(this);Se(u.loader),Js()?c.icon&&Ce(Ur()):KD(u),st([u.popup,u.actions],h.loading),u.popup.removeAttribute("aria-busy"),u.popup.removeAttribute("data-loading"),u.confirmButton.disabled=!1,u.denyButton.disabled=!1,u.cancelButton.disabled=!1}let KD=c=>{let u=c.popup.getElementsByClassName(c.loader.getAttribute("data-button-to-replace"));u.length?Ce(u[0],"inline-block"):bI()&&Se(c.actions)};function vm(){let c=oe.innerParams.get(this),u=oe.domCache.get(this);return u?Xs(u.popup,c.input):null}function _m(c,u,f){let g=oe.domCache.get(c);u.forEach(v=>{g[v].disabled=f})}function wm(c,u){let f=z();if(!(!f||!c))if(c.type==="radio"){let g=f.querySelectorAll(`[name="${h.radio}"]`);for(let v=0;v<g.length;v++)g[v].disabled=u}else c.disabled=u}function Em(){_m(this,["confirmButton","denyButton","cancelButton"],!1)}function bm(){_m(this,["confirmButton","denyButton","cancelButton"],!0)}function Cm(){wm(this.getInput(),!1)}function Im(){wm(this.getInput(),!0)}function Dm(c){let u=oe.domCache.get(this),f=oe.innerParams.get(this);Ye(u.validationMessage,c),u.validationMessage.className=h["validation-message"],f.customClass&&f.customClass.validationMessage&&q(u.validationMessage,f.customClass.validationMessage),Ce(u.validationMessage);let g=this.getInput();g&&(g.setAttribute("aria-invalid","true"),g.setAttribute("aria-describedby",h["validation-message"]),zg(g),q(g,h.inputerror))}function Tm(){let c=oe.domCache.get(this);c.validationMessage&&Se(c.validationMessage);let u=this.getInput();u&&(u.removeAttribute("aria-invalid"),u.removeAttribute("aria-describedby"),st(u,h.inputerror))}let Kr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},ZD=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],QD={allowEnterKey:void 0},JD=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Sm=c=>Object.prototype.hasOwnProperty.call(Kr,c),Am=c=>ZD.indexOf(c)!==-1,Nm=c=>QD[c],XD=c=>{Sm(c)||I(`Unknown parameter "${c}"`)},e0=c=>{JD.includes(c)&&I(`The parameter "${c}" is incompatible with toasts`)},t0=c=>{let u=Nm(c);u&&Qt(c,u)},xm=c=>{c.backdrop===!1&&c.allowOutsideClick&&I('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),c.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(c.theme)&&I(`Invalid theme "${c.theme}"`);for(let u in c)XD(u),c.toast&&e0(u),t0(u)};function Mm(c){let u=_e(),f=z(),g=oe.innerParams.get(this);if(!f||Jt(f,g.hideClass.popup)){I("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let v=n0(c),b=Object.assign({},g,v);xm(b),u.dataset.swal2Theme=b.theme,om(this,b),oe.innerParams.set(this,b),Object.defineProperties(this,{params:{value:Object.assign({},this.params,c),writable:!1,enumerable:!0}})}let n0=c=>{let u={};return Object.keys(c).forEach(f=>{Am(f)?u[f]=c[f]:I(`Invalid parameter to update: ${f}`)}),u};function km(){let c=oe.domCache.get(this),u=oe.innerParams.get(this);if(!u){Rm(this);return}c.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof u.didDestroy=="function"&&u.didDestroy(),s.eventEmitter.emit("didDestroy"),r0(this)}let r0=c=>{Rm(c),delete c.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},Rm=c=>{c.isAwaitingPromise?(bu(oe,c),c.isAwaitingPromise=!0):(bu(Gr,c),bu(oe,c),delete c.isAwaitingPromise,delete c.disableButtons,delete c.enableButtons,delete c.getInput,delete c.disableInput,delete c.enableInput,delete c.hideLoading,delete c.disableLoading,delete c.showValidationMessage,delete c.resetValidationMessage,delete c.close,delete c.closePopup,delete c.closeModal,delete c.closeToast,delete c.rejectPromise,delete c.update,delete c._destroy)},bu=(c,u)=>{for(let f in c)c[f].delete(u)};var i0=Object.freeze({__proto__:null,_destroy:km,close:dn,closeModal:dn,closePopup:dn,closeToast:dn,disableButtons:bm,disableInput:Im,disableLoading:oa,enableButtons:Em,enableInput:Cm,getInput:vm,handleAwaitingPromise:lo,hideLoading:oa,rejectPromise:fm,resetValidationMessage:Tm,showValidationMessage:Dm,update:Mm});let o0=(c,u,f)=>{c.toast?s0(c,u,f):(c0(u),l0(u),u0(c,u,f))},s0=(c,u,f)=>{u.popup.onclick=()=>{c&&(a0(c)||c.timer||c.input)||f(zr.close)}},a0=c=>!!(c.showConfirmButton||c.showDenyButton||c.showCancelButton||c.showCloseButton),sa=!1,c0=c=>{c.popup.onmousedown=()=>{c.container.onmouseup=function(u){c.container.onmouseup=()=>{},u.target===c.container&&(sa=!0)}}},l0=c=>{c.container.onmousedown=u=>{u.target===c.container&&u.preventDefault(),c.popup.onmouseup=function(f){c.popup.onmouseup=()=>{},(f.target===c.popup||f.target instanceof HTMLElement&&c.popup.contains(f.target))&&(sa=!0)}}},u0=(c,u,f)=>{u.container.onclick=g=>{if(sa){sa=!1;return}g.target===u.container&&On(c.allowOutsideClick)&&f(zr.backdrop)}},d0=c=>typeof c=="object"&&c.jquery,Pm=c=>c instanceof Element||d0(c),f0=c=>{let u={};return typeof c[0]=="object"&&!Pm(c[0])?Object.assign(u,c[0]):["title","html","icon"].forEach((f,g)=>{let v=c[g];typeof v=="string"||Pm(v)?u[f]=v:v!==void 0&&T(`Unexpected type of ${f}! Expected "string" or "Element", got ${typeof v}`)}),u};function h0(...c){return new this(...c)}function p0(c){class u extends this{_main(g,v){return super._main(g,Object.assign({},c,v))}}return u}let g0=()=>s.timeout&&s.timeout.getTimerLeft(),Om=()=>{if(s.timeout)return II(),s.timeout.stop()},Fm=()=>{if(s.timeout){let c=s.timeout.start();return hu(c),c}},m0=()=>{let c=s.timeout;return c&&(c.running?Om():Fm())},y0=c=>{if(s.timeout){let u=s.timeout.increase(c);return hu(u,!0),u}},v0=()=>!!(s.timeout&&s.timeout.isRunning()),Lm=!1,Cu={};function _0(c="data-swal-template"){Cu[c]=this,Lm||(document.body.addEventListener("click",w0),Lm=!0)}let w0=c=>{for(let u=c.target;u&&u!==document;u=u.parentNode)for(let f in Cu){let g=u.getAttribute(f);if(g){Cu[f].fire({template:g});return}}};class E0{constructor(){this.events={}}_getHandlersByEventName(u){return typeof this.events[u]>"u"&&(this.events[u]=[]),this.events[u]}on(u,f){let g=this._getHandlersByEventName(u);g.includes(f)||g.push(f)}once(u,f){let g=(...v)=>{this.removeListener(u,g),f.apply(this,v)};this.on(u,g)}emit(u,...f){this._getHandlersByEventName(u).forEach(g=>{try{g.apply(this,f)}catch(v){console.error(v)}})}removeListener(u,f){let g=this._getHandlersByEventName(u),v=g.indexOf(f);v>-1&&g.splice(v,1)}removeAllListeners(u){this.events[u]!==void 0&&(this.events[u].length=0)}reset(){this.events={}}}s.eventEmitter=new E0;var b0=Object.freeze({__proto__:null,argsToParams:f0,bindClickHandler:_0,clickCancel:fD,clickConfirm:sm,clickDeny:dD,enableLoading:Yr,fire:h0,getActions:so,getCancelButton:$r,getCloseButton:cu,getConfirmButton:At,getContainer:_e,getDenyButton:Vn,getFocusableElements:lu,getFooter:Wg,getHtmlContainer:su,getIcon:Ur,getIconContent:yI,getImage:$g,getInputLabel:vI,getLoader:Wr,getPopup:z,getProgressSteps:au,getTimerLeft:g0,getTimerProgressBar:Qs,getTitle:Ug,getValidationMessage:Zs,increaseTimer:y0,isDeprecatedParameter:Nm,isLoading:wI,isTimerRunning:v0,isUpdatableParameter:Am,isValidParameter:Sm,isVisible:uD,mixin:p0,off:(c,u)=>{if(!c){s.eventEmitter.reset();return}u?s.eventEmitter.removeListener(c,u):s.eventEmitter.removeAllListeners(c)},on:(c,u)=>{s.eventEmitter.on(c,u)},once:(c,u)=>{s.eventEmitter.once(c,u)},resumeTimer:Fm,showLoading:Yr,stopTimer:Om,toggleTimer:m0});class C0{constructor(u,f){this.callback=u,this.remaining=f,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(u){let f=this.running;return f&&this.stop(),this.remaining+=u,f&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let Vm=["swal-title","swal-html","swal-footer"],I0=c=>{let u=typeof c.template=="string"?document.querySelector(c.template):c.template;if(!u)return{};let f=u.content;return k0(f),Object.assign(D0(f),T0(f),S0(f),A0(f),N0(f),x0(f),M0(f,Vm))},D0=c=>{let u={};return Array.from(c.querySelectorAll("swal-param")).forEach(g=>{Hn(g,["name","value"]);let v=g.getAttribute("name"),b=g.getAttribute("value");!v||!b||(typeof Kr[v]=="boolean"?u[v]=b!=="false":typeof Kr[v]=="object"?u[v]=JSON.parse(b):u[v]=b)}),u},T0=c=>{let u={};return Array.from(c.querySelectorAll("swal-function-param")).forEach(g=>{let v=g.getAttribute("name"),b=g.getAttribute("value");!v||!b||(u[v]=new Function(`return ${b}`)())}),u},S0=c=>{let u={};return Array.from(c.querySelectorAll("swal-button")).forEach(g=>{Hn(g,["type","color","aria-label"]);let v=g.getAttribute("type");!v||!["confirm","cancel","deny"].includes(v)||(u[`${v}ButtonText`]=g.innerHTML,u[`show${C(v)}Button`]=!0,g.hasAttribute("color")&&(u[`${v}ButtonColor`]=g.getAttribute("color")),g.hasAttribute("aria-label")&&(u[`${v}ButtonAriaLabel`]=g.getAttribute("aria-label")))}),u},A0=c=>{let u={},f=c.querySelector("swal-image");return f&&(Hn(f,["src","width","height","alt"]),f.hasAttribute("src")&&(u.imageUrl=f.getAttribute("src")||void 0),f.hasAttribute("width")&&(u.imageWidth=f.getAttribute("width")||void 0),f.hasAttribute("height")&&(u.imageHeight=f.getAttribute("height")||void 0),f.hasAttribute("alt")&&(u.imageAlt=f.getAttribute("alt")||void 0)),u},N0=c=>{let u={},f=c.querySelector("swal-icon");return f&&(Hn(f,["type","color"]),f.hasAttribute("type")&&(u.icon=f.getAttribute("type")),f.hasAttribute("color")&&(u.iconColor=f.getAttribute("color")),u.iconHtml=f.innerHTML),u},x0=c=>{let u={},f=c.querySelector("swal-input");f&&(Hn(f,["type","label","placeholder","value"]),u.input=f.getAttribute("type")||"text",f.hasAttribute("label")&&(u.inputLabel=f.getAttribute("label")),f.hasAttribute("placeholder")&&(u.inputPlaceholder=f.getAttribute("placeholder")),f.hasAttribute("value")&&(u.inputValue=f.getAttribute("value")));let g=Array.from(c.querySelectorAll("swal-input-option"));return g.length&&(u.inputOptions={},g.forEach(v=>{Hn(v,["value"]);let b=v.getAttribute("value");if(!b)return;let $=v.innerHTML;u.inputOptions[b]=$})),u},M0=(c,u)=>{let f={};for(let g in u){let v=u[g],b=c.querySelector(v);b&&(Hn(b,[]),f[v.replace(/^swal-/,"")]=b.innerHTML.trim())}return f},k0=c=>{let u=Vm.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(c.children).forEach(f=>{let g=f.tagName.toLowerCase();u.includes(g)||I(`Unrecognized element <${g}>`)})},Hn=(c,u)=>{Array.from(c.attributes).forEach(f=>{u.indexOf(f.name)===-1&&I([`Unrecognized attribute "${f.name}" on <${c.tagName.toLowerCase()}>.`,`${u.length?`Allowed attributes are: ${u.join(", ")}`:"To set the value, use HTML within the element."}`])})},jm=10,R0=c=>{let u=_e(),f=z();typeof c.willOpen=="function"&&c.willOpen(f),s.eventEmitter.emit("willOpen",f);let v=window.getComputedStyle(document.body).overflowY;F0(u,f,c),setTimeout(()=>{P0(u,f)},jm),uu()&&(O0(u,c.scrollbarPadding,v),wD()),!Js()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof c.didOpen=="function"&&setTimeout(()=>c.didOpen(f)),s.eventEmitter.emit("didOpen",f),st(u,h["no-transition"])},aa=c=>{let u=z();if(c.target!==u)return;let f=_e();u.removeEventListener("animationend",aa),u.removeEventListener("transitionend",aa),f.style.overflowY="auto"},P0=(c,u)=>{Yg(u)?(c.style.overflowY="hidden",u.addEventListener("animationend",aa),u.addEventListener("transitionend",aa)):c.style.overflowY="auto"},O0=(c,u,f)=>{ED(),u&&f!=="hidden"&&AD(f),setTimeout(()=>{c.scrollTop=0})},F0=(c,u,f)=>{q(c,f.showClass.backdrop),f.animation?(u.style.setProperty("opacity","0","important"),Ce(u,"grid"),setTimeout(()=>{q(u,f.showClass.popup),u.style.removeProperty("opacity")},jm)):Ce(u,"grid"),q([document.documentElement,document.body],h.shown),f.heightAuto&&f.backdrop&&!f.toast&&q([document.documentElement,document.body],h["height-auto"])};var Bm={email:(c,u)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(c)?Promise.resolve():Promise.resolve(u||"Invalid email address"),url:(c,u)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(c)?Promise.resolve():Promise.resolve(u||"Invalid URL")};function L0(c){c.inputValidator||(c.input==="email"&&(c.inputValidator=Bm.email),c.input==="url"&&(c.inputValidator=Bm.url))}function V0(c){(!c.target||typeof c.target=="string"&&!document.querySelector(c.target)||typeof c.target!="string"&&!c.target.appendChild)&&(I('Target parameter is not valid, defaulting to "body"'),c.target="body")}function j0(c){L0(c),c.showLoaderOnConfirm&&!c.preConfirm&&I(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),V0(c),typeof c.title=="string"&&(c.title=c.title.split(`
`).join("<br />")),kI(c)}let Nt;var ca=new WeakMap;class he{constructor(...u){if(r(this,ca,void 0),typeof window>"u")return;Nt=this;let f=Object.freeze(this.constructor.argsToParams(u));this.params=f,this.isAwaitingPromise=!1,i(ca,this,this._main(Nt.params))}_main(u,f={}){if(xm(Object.assign({},f,u)),s.currentInstance){let b=Gr.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:$}=s.currentInstance;s.currentInstance._destroy(),$||b({isDismissed:!0}),uu()&&lm()}s.currentInstance=Nt;let g=H0(u,f);j0(g),Object.freeze(g),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let v=U0(Nt);return om(Nt,g),oe.innerParams.set(Nt,g),B0(Nt,v,g)}then(u){return n(ca,this).then(u)}finally(u){return n(ca,this).finally(u)}}let B0=(c,u,f)=>new Promise((g,v)=>{let b=$=>{c.close({isDismissed:!0,dismiss:$})};Gr.swalPromiseResolve.set(c,g),Gr.swalPromiseReject.set(c,v),u.confirmButton.onclick=()=>{zD(c)},u.denyButton.onclick=()=>{GD(c)},u.cancelButton.onclick=()=>{qD(c,b)},u.closeButton.onclick=()=>{b(zr.close)},o0(f,u,b),hD(s,f,b),FD(c,f),R0(f),$0(s,f,b),W0(u,f),setTimeout(()=>{u.container.scrollTop=0})}),H0=(c,u)=>{let f=I0(c),g=Object.assign({},Kr,u,f,c);return g.showClass=Object.assign({},Kr.showClass,g.showClass),g.hideClass=Object.assign({},Kr.hideClass,g.hideClass),g.animation===!1&&(g.showClass={backdrop:"swal2-noanimation"},g.hideClass={}),g},U0=c=>{let u={popup:z(),container:_e(),actions:so(),confirmButton:At(),denyButton:Vn(),cancelButton:$r(),loader:Wr(),closeButton:cu(),validationMessage:Zs(),progressSteps:au()};return oe.domCache.set(c,u),u},$0=(c,u,f)=>{let g=Qs();Se(g),u.timer&&(c.timeout=new C0(()=>{f("timer"),delete c.timeout},u.timer),u.timerProgressBar&&(Ce(g),Ke(g,u,"timerProgressBar"),setTimeout(()=>{c.timeout&&c.timeout.running&&hu(u.timer)})))},W0=(c,u)=>{if(!u.toast){if(!On(u.allowEnterKey)){Qt("allowEnterKey"),q0();return}z0(c)||G0(c,u)||_u(-1,1)}},z0=c=>{let u=Array.from(c.popup.querySelectorAll("[autofocus]"));for(let f of u)if(f instanceof HTMLElement&&Le(f))return f.focus(),!0;return!1},G0=(c,u)=>u.focusDeny&&Le(c.denyButton)?(c.denyButton.focus(),!0):u.focusCancel&&Le(c.cancelButton)?(c.cancelButton.focus(),!0):u.focusConfirm&&Le(c.confirmButton)?(c.confirmButton.focus(),!0):!1,q0=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};he.prototype.disableButtons=bm,he.prototype.enableButtons=Em,he.prototype.getInput=vm,he.prototype.disableInput=Im,he.prototype.enableInput=Cm,he.prototype.hideLoading=oa,he.prototype.disableLoading=oa,he.prototype.showValidationMessage=Dm,he.prototype.resetValidationMessage=Tm,he.prototype.close=dn,he.prototype.closePopup=dn,he.prototype.closeModal=dn,he.prototype.closeToast=dn,he.prototype.rejectPromise=fm,he.prototype.update=Mm,he.prototype._destroy=km,Object.assign(he,b0),Object.keys(i0).forEach(c=>{he[c]=function(...u){return Nt&&Nt[c]?Nt[c](...u):null}}),he.DismissReason=zr,he.version="11.23.0";let la=he;return la.default=la,la});typeof Bt<"u"&&Bt.Sweetalert2&&(Bt.swal=Bt.sweetAlert=Bt.Swal=Bt.SweetAlert=Bt.Sweetalert2);typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});var Tu;function ua(){return Tu}function xt(t){let e=Tu;return Tu=t,e}var Wm=Symbol("NotFound");function Qr(t){return t===Wm||t?.name==="\u0275NotFound"}function ga(t,e){return Object.is(t,e)}var Ae=null,da=!1,Su=1,iT=null,Ne=Symbol("SIGNAL");function O(t){let e=Ae;return Ae=t,e}function ma(){return Ae}var Jr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xr(t){if(da)throw new Error("");if(Ae===null)return;Ae.consumerOnSignalRead(t);let e=Ae.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=Ae.recomputing;if(r&&(n=e!==void 0?e.nextProducer:Ae.producers,n!==void 0&&n.producer===t)){Ae.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===Ae&&(!r||sT(i,Ae)))return;let o=ti(Ae),s={producer:t,consumer:Ae,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};Ae.producersTail=s,e!==void 0?e.nextProducer=s:Ae.producers=s,o&&Gm(t,s)}function zm(){Su++}function ya(t){if(!(ti(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Su)){if(!t.producerMustRecompute(t)&&!ho(t)){pa(t);return}t.producerRecomputeValue(t),pa(t)}}function Au(t){if(t.consumers===void 0)return;let e=da;da=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||oT(r)}}finally{da=e}}function Nu(){return Ae?.consumerAllowSignalWrites!==!1}function oT(t){t.dirty=!0,Au(t),t.consumerMarkedDirty?.(t)}function pa(t){t.dirty=!1,t.lastCleanEpoch=Su}function ei(t){return t&&(t.producersTail=void 0,t.recomputing=!0),O(t)}function fo(t,e){if(O(e),!t)return;t.recomputing=!1;let n=t.producersTail,r=n!==void 0?n.nextProducer:t.producers;if(r!==void 0){if(ti(t))do r=xu(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function ho(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(ya(n),r!==n.version))return!0}return!1}function po(t){if(ti(t)){let e=t.producers;for(;e!==void 0;)e=xu(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Gm(t,e){let n=t.consumersTail,r=ti(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)Gm(i.producer,i)}function xu(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ti(e)){let o=e.producers;for(;o!==void 0;)o=xu(o)}return n}function ti(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function va(t){iT?.(t)}function sT(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function _a(t,e){let n=Object.create(aT);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(ya(n),Xr(n),n.value===uo)throw n.error;return n.value};return r[Ne]=n,va(n),r}var fa=Symbol("UNSET"),ha=Symbol("COMPUTING"),uo=Symbol("ERRORED"),aT=ne(X({},Jr),{value:fa,dirty:!0,error:null,equal:ga,kind:"computed",producerMustRecompute(t){return t.value===fa||t.value===ha},producerRecomputeValue(t){if(t.value===ha)throw new Error("");let e=t.value;t.value=ha;let n=ei(t),r,i=!1;try{r=t.computation(),O(null),i=e!==fa&&e!==uo&&r!==uo&&t.equal(e,r)}catch(o){r=uo,t.error=o}finally{fo(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function cT(){throw new Error}var qm=cT;function Ym(t){qm(t)}function Mu(t){qm=t}var lT=null;function ku(t,e){let n=Object.create(wa);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Km(n);return r[Ne]=n,va(n),[r,s=>ni(n,s),s=>Ru(n,s)]}function Km(t){return Xr(t),t.value}function ni(t,e){Nu()||Ym(t),t.equal(t.value,e)||(t.value=e,uT(t))}function Ru(t,e){Nu()||Ym(t),ni(t,e(t.value))}var wa=ne(X({},Jr),{equal:ga,value:void 0,kind:"signal"});function uT(t){t.version++,zm(),Au(t),lT?.(t)}function A(t){return typeof t=="function"}function ri(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ea=ri(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Un(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var me=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(A(r))try{r()}catch(o){e=o instanceof Ea?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Zm(o)}catch(s){e=e??[],s instanceof Ea?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ea(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Zm(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Un(n,e)}remove(e){let{_finalizers:n}=this;n&&Un(n,e),e instanceof t&&e._removeParent(this)}};me.EMPTY=(()=>{let t=new me;return t.closed=!0,t})();var Pu=me.EMPTY;function ba(t){return t instanceof me||t&&"closed"in t&&A(t.remove)&&A(t.add)&&A(t.unsubscribe)}function Zm(t){A(t)?t():t.unsubscribe()}var ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ii={setTimeout(t,e,...n){let{delegate:r}=ii;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ii;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ca(t){ii.setTimeout(()=>{let{onUnhandledError:e}=ht;if(e)e(t);else throw t})}function $n(){}var Qm=Ou("C",void 0,void 0);function Jm(t){return Ou("E",void 0,t)}function Xm(t){return Ou("N",t,void 0)}function Ou(t,e,n){return{kind:t,value:e,error:n}}var Wn=null;function oi(t){if(ht.useDeprecatedSynchronousErrorHandling){let e=!Wn;if(e&&(Wn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Wn;if(Wn=null,n)throw r}}else t()}function ey(t){ht.useDeprecatedSynchronousErrorHandling&&Wn&&(Wn.errorThrown=!0,Wn.error=t)}var zn=class extends me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ba(e)&&e.add(this)):this.destination=hT}static create(e,n,r){return new si(e,n,r)}next(e){this.isStopped?Lu(Xm(e),this):this._next(e)}error(e){this.isStopped?Lu(Jm(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lu(Qm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},dT=Function.prototype.bind;function Fu(t,e){return dT.call(t,e)}var Vu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ia(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ia(r)}else Ia(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ia(n)}}},si=class extends zn{constructor(e,n,r){super();let i;if(A(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ht.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fu(e.next,o),error:e.error&&Fu(e.error,o),complete:e.complete&&Fu(e.complete,o)}):i=e}this.destination=new Vu(i)}};function Ia(t){ht.useDeprecatedSynchronousErrorHandling?ey(t):Ca(t)}function fT(t){throw t}function Lu(t,e){let{onStoppedNotification:n}=ht;n&&ii.setTimeout(()=>n(t,e))}var hT={closed:!0,next:$n,error:fT,complete:$n};var ai=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ze(t){return t}function pT(...t){return ju(t)}function ju(t){return t.length===0?Ze:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var k=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=mT(n)?n:new si(n,r,i);return oi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ty(r),new r((i,o)=>{let s=new si({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ai](){return this}pipe(...n){return ju(n)(this)}toPromise(n){return n=ty(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function ty(t){var e;return(e=t??ht.Promise)!==null&&e!==void 0?e:Promise}function gT(t){return t&&A(t.next)&&A(t.error)&&A(t.complete)}function mT(t){return t&&t instanceof zn||gT(t)&&ba(t)}function Bu(t){return A(t?.lift)}function W(t){return e=>{if(Bu(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function B(t,e,n,r,i){return new Hu(t,e,n,r,i)}var Hu=class extends zn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Uu(){return W((t,e)=>{let n=null;t._refCount++;let r=B(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var $u=class extends k{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Bu(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new me;let n=this.getSubject();e.add(this.source.subscribe(B(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=me.EMPTY)}return e}refCount(){return Uu()(this)}};var ny=ri(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pt=(()=>{class t extends k{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Da(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ny}next(n){oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Pu:(this.currentObservers=null,o.push(n),new me(()=>{this.currentObservers=null,Un(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new k;return n.source=this,n}}return t.create=(e,n)=>new Da(e,n),t})(),Da=class extends pt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Pu}};var go=class extends pt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Wu={now(){return(Wu.delegate||Date).now()},delegate:void 0};var Ta=class extends me{constructor(e,n){super()}schedule(e,n=0){return this}};var mo={setInterval(t,e,...n){let{delegate:r}=mo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=mo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ci=class extends Ta{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return mo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&mo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Un(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var li=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};li.now=Wu.now;var ui=class extends li{constructor(e,n=li.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var zu=new ui(ci);var Sa=class extends ci{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Aa=class extends ui{};var Gu=new Aa(Sa);var yo=new k(t=>t.complete());function ry(t){return t&&A(t.schedule)}function iy(t){return t[t.length-1]}function Na(t){return A(iy(t))?t.pop():void 0}function fn(t){return ry(iy(t))?t.pop():void 0}function qu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sy(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(h){s(h)}}function l(p){try{d(r.throw(p))}catch(h){s(h)}}function d(p){p.done?o(p.value):i(p.value).then(a,l)}d((r=r.apply(t,e||[])).next())})}function oy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gn(t){return this instanceof Gn?(this.v=t,this):new Gn(t)}function ay(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(_){return Promise.resolve(_).then(y,h)}}function a(y,_){r[y]&&(i[y]=function(C){return new Promise(function(I,T){o.push([y,C,I,T])>1||l(y,C)})},_&&(i[y]=_(i[y])))}function l(y,_){try{d(r[y](_))}catch(C){m(o[0][3],C)}}function d(y){y.value instanceof Gn?Promise.resolve(y.value.v).then(p,h):m(o[0][2],y)}function p(y){l("next",y)}function h(y){l("throw",y)}function m(y,_){y(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function cy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof oy=="function"?oy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var xa=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ma(t){return A(t?.then)}function ka(t){return A(t[ai])}function Ra(t){return Symbol.asyncIterator&&A(t?.[Symbol.asyncIterator])}function Pa(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function yT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Oa=yT();function Fa(t){return A(t?.[Oa])}function La(t){return ay(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Gn(n.read());if(i)return yield Gn(void 0);yield yield Gn(r)}}finally{n.releaseLock()}})}function Va(t){return A(t?.getReader)}function ye(t){if(t instanceof k)return t;if(t!=null){if(ka(t))return vT(t);if(xa(t))return _T(t);if(Ma(t))return wT(t);if(Ra(t))return ly(t);if(Fa(t))return ET(t);if(Va(t))return bT(t)}throw Pa(t)}function vT(t){return new k(e=>{let n=t[ai]();if(A(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function _T(t){return new k(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function wT(t){return new k(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ca)})}function ET(t){return new k(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function ly(t){return new k(e=>{CT(t,e).catch(n=>e.error(n))})}function bT(t){return ly(La(t))}function CT(t,e){var n,r,i,o;return sy(this,void 0,void 0,function*(){try{for(n=cy(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ve(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function hn(t,e=0){return W((n,r)=>{n.subscribe(B(r,i=>Ve(r,t,()=>r.next(i),e),()=>Ve(r,t,()=>r.complete(),e),i=>Ve(r,t,()=>r.error(i),e)))})}function pn(t,e=0){return W((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function uy(t,e){return ye(t).pipe(pn(e),hn(e))}function dy(t,e){return ye(t).pipe(pn(e),hn(e))}function fy(t,e){return new k(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function hy(t,e){return new k(n=>{let r;return Ve(n,e,()=>{r=t[Oa](),Ve(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>A(r?.return)&&r.return()})}function ja(t,e){if(!t)throw new Error("Iterable cannot be null");return new k(n=>{Ve(n,e,()=>{let r=t[Symbol.asyncIterator]();Ve(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function py(t,e){return ja(La(t),e)}function gy(t,e){if(t!=null){if(ka(t))return uy(t,e);if(xa(t))return fy(t,e);if(Ma(t))return dy(t,e);if(Ra(t))return ja(t,e);if(Fa(t))return hy(t,e);if(Va(t))return py(t,e)}throw Pa(t)}function Mt(t,e){return e?gy(t,e):ye(t)}function IT(...t){let e=fn(t);return Mt(t,e)}function DT(t,e){let n=A(t)?t:()=>t,r=i=>i.error(n());return new k(e?i=>e.schedule(r,0,i):r)}function TT(t){return!!t&&(t instanceof k||A(t.lift)&&A(t.subscribe))}var qn=ri(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Xt(t,e){return W((n,r)=>{let i=0;n.subscribe(B(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:ST}=Array;function AT(t,e){return ST(e)?t(...e):t(e)}function Ba(t){return Xt(e=>AT(t,e))}var{isArray:NT}=Array,{getPrototypeOf:xT,prototype:MT,keys:kT}=Object;function Ha(t){if(t.length===1){let e=t[0];if(NT(e))return{args:e,keys:null};if(RT(e)){let n=kT(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function RT(t){return t&&typeof t=="object"&&xT(t)===MT}function Ua(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function PT(...t){let e=fn(t),n=Na(t),{args:r,keys:i}=Ha(t);if(r.length===0)return Mt([],e);let o=new k(OT(r,e,i?s=>Ua(i,s):Ze));return n?o.pipe(Ba(n)):o}function OT(t,e,n=Ze){return r=>{my(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)my(e,()=>{let d=Mt(t[l],e),p=!1;d.subscribe(B(r,h=>{o[l]=h,p||(p=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function my(t,e,n){t?Ve(n,t,e):e()}function yy(t,e,n,r,i,o,s,a){let l=[],d=0,p=0,h=!1,m=()=>{h&&!l.length&&!d&&e.complete()},y=C=>d<r?_(C):l.push(C),_=C=>{o&&e.next(C),d++;let I=!1;ye(n(C,p++)).subscribe(B(e,T=>{i?.(T),o?y(T):e.next(T)},()=>{I=!0},void 0,()=>{if(I)try{for(d--;l.length&&d<r;){let T=l.shift();s?Ve(e,s,()=>_(T)):_(T)}m()}catch(T){e.error(T)}}))};return t.subscribe(B(e,y,()=>{h=!0,m()})),()=>{a?.()}}function Yn(t,e,n=1/0){return A(e)?Yn((r,i)=>Xt((o,s)=>e(r,o,i,s))(ye(t(r,i))),n):(typeof e=="number"&&(n=e),W((r,i)=>yy(r,i,t,n)))}function vy(t=1/0){return Yn(Ze,t)}function _y(){return vy(1)}function $a(...t){return _y()(Mt(t,fn(t)))}function FT(t){return new k(e=>{ye(t()).subscribe(e)})}function Yu(...t){let e=Na(t),{args:n,keys:r}=Ha(t),i=new k(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let p=0;p<s;p++){let h=!1;ye(n[p]).subscribe(B(o,m=>{h||(h=!0,d--),a[p]=m},()=>l--,void 0,()=>{(!l||!h)&&(d||o.next(r?Ua(r,a):a),o.complete())}))}});return e?i.pipe(Ba(e)):i}var LT=new k($n);function vo(t,e){return W((n,r)=>{let i=0;n.subscribe(B(r,o=>t.call(e,o,i++)&&r.next(o)))})}function wy(t){return W((e,n)=>{let r=null,i=!1,o;r=e.subscribe(B(n,void 0,void 0,s=>{o=ye(t(s,wy(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Ey(t,e,n,r,i){return(o,s)=>{let a=n,l=e,d=0;o.subscribe(B(s,p=>{let h=d++;l=a?t(l,p,h):(a=!0,p),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function VT(t,e){return A(e)?Yn(t,e,1):Yn(t,1)}function _o(t){return W((e,n)=>{let r=!1;e.subscribe(B(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ku(t){return t<=0?()=>yo:W((e,n)=>{let r=0;e.subscribe(B(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Wa(t=jT){return W((e,n)=>{let r=!1;e.subscribe(B(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function jT(){return new qn}function BT(t){return W((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function HT(t,e){let n=arguments.length>=2;return r=>r.pipe(t?vo((i,o)=>t(i,o,r)):Ze,Ku(1),n?_o(e):Wa(()=>new qn))}function Zu(t){return t<=0?()=>yo:W((e,n)=>{let r=[];e.subscribe(B(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function UT(t,e){let n=arguments.length>=2;return r=>r.pipe(t?vo((i,o)=>t(i,o,r)):Ze,Zu(1),n?_o(e):Wa(()=>new qn))}function $T(t,e){return W(Ey(t,e,arguments.length>=2,!0))}function WT(...t){let e=fn(t);return W((n,r)=>{(e?$a(t,n,e):$a(t,n)).subscribe(r)})}function zT(t,e){return W((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(B(r,l=>{i?.unsubscribe();let d=0,p=o++;ye(t(l,p)).subscribe(i=B(r,h=>r.next(e?e(l,h,p,d++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function GT(t){return W((e,n)=>{ye(t).subscribe(B(n,()=>n.complete(),$n)),!n.closed&&e.subscribe(n)})}function qT(t,e,n){let r=A(t)||e||n?{next:t,error:e,complete:n}:t;return r?W((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(B(o,l=>{var d;(d=r.next)===null||d===void 0||d.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,l),o.error(l)},()=>{var l,d;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Ze}function by(t){let e=O(null);try{return t()}finally{O(e)}}var Ka="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",F=class extends Error{code;constructor(e,n){super(Io(e,n)),this.code=e}};function YT(t){return`NG0${Math.abs(t)}`}function Io(t,e){return`${YT(t)}${e?": "+e:""}`}function K(t){for(let e in t)if(t[e]===K)return e;throw Error("")}function Dy(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function tn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(tn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function ld(t,e){return t?e?`${t} ${e}`:t:e||""}var KT=K({__forward_ref__:K});function tr(t){return t.__forward_ref__=tr,t.toString=function(){return tn(this())},t}function De(t){return ud(t)?t():t}function ud(t){return typeof t=="function"&&t.hasOwnProperty(KT)&&t.__forward_ref__===tr}function Ty(t,e){t==null&&dd(e,t,null,"!=")}function dd(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function Z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function nr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Do(t){return QT(t,Za)}function ZT(t){return Do(t)!==null}function QT(t,e){return t.hasOwnProperty(e)&&t[e]||null}function JT(t){let e=t?.[Za]??null;return e||null}function Ju(t){return t&&t.hasOwnProperty(Ga)?t[Ga]:null}var Za=K({\u0275prov:K}),Ga=K({\u0275inj:K}),N=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fd(t){return t&&!!t.\u0275providers}var hd=K({\u0275cmp:K}),pd=K({\u0275dir:K}),gd=K({\u0275pipe:K}),md=K({\u0275mod:K}),bo=K({\u0275fac:K}),rr=K({__NG_ELEMENT_ID__:K}),Cy=K({__NG_ENV_ID__:K});function Qa(t){return typeof t=="string"?t:t==null?"":String(t)}function qa(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Qa(t)}var yd=K({ngErrorCode:K}),Sy=K({ngErrorMessage:K}),Eo=K({ngTokenPath:K});function vd(t,e){return Ay("",-200,e)}function Ja(t,e){throw new F(-201,!1)}function XT(t,e){t[Eo]??=[];let n=t[Eo],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(Ty(e.provide,"Token with multi: true should have a provide property"),r=qa(e.provide)):r=qa(e),n[0]!==r&&t[Eo].unshift(r)}function eS(t,e){let n=t[Eo],r=t[yd],i=t[Sy]||t.message;return t.message=nS(i,r,n,e),t}function Ay(t,e,n){let r=new F(e,t);return r[yd]=e,r[Sy]=t,n&&(r[Eo]=n),r}function tS(t){return t[yd]}function nS(t,e,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Io(e,`${t}${o}${i}`)}var Xu;function Ny(){return Xu}function Qe(t){let e=Xu;return Xu=t,e}function _d(t,e,n){let r=Do(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Ja(t,"Injector")}var rS={},Kn=rS,ed="__NG_DI_FLAG__",td=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Zn(n)||0;try{return this.injector.get(e,r&8?null:Kn,r)}catch(i){if(Qr(i))return i;throw i}}};function iS(t,e=0){let n=ua();if(n===void 0)throw new F(-203,!1);if(n===null)return _d(t,void 0,e);{let r=oS(e),i=n.retrieve(t,r);if(Qr(i)){if(r.optional)return null;throw i}return i}}function we(t,e=0){return(Ny()||iS)(De(t),e)}function D(t,e){return we(t,Zn(e))}function Zn(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function oS(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function nd(t){let e=[];for(let n=0;n<t.length;n++){let r=De(t[n]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=sS(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(we(i,o))}else e.push(we(r))}return e}function xy(t,e){return t[ed]=e,t.prototype[ed]=e,t}function sS(t){return t[ed]}function Qn(t,e){let n=t.hasOwnProperty(bo);return n?t[bo]:null}function Xa(t,e){t.forEach(n=>Array.isArray(n)?Xa(n,e):e(n))}function wd(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function To(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function My(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function ky(t,e,n){let r=fi(t,e);return r>=0?t[r|1]=n:(r=~r,My(t,r,e,n)),r}function ec(t,e){let n=fi(t,e);if(n>=0)return t[n|1]}function fi(t,e){return aS(t,e,1)}function aS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var yn={},Je=[],ir=new N(""),Ed=new N("",-1),bd=new N(""),Co=class{get(e,n=Kn){if(n===Kn){let i=Ay("",-201);throw i.name="\u0275NotFound",i}return n}};function Cd(t){return t[md]||null}function vn(t){return t[hd]||null}function Id(t){return t[pd]||null}function Ry(t){return t[gd]||null}function or(t){return{\u0275providers:t}}function Py(...t){return{\u0275providers:Dd(!0,t),\u0275fromNgModule:!0}}function Dd(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Xa(e,s=>{let a=s;Ya(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Oy(i,o),n}function Oy(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Td(i,o=>{e(o,r)})}}function Ya(t,e,n,r){if(t=De(t),!t)return!1;let i=null,o=Ju(t),s=!o&&vn(t);if(!o&&!s){let l=t.ngModule;if(o=Ju(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)Ya(d,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{Xa(o.imports,p=>{Ya(p,e,n,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&Oy(d,e)}if(!a){let d=Qn(i)||(()=>new i);e({provide:i,useFactory:d,deps:Je},i),e({provide:bd,useValue:i,multi:!0},i),e({provide:ir,useValue:()=>we(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let d=t;Td(l,p=>{e(p,d)})}}else return!1;return i!==t&&t.providers!==void 0}function Td(t,e){for(let n of t)fd(n)&&(n=n.\u0275providers),Array.isArray(n)?Td(n,e):e(n)}var cS=K({provide:String,useValue:K});function Fy(t){return t!==null&&typeof t=="object"&&cS in t}function lS(t){return!!(t&&t.useExisting)}function uS(t){return!!(t&&t.useFactory)}function Jn(t){return typeof t=="function"}function Ly(t){return!!t.useClass}var Sd=new N(""),za={},Iy={},Qu;function So(){return Qu===void 0&&(Qu=new Co),Qu}var je=class{},Xn=class extends je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,id(e,s=>this.processProvider(s)),this.records.set(Ed,di(void 0,this)),i.has("environment")&&this.records.set(je,di(void 0,this));let o=this.records.get(Sd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bd,Je,{self:!0}))}retrieve(e,n){let r=Zn(n)||0;try{return this.get(e,Kn,r)}catch(i){if(Qr(i))return i;throw i}}destroy(){wo(this),this._destroyed=!0;let e=O(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),O(e)}}onDestroy(e){return wo(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){wo(this);let n=xt(this),r=Qe(void 0),i;try{return e()}finally{xt(n),Qe(r)}}get(e,n=Kn,r){if(wo(this),e.hasOwnProperty(Cy))return e[Cy](this);let i=Zn(r),o,s=xt(this),a=Qe(void 0);try{if(!(i&4)){let d=this.records.get(e);if(d===void 0){let p=gS(e)&&Do(e);p&&this.injectableDefInScope(p)?d=di(rd(e),za):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,i)}let l=i&2?So():this.parent;return n=i&8&&n===Kn?null:n,l.get(e,n)}catch(l){let d=tS(l);throw d===-200||d===-201?new F(d,null):l}finally{Qe(a),xt(s)}}resolveInjectorInitializers(){let e=O(null),n=xt(this),r=Qe(void 0),i;try{let o=this.get(ir,Je,{self:!0});for(let s of o)s()}finally{xt(n),Qe(r),O(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(tn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=De(e);let n=Jn(e)?e:De(e&&e.provide),r=fS(e);if(!Jn(e)&&e.multi===!0){let i=this.records.get(n);i||(i=di(void 0,za,!0),i.factory=()=>nd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=O(null);try{if(n.value===Iy)throw vd(tn(e));return n.value===za&&(n.value=Iy,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&pS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{O(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=De(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function rd(t){let e=Do(t),n=e!==null?e.factory:Qn(t);if(n!==null)return n;if(t instanceof N)throw new F(204,!1);if(t instanceof Function)return dS(t);throw new F(204,!1)}function dS(t){if(t.length>0)throw new F(204,!1);let n=JT(t);return n!==null?()=>n.factory(t):()=>new t}function fS(t){if(Fy(t))return di(void 0,t.useValue);{let e=Ad(t);return di(e,za)}}function Ad(t,e,n){let r;if(Jn(t)){let i=De(t);return Qn(i)||rd(i)}else if(Fy(t))r=()=>De(t.useValue);else if(uS(t))r=()=>t.useFactory(...nd(t.deps||[]));else if(lS(t))r=(i,o)=>we(De(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=De(t&&(t.useClass||t.provide));if(hS(t))r=()=>new i(...nd(t.deps));else return Qn(i)||rd(i)}return r}function wo(t){if(t.destroyed)throw new F(205,!1)}function di(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function hS(t){return!!t.deps}function pS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function gS(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function id(t,e){for(let n of t)Array.isArray(n)?id(n,e):n&&fd(n)?id(n.\u0275providers,e):e(n)}function _n(t,e){let n;t instanceof Xn?(wo(t),n=t):n=new td(t);let r,i=xt(n),o=Qe(void 0);try{return e()}finally{xt(i),Qe(o)}}function Vy(){return Ny()!==void 0||ua()!=null}var gt=0,M=1,x=2,Te=3,at=4,ct=5,Ao=6,hi=7,xe=8,sr=9,kt=10,ue=11,pi=12,Nd=13,ar=14,lt=15,cr=16,lr=17,ur=18,No=19,xd=20,en=21,tc=22,xo=23,Xe=24,nc=25,He=26,jy=1;var wn=7,Mo=8,ko=9,Ue=10;function Rt(t){return Array.isArray(t)&&typeof t[jy]=="object"}function mt(t){return Array.isArray(t)&&t[jy]===!0}function Md(t){return(t.flags&4)!==0}function En(t){return t.componentOffset>-1}function gi(t){return(t.flags&1)===1}function Pt(t){return!!t.template}function mi(t){return(t[x]&512)!==0}function dr(t){return(t[x]&256)===256}var By="svg",Hy="math";function ut(t){for(;Array.isArray(t);)t=t[gt];return t}function kd(t,e){return ut(e[t])}function Ot(t,e){return ut(e[t.index])}function rc(t,e){return t.data[e]}function dt(t,e){let n=e[t];return Rt(n)?n:n[gt]}function ic(t){return(t[x]&128)===128}function Uy(t){return mt(t[Te])}function Ro(t,e){return e==null?null:t[e]}function Rd(t){t[lr]=0}function Pd(t){t[x]&1024||(t[x]|=1024,ic(t)&&Oo(t))}function $y(t,e){for(;t>0;)e=e[ar],t--;return e}function Po(t){return!!(t[x]&9216||t[Xe]?.dirty)}function oc(t){t[kt].changeDetectionScheduler?.notify(8),t[x]&64&&(t[x]|=1024),Po(t)&&Oo(t)}function Oo(t){t[kt].changeDetectionScheduler?.notify(0);let e=gn(t);for(;e!==null&&!(e[x]&8192||(e[x]|=8192,!ic(e)));)e=gn(e)}function Od(t,e){if(dr(t))throw new F(911,!1);t[en]===null&&(t[en]=[]),t[en].push(e)}function Wy(t,e){if(t[en]===null)return;let n=t[en].indexOf(e);n!==-1&&t[en].splice(n,1)}function gn(t){let e=t[Te];return mt(e)?e[Te]:e}function zy(t){return t[hi]??=[]}function Gy(t){return t.cleanup??=[]}var H={lFrame:cv(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Fo=(function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t})(Fo||{}),mS=0,od=!1;function qy(){return H.lFrame.elementDepthCount}function Yy(){H.lFrame.elementDepthCount++}function Ky(){H.lFrame.elementDepthCount--}function sc(){return H.bindingsEnabled}function Zy(){return H.skipHydrationRootTNode!==null}function Qy(t){return H.skipHydrationRootTNode===t}function Jy(){H.skipHydrationRootTNode=null}function se(){return H.lFrame.lView}function et(){return H.lFrame.tView}function tt(t){return H.lFrame.contextLView=t,t[xe]}function nt(t){return H.lFrame.contextLView=null,t}function Pe(){let t=Fd();for(;t!==null&&t.type===64;)t=t.parent;return t}function Fd(){return H.lFrame.currentTNode}function Xy(){let t=H.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function yi(t,e){let n=H.lFrame;n.currentTNode=t,n.isParent=e}function Ld(){return H.lFrame.isParent}function ev(){H.lFrame.isParent=!1}function Vd(t){dd("Must never be called in production mode"),mS=t}function jd(){return od}function Bd(t){let e=od;return od=t,e}function tv(t){return H.lFrame.bindingIndex=t}function ac(){return H.lFrame.bindingIndex++}function nv(t){let e=H.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function rv(){return H.lFrame.inI18n}function iv(t,e){let n=H.lFrame;n.bindingIndex=n.bindingRootIndex=t,cc(e)}function ov(){return H.lFrame.currentDirectiveIndex}function cc(t){H.lFrame.currentDirectiveIndex=t}function sv(t){let e=H.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Hd(t){H.lFrame.currentQueryIndex=t}function yS(t){let e=t[M];return e.type===2?e.declTNode:e.type===1?t[ct]:null}function Ud(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=yS(o),i===null||(o=o[ar],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=H.lFrame=av();return r.currentTNode=e,r.lView=t,!0}function lc(t){let e=av(),n=t[M];H.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function av(){let t=H.lFrame,e=t===null?null:t.child;return e===null?cv(t):e}function cv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function lv(){let t=H.lFrame;return H.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var $d=lv;function uc(){let t=lv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function uv(t){return(H.lFrame.contextLView=$y(t,H.lFrame.contextLView))[xe]}function fr(){return H.lFrame.selectedIndex}function bn(t){H.lFrame.selectedIndex=t}function Wd(){let t=H.lFrame;return rc(t.tView,t.selectedIndex)}function dv(){return H.lFrame.currentNamespace}var fv=!0;function dc(){return fv}function Lo(t){fv=t}var vS={elements:void 0};function hv(){return vS}function sd(t,e=null,n=null,r){let i=zd(t,e,n,r);return i.resolveInjectorInitializers(),i}function zd(t,e=null,n=null,r,i=new Set){let o=[n||Je,Py(t)];return r=r||(typeof t=="object"?void 0:tn(t)),new Xn(o,e||So(),r||null,i)}var Be=class t{static THROW_IF_NOT_FOUND=Kn;static NULL=new Co;static create(e,n){if(Array.isArray(e))return sd({name:""},n,e,"");{let r=e.name??"";return sd({name:r},e.parent,e.providers,r)}}static \u0275prov=Z({token:t,providedIn:"any",factory:()=>we(Ed)});static __NG_ELEMENT_ID__=-1},Vo=new N(""),vi=(()=>{class t{static __NG_ELEMENT_ID__=_S;static __NG_ENV_ID__=n=>n}return t})(),ad=class extends vi{_lView;constructor(e){super(),this._lView=e}get destroyed(){return dr(this._lView)}onDestroy(e){let n=this._lView;return Od(n,e),()=>Wy(n,e)}};function _S(){return new ad(se())}var er=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ft=new N("",{providedIn:"root",factory:()=>{let t=D(je),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(er),e.handleError(n))}}}),pv={provide:ir,useValue:()=>void D(er),multi:!0};function Gd(t){return typeof t=="function"&&t[Ne]!==void 0}function hr(t,e){let[n,r,i]=ku(t,e?.equal),o=n,s=o[Ne];return o.set=r,o.update=i,o.asReadonly=gv.bind(o),o}function gv(){let t=this[Ne];if(t.readonlyFn===void 0){let e=()=>this();e[Ne]=t,t.readonlyFn=e}return t.readonlyFn}function qd(t){return Gd(t)&&typeof t.set=="function"}var mn=class{},fc=new N("",{providedIn:"root",factory:()=>!1});var Yd=new N(""),Kd=new N("");var Cn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new go(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new k(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new t})}return t})(),_i=(()=>{class t{internalPendingTasks=D(Cn);scheduler=D(mn);errorHandler=D(Ft);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new t})}return t})();function jo(...t){}var Zd=(()=>{class t{static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new cd})}return t})(),cd=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Ti(t){return{toString:t}.toString()}var hc="__parameters__";function MS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function kS(t,e,n){return Ti(()=>{let r=MS(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,d,p){let h=l.hasOwnProperty(hc)?l[hc]:Object.defineProperty(l,hc,{value:[]})[hc];for(;h.length<=p;)h.push(null);return(h[p]=h[p]||[]).push(s),l}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var nn=xy(kS("Optional"),8);function RS(t){return typeof t=="function"}var vc=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function zv(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Rc=(()=>{let t=()=>Gv;return t.ngInherit=!0,t})();function Gv(t){return t.type.prototype.ngOnChanges&&(t.setInput=OS),PS}function PS(){let t=Yv(this),e=t?.current;if(e){let n=t.previous;if(n===yn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function OS(t,e,n,r,i){let o=this.declaredInputs[r],s=Yv(t)||FS(t,{previous:yn,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new vc(d&&d.currentValue,n,l===yn),zv(t,e,i,n)}var qv="__ngSimpleChanges__";function Yv(t){return t[qv]||null}function FS(t,e){return t[qv]=e}var mv=[];var re=function(t,e=null,n){for(let r=0;r<mv.length;r++){let i=mv[r];i(t,e,n)}};function LS(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Gv(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Kv(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function gc(t,e,n){Zv(t,e,3,n)}function mc(t,e,n,r){(t[x]&3)===n&&Zv(t,e,n,r)}function Qd(t,e){let n=t[x];(n&3)===e&&(n&=16383,n+=1,t[x]=n)}function Zv(t,e,n,r){let i=r!==void 0?t[lr]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[lr]+=65536),(a<o||o==-1)&&(VS(t,n,e,l),t[lr]=(t[lr]&4294901760)+l+2),l++}function yv(t,e){re(4,t,e);let n=O(null);try{e.call(t)}finally{O(n),re(5,t,e)}}function VS(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[x]>>14<t[lr]>>16&&(t[x]&3)===e&&(t[x]+=16384,yv(a,o)):yv(a,o)}var Ei=-1,gr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function jS(t){return(t.flags&8)!==0}function BS(t){return(t.flags&16)!==0}function HS(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];$S(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function US(t){return t===3||t===4||t===6}function $S(t){return t.charCodeAt(0)===64}function Uo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?vv(t,n,i,null,e[++r]):vv(t,n,i,null,null))}}return t}function vv(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function Qv(t){return t!==Ei}function _c(t){return t&32767}function WS(t){return t>>16}function wc(t,e){let n=WS(t),r=e;for(;n>0;)r=r[ar],n--;return r}var cf=!0;function _v(t){let e=cf;return cf=t,e}var zS=256,Jv=zS-1,Xv=5,GS=0,Lt={};function qS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(rr)&&(r=n[rr]),r==null&&(r=n[rr]=GS++);let i=r&Jv,o=1<<i;e.data[t+(i>>Xv)]|=o}function Ec(t,e){let n=e_(t,e);if(n!==-1)return n;let r=e[M];r.firstCreatePass&&(t.injectorIndex=e.length,Jd(r.data,t),Jd(e,null),Jd(r.blueprint,null));let i=Sf(t,e),o=t.injectorIndex;if(Qv(i)){let s=_c(i),a=wc(i,e),l=a[M].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|l[s+d]}return e[o+8]=i,o}function Jd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function e_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Sf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=o_(i),r===null)return Ei;if(n++,i=i[ar],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ei}function lf(t,e,n){qS(t,e,n)}function t_(t,e,n){if(n&8||t!==void 0)return t;Ja(e,"NodeInjector")}function n_(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[sr],o=Qe(void 0);try{return i?i.get(e,r,n&8):_d(e,r,n&8)}finally{Qe(o)}}return t_(r,e,n)}function r_(t,e,n,r=0,i){if(t!==null){if(e[x]&2048&&!(r&2)){let s=JS(t,e,n,r,Lt);if(s!==Lt)return s}let o=i_(t,e,n,r,Lt);if(o!==Lt)return o}return n_(e,n,r,i)}function i_(t,e,n,r,i){let o=ZS(n);if(typeof o=="function"){if(!Ud(e,t,r))return r&1?t_(i,n,r):n_(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Ja(n);else return s}finally{$d()}}else if(typeof o=="number"){let s=null,a=e_(t,e),l=Ei,d=r&1?e[lt][ct]:null;for((a===-1||r&4)&&(l=a===-1?Sf(t,e):e[a+8],l===Ei||!Ev(r,!1)?a=-1:(s=e[M],a=_c(l),e=wc(l,e)));a!==-1;){let p=e[M];if(wv(o,a,p.data)){let h=YS(a,e,n,s,r,d);if(h!==Lt)return h}l=e[a+8],l!==Ei&&Ev(r,e[M].data[a+8]===d)&&wv(o,a,e)?(s=p,a=_c(l),e=wc(l,e)):a=-1}}return i}function YS(t,e,n,r,i,o){let s=e[M],a=s.data[t+8],l=r==null?En(a)&&cf:r!=s&&(a.type&3)!==0,d=i&1&&o===a,p=KS(a,s,n,l,d);return p!==null?bc(e,s,p,a,i):Lt}function KS(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,d=t.directiveEnd,p=o>>20,h=r?a:a+p,m=i?a+p:d;for(let y=h;y<m;y++){let _=s[y];if(y<l&&n===_||y>=l&&_.type===n)return y}if(i){let y=s[l];if(y&&Pt(y)&&y.type===n)return l}return null}function bc(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof gr){let a=o;if(a.resolving){let y=qa(s[n]);throw vd(y)}let l=_v(a.canSeeViewProviders);a.resolving=!0;let d=s[n].type||s[n],p,h=a.injectImpl?Qe(a.injectImpl):null,m=Ud(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&LS(n,s[n],e)}finally{h!==null&&Qe(h),_v(l),a.resolving=!1,$d()}}return o}function ZS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(rr)?t[rr]:void 0;return typeof e=="number"?e>=0?e&Jv:QS:e}function wv(t,e,n){let r=1<<t;return!!(n[e+(t>>Xv)]&r)}function Ev(t,e){return!(t&2)&&!(t&1&&e)}var pr=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return r_(this._tNode,this._lView,e,Zn(r),n)}};function QS(){return new pr(Pe(),se())}function Af(t){return Ti(()=>{let e=t.prototype.constructor,n=e[bo]||uf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[bo]||uf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function uf(t){return ud(t)?()=>{let e=uf(De(t));return e&&e()}:Qn(t)}function JS(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[x]&2048&&!mi(s);){let a=i_(o,s,n,r|2,Lt);if(a!==Lt)return a;let l=o.parent;if(!l){let d=s[xd];if(d){let p=d.get(n,Lt,r);if(p!==Lt)return p}l=o_(s),s=s[ar]}o=l}return i}function o_(t){let e=t[M],n=e.type;return n===2?e.declTNode:n===1?t[ct]:null}function XS(){return Pc(Pe(),se())}function Pc(t,e){return new vr(Ot(t,e))}var vr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=XS}return t})();function s_(t){return(t.flags&128)===128}var Nf=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Nf||{}),a_=new Map,eA=0;function tA(){return eA++}function nA(t){a_.set(t[No],t)}function df(t){a_.delete(t[No])}var bv="__ngContext__";function bi(t,e){Rt(e)?(t[bv]=e[No],nA(e)):t[bv]=e}function c_(t){return u_(t[pi])}function l_(t){return u_(t[at])}function u_(t){for(;t!==null&&!mt(t);)t=t[at];return t}var ff;function rA(t){ff=t}function d_(){if(ff!==void 0)return ff;if(typeof document<"u")return document;throw new F(210,!1)}var iA=new N("",{providedIn:"root",factory:()=>oA}),oA="ng",f_=new N(""),xf=new N("",{providedIn:"platform",factory:()=>"unknown"});var sA=new N("",{providedIn:"root",factory:()=>d_().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var aA="h",cA="b";var h_=!1,p_=new N("",{providedIn:"root",factory:()=>h_});var lA=(t,e,n,r)=>{};function uA(t,e,n,r){lA(t,e,n,r)}function Mf(t){return(t.flags&32)===32}var dA=()=>null;function g_(t,e,n=!1){return dA(t,e,n)}function m_(t,e){let n=t.contentQueries;if(n!==null){let r=O(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Hd(o),a.contentQueries(2,e[s],s)}}}finally{O(r)}}}function hf(t,e,n){Hd(0);let r=O(null);try{e(t,n)}finally{O(r)}}function kf(t,e,n){if(Md(e)){let r=O(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{O(r)}}}var Ci=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(Ci||{});var Cc=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ka})`}};function Rf(t){return t instanceof Cc?t.changingThisBreaksApplicationSecurity:t}function y_(t,e){let n=v_(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ka})`)}return n===e}function v_(t){return t instanceof Cc&&t.getTypeName()||null}var fA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function __(t){return t=String(t),t.match(fA)?t:"unsafe:"+t}var Pf=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Pf||{});function Si(t){let e=hA();return e?e.sanitize(Pf.URL,t)||"":y_(t,"URL")?Rf(t):__(Qa(t))}function hA(){let t=se();return t&&t[kt].sanitizer}var pA=/^>|^->|<!--|-->|--!>|<!-$/g,gA=/(<|>)/g,mA="\u200B$1\u200B";function yA(t){return t.replace(pA,e=>e.replace(gA,mA))}function w_(t){return t instanceof Function?t():t}function vA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var E_="ng-template";function _A(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&vA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Of(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Of(t){return t.type===4&&t.value!==E_}function wA(t,e,n){let r=t.type===4&&!n?E_:t.value;return e===r}function EA(t,e,n){let r=4,i=t.attrs,o=i!==null?IA(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!yt(r)&&!yt(l))return!1;if(s&&yt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!wA(t,l,n)||l===""&&e.length===1){if(yt(r))return!1;s=!0}}else if(r&8){if(i===null||!_A(t,i,l,n)){if(yt(r))return!1;s=!0}}else{let d=e[++a],p=bA(l,i,Of(t),n);if(p===-1){if(yt(r))return!1;s=!0;continue}if(d!==""){let h;if(p>o?h="":h=i[p+1].toLowerCase(),r&2&&d!==h){if(yt(r))return!1;s=!0}}}}return yt(r)||s}function yt(t){return(t&1)===0}function bA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return DA(e,t)}function CA(t,e,n=!1){for(let r=0;r<e.length;r++)if(EA(t,e[r],n))return!0;return!1}function IA(t){for(let e=0;e<t.length;e++){let n=t[e];if(US(n))return e}return t.length}function DA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Cv(t,e){return t?":not("+e.trim()+")":e}function TA(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!yt(s)&&(e+=Cv(o,i),i=""),r=s,o=o||!yt(r);n++}return i!==""&&(e+=Cv(o,i)),e}function SA(t){return t.map(TA).join(",")}function AA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!yt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Dn={};function NA(t,e){return t.createText(e)}function xA(t,e,n){t.setValue(e,n)}function MA(t,e){return t.createComment(yA(e))}function b_(t,e,n){return t.createElement(e,n)}function Ic(t,e,n,r,i){t.insertBefore(e,n,r,i)}function C_(t,e,n){t.appendChild(e,n)}function Iv(t,e,n,r,i){r!==null?Ic(t,e,n,r,i):C_(t,e,n)}function kA(t,e,n){t.removeChild(null,e,n)}function RA(t,e,n){t.setAttribute(e,"style",n)}function PA(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function I_(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&HS(t,e,r),i!==null&&PA(t,e,i),o!==null&&RA(t,e,o)}function Ff(t,e,n,r,i,o,s,a,l,d,p){let h=He+r,m=h+i,y=OA(h,m),_=typeof d=="function"?d():d;return y[M]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:p}}function OA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Dn);return n}function FA(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ff(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Lf(t,e,n,r,i,o,s,a,l,d,p){let h=e.blueprint.slice();return h[gt]=i,h[x]=r|4|128|8|64|1024,(d!==null||t&&t[x]&2048)&&(h[x]|=2048),Rd(h),h[Te]=h[ar]=t,h[xe]=n,h[kt]=s||t&&t[kt],h[ue]=a||t&&t[ue],h[sr]=l||t&&t[sr]||null,h[ct]=o,h[No]=tA(),h[Ao]=p,h[xd]=d,h[lt]=e.type==2?t[lt]:h,h}function LA(t,e,n){let r=Ot(e,t),i=FA(n),o=t[kt].rendererFactory,s=Vf(t,Lf(t,i,null,D_(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function D_(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function T_(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Vf(t,e){return t[pi]?t[Nd][at]=e:t[pi]=e,t[Nd]=e,e}function U(t=1){S_(et(),se(),fr()+t,!1)}function S_(t,e,n,r){if(!r)if((e[x]&3)===3){let o=t.preOrderCheckHooks;o!==null&&gc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&mc(e,o,0,n)}bn(n)}var Oc=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Oc||{});function pf(t,e,n,r){let i=O(null);try{let[o,s,a]=t.inputs[n],l=null;(s&Oc.SignalBased)!==0&&(l=e[o][Ne]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,o):zv(e,l,o,r)}finally{O(i)}}var $o=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})($o||{}),VA;function jf(t,e){return VA(t,e)}function wi(t,e,n,r,i){if(r!=null){let o,s=!1;mt(r)?o=r:Rt(r)&&(s=!0,r=r[gt]);let a=ut(r);t===0&&n!==null?i==null?C_(e,n,a):Ic(e,n,a,i||null,!0):t===1&&n!==null?Ic(e,n,a,i||null,!0):t===2?kA(e,a,s):t===3&&e.destroyNode(a),o!=null&&ZA(e,t,o,n,i)}}function jA(t,e){A_(t,e),e[gt]=null,e[ct]=null}function BA(t,e,n,r,i,o){r[gt]=i,r[ct]=e,Fc(t,r,n,1,i,o)}function A_(t,e){e[kt].changeDetectionScheduler?.notify(9),Fc(t,e,e[ue],2,null,null)}function HA(t){let e=t[pi];if(!e)return Xd(t[M],t);for(;e;){let n=null;if(Rt(e))n=e[pi];else{let r=e[Ue];r&&(n=r)}if(!n){for(;e&&!e[at]&&e!==t;)Rt(e)&&Xd(e[M],e),e=e[Te];e===null&&(e=t),Rt(e)&&Xd(e[M],e),n=e&&e[at]}e=n}}function Bf(t,e){let n=t[ko],r=n.indexOf(e);n.splice(r,1)}function N_(t,e){if(dr(e))return;let n=e[ue];n.destroyNode&&Fc(t,e,n,3,null,null),HA(e)}function Xd(t,e){if(dr(e))return;let n=O(null);try{e[x]&=-129,e[x]|=256,e[Xe]&&po(e[Xe]),$A(t,e),UA(t,e),e[M].type===1&&e[ue].destroy();let r=e[cr];if(r!==null&&mt(e[Te])){r!==e[Te]&&Bf(r,e);let i=e[ur];i!==null&&i.detachView(t)}df(e)}finally{O(n)}}function UA(t,e){let n=t.cleanup,r=e[hi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[hi]=null);let i=e[en];if(i!==null){e[en]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[xo];if(o!==null){e[xo]=null;for(let s of o)s.destroy()}}function $A(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof gr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];re(4,a,l);try{l.call(a)}finally{re(5,a,l)}}else{re(4,i,o);try{o.call(i)}finally{re(5,i,o)}}}}}function WA(t,e,n){return zA(t,e.parent,n)}function zA(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[gt];if(En(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Ci.None||i===Ci.Emulated)return null}return Ot(r,n)}function GA(t,e,n){return YA(t,e,n)}function qA(t,e,n){return t.type&40?Ot(t,n):null}var YA=qA,Dv;function Hf(t,e,n,r){let i=WA(t,r,e),o=e[ue],s=r.parent||e[ct],a=GA(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Iv(o,i,n[l],a,!1);else Iv(o,i,n,a,!1);Dv!==void 0&&Dv(o,r,e,n,i)}function Bo(t,e){if(e!==null){let n=e.type;if(n&3)return Ot(e,t);if(n&4)return gf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Bo(t,r);{let i=t[e.index];return mt(i)?gf(-1,i):ut(i)}}else{if(n&128)return Bo(t,e.next);if(n&32)return jf(e,t)()||ut(t[e.index]);{let r=x_(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=gn(t[lt]);return Bo(i,r)}else return Bo(t,e.next)}}}return null}function x_(t,e){if(e!==null){let r=t[lt][ct],i=e.projection;return r.projection[i]}return null}function gf(t,e){let n=Ue+t+1;if(n<e.length){let r=e[n],i=r[M].firstChild;if(i!==null)return Bo(r,i)}return e[wn]}function Uf(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&e===0&&(a&&bi(ut(a),r),n.flags|=2),!Mf(n))if(l&8)Uf(t,e,n.child,r,i,o,!1),wi(e,t,i,a,o);else if(l&32){let d=jf(n,r),p;for(;p=d();)wi(e,t,i,p,o);wi(e,t,i,a,o)}else l&16?KA(t,e,r,n,i,o):wi(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Fc(t,e,n,r,i,o){Uf(n,r,t.firstChild,e,i,o,!1)}function KA(t,e,n,r,i,o){let s=n[lt],l=s[ct].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let p=l[d];wi(e,t,i,p,o)}else{let d=l,p=s[Te];s_(r)&&(d.flags|=128),Uf(t,e,d,p,i,o,!0)}}function ZA(t,e,n,r,i){let o=n[wn],s=ut(n);o!==s&&wi(e,t,r,o,i);for(let a=Ue;a<n.length;a++){let l=n[a];Fc(l[M],l,t,e,r,o)}}function QA(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:$o.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=$o.Important),t.setStyle(n,r,i,o))}}function M_(t,e,n,r,i){let o=fr(),s=r&2;try{bn(-1),s&&e.length>He&&S_(t,e,He,!1),re(s?2:0,i,n),n(r,i)}finally{bn(o),re(s?3:1,i,n)}}function Lc(t,e,n){iN(t,e,n),(n.flags&64)===64&&oN(t,e,n)}function $f(t,e,n=Ot){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function JA(t,e,n,r){let o=r.get(p_,h_)||n===Ci.ShadowDom,s=t.selectRootElement(e,o);return XA(s),s}function XA(t){eN(t)}var eN=()=>null;function tN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function k_(t,e,n,r,i,o){let s=e[M];if(zf(t,s,e,n,r)){En(t)&&rN(e,t.index);return}t.type&3&&(n=tN(n)),nN(t,e,n,r,i,o)}function nN(t,e,n,r,i,o){if(t.type&3){let s=Ot(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function rN(t,e){let n=dt(e,t);n[x]&16||(n[x]|=64)}function iN(t,e,n){let r=n.directiveStart,i=n.directiveEnd;En(n)&&LA(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Ec(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],l=bc(e,t,s,n);if(bi(l,e),o!==null&&aN(e,s-r,l,a,n,o),Pt(a)){let d=dt(n.index,e);d[xe]=bc(e,t,s,n)}}}function oN(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=ov();try{bn(o);for(let a=r;a<i;a++){let l=t.data[a],d=e[a];cc(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&sN(l,d)}}finally{bn(-1),cc(s)}}function sN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Wf(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];CA(e,o.selectors,!1)&&(r??=[],Pt(o)?r.unshift(o):r.push(o))}return r}function aN(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],d=s[a+1];pf(r,n,l,d)}}function R_(t,e,n,r,i){let o=He+n,s=e[M],a=i(s,e,t,r,n);e[o]=a,yi(t,!0);let l=t.type===2;return l?(I_(e[ue],a,t),(qy()===0||gi(t))&&bi(a,e),Yy()):bi(a,e),dc()&&(!l||!Mf(t))&&Hf(s,e,a,t),t}function P_(t){let e=t;return Ld()?ev():(e=e.parent,yi(e,!1)),e}function cN(t,e){let n=t[sr];if(!n)return;let r;try{r=n.get(Ft,null)}catch{r=null}r?.(e)}function zf(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let d=s[l],p=s[l+1],h=e.data[d];pf(h,n[d],p,i),a=!0}if(o)for(let l of o){let d=n[l],p=e.data[l];pf(p,d,r,i),a=!0}return a}function lN(t,e){let n=dt(e,t),r=n[M];uN(r,n);let i=n[gt];i!==null&&n[Ao]===null&&(n[Ao]=g_(i,n[sr])),re(18),Gf(r,n,n[xe]),re(19,n[xe])}function uN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Gf(t,e,n){lc(e);try{let r=t.viewQuery;r!==null&&hf(1,r,n);let i=t.template;i!==null&&M_(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ur]?.finishViewCreation(t),t.staticContentQueries&&m_(t,e),t.staticViewQueries&&hf(2,t.viewQuery,n);let o=t.components;o!==null&&dN(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[x]&=-5,uc()}}function dN(t,e){for(let n=0;n<e.length;n++)lN(t,e[n])}function fN(t,e,n,r){let i=O(null);try{let o=e.tView,a=t[x]&4096?4096:16,l=Lf(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];l[cr]=d;let p=t[ur];return p!==null&&(l[ur]=p.createEmbeddedView(o)),Gf(o,l,n),l}finally{O(i)}}function Tv(t,e){return!e||e.firstChild===null||s_(t)}var Sv=!1,hN=new N("");function Wo(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(ut(o)),mt(o)&&O_(o,r);let s=n.type;if(s&8)Wo(t,e,n.child,r);else if(s&32){let a=jf(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=x_(e,n);if(Array.isArray(a))r.push(...a);else{let l=gn(e[lt]);Wo(l[M],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function O_(t,e){for(let n=Ue;n<t.length;n++){let r=t[n],i=r[M].firstChild;i!==null&&Wo(r[M],r,i,e)}t[wn]!==t[gt]&&e.push(t[wn])}function F_(t){if(t[nc]!==null){for(let e of t[nc])e.impl.addSequence(e);t[nc].length=0}}var L_=[];function pN(t){return t[Xe]??gN(t)}function gN(t){let e=L_.pop()??Object.create(yN);return e.lView=t,e}function mN(t){t.lView[Xe]!==t&&(t.lView=null,L_.push(t))}var yN=ne(X({},Jr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Oo(t.lView)},consumerOnSignalRead(){this.lView[Xe]=this}});function vN(t){let e=t[Xe]??Object.create(_N);return e.lView=t,e}var _N=ne(X({},Jr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=gn(t.lView);for(;e&&!V_(e[M]);)e=gn(e);e&&Pd(e)},consumerOnSignalRead(){this.lView[Xe]=this}});function V_(t){return t.type!==2}function j_(t){if(t[xo]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[xo])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[x]&8192)}}var wN=100;function qf(t,e=0){let r=t[kt].rendererFactory,i=!1;i||r.begin?.();try{EN(t,e)}finally{i||r.end?.()}}function EN(t,e){let n=jd();try{Bd(!0),mf(t,e);let r=0;for(;Po(t);){if(r===wN)throw new F(103,!1);r++,mf(t,1)}}finally{Bd(n)}}function B_(t,e){Vd(e?Fo.Exhaustive:Fo.OnlyDirtyViews);try{qf(t)}finally{Vd(Fo.Off)}}function bN(t,e,n,r){if(dr(e))return;let i=e[x],o=!1,s=!1;lc(e);let a=!0,l=null,d=null;o||(V_(t)?(d=pN(e),l=ei(d)):ma()===null?(a=!1,d=vN(e),l=ei(d)):e[Xe]&&(po(e[Xe]),e[Xe]=null));try{Rd(e),tv(t.bindingStartIndex),n!==null&&M_(t,e,n,2,r);let p=(i&3)===3;if(!o)if(p){let y=t.preOrderCheckHooks;y!==null&&gc(e,y,null)}else{let y=t.preOrderHooks;y!==null&&mc(e,y,0,null),Qd(e,0)}if(s||CN(e),j_(e),H_(e,0),t.contentQueries!==null&&m_(t,e),!o)if(p){let y=t.contentCheckHooks;y!==null&&gc(e,y)}else{let y=t.contentHooks;y!==null&&mc(e,y,1),Qd(e,1)}DN(t,e);let h=t.components;h!==null&&$_(e,h,0);let m=t.viewQuery;if(m!==null&&hf(2,m,r),!o)if(p){let y=t.viewCheckHooks;y!==null&&gc(e,y)}else{let y=t.viewHooks;y!==null&&mc(e,y,2),Qd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[tc]){for(let y of e[tc])y();e[tc]=null}o||(F_(e),e[x]&=-73)}catch(p){throw o||Oo(e),p}finally{d!==null&&(fo(d,l),a&&mN(d)),uc()}}function H_(t,e){for(let n=c_(t);n!==null;n=l_(n))for(let r=Ue;r<n.length;r++){let i=n[r];U_(i,e)}}function CN(t){for(let e=c_(t);e!==null;e=l_(e)){if(!(e[x]&2))continue;let n=e[ko];for(let r=0;r<n.length;r++){let i=n[r];Pd(i)}}}function IN(t,e,n){re(18);let r=dt(e,t);U_(r,n),re(19,r[xe])}function U_(t,e){ic(t)&&mf(t,e)}function mf(t,e){let r=t[M],i=t[x],o=t[Xe],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ho(o)),s||=!1,o&&(o.dirty=!1),t[x]&=-9217,s)bN(r,t,r.template,t[xe]);else if(i&8192){let a=O(null);try{j_(t),H_(t,1);let l=r.components;l!==null&&$_(t,l,1),F_(t)}finally{O(a)}}}function $_(t,e,n){for(let r=0;r<e.length;r++)IN(t,e[r],n)}function DN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)bn(~i);else{let o=i,s=n[++r],a=n[++r];iv(s,o);let l=e[o];re(24,l),a(2,l),re(25,l)}}}finally{bn(-1)}}function Yf(t,e){let n=jd()?64:1088;for(t[kt].changeDetectionScheduler?.notify(e);t;){t[x]|=n;let r=gn(t);if(mi(t)&&!r)return t;t=r}return null}function W_(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function TN(t,e,n,r=!0){let i=e[M];if(SN(i,e,t,n),r){let s=gf(n,t),a=e[ue],l=a.parentNode(t[wn]);l!==null&&BA(i,t[ct],a,e,l,s)}let o=e[Ao];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function yf(t,e){if(t.length<=Ue)return;let n=Ue+e,r=t[n];if(r){let i=r[cr];i!==null&&i!==t&&Bf(i,r),e>0&&(t[n-1][at]=r[at]);let o=To(t,Ue+e);jA(r[M],r);let s=o[ur];s!==null&&s.detachView(o[M]),r[Te]=null,r[at]=null,r[x]&=-129}return r}function SN(t,e,n,r){let i=Ue+r,o=n.length;r>0&&(n[i-1][at]=e),r<o-Ue?(e[at]=n[i],wd(n,Ue+r,e)):(n.push(e),e[at]=null),e[Te]=n;let s=e[cr];s!==null&&n!==s&&z_(s,e);let a=e[ur];a!==null&&a.insertView(t),oc(e),e[x]|=128}function z_(t,e){let n=t[ko],r=e[Te];if(Rt(r))t[x]|=2;else{let i=r[Te][lt];e[lt]!==i&&(t[x]|=2)}n===null?t[ko]=[e]:n.push(e)}var In=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[M];return Wo(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[xe]}set context(e){this._lView[xe]=e}get destroyed(){return dr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Te];if(mt(e)){let n=e[Mo],r=n?n.indexOf(this):-1;r>-1&&(yf(e,r),To(n,r))}this._attachedToViewContainer=!1}N_(this._lView[M],this._lView)}onDestroy(e){Od(this._lView,e)}markForCheck(){Yf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[x]&=-129}reattach(){oc(this._lView),this._lView[x]|=128}detectChanges(){this._lView[x]|=1024,qf(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=mi(this._lView),n=this._lView[cr];n!==null&&!e&&Bf(n,this._lView),A_(this._lView[M],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e;let n=mi(this._lView),r=this._lView[cr];r!==null&&!n&&z_(r,this._lView),oc(this._lView)}};var Yo=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=AN;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=fN(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new In(o)}}return t})();function AN(){return NN(Pe(),se())}function NN(t,e){return t.type&4?new Yo(e,t,Pc(t,e)):null}function Kf(t,e,n,r,i){let o=t.data[e];if(o===null)o=xN(t,e,n,r,i),rv()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Xy();o.injectorIndex=s===null?-1:s.injectorIndex}return yi(o,!0),o}function xN(t,e,n,r,i){let o=Fd(),s=Ld(),a=s?o:o&&o.parent,l=t.data[e]=kN(t,a,n,e,r,i);return MN(t,l,o,s),l}function MN(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function kN(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Zy()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var $3=new RegExp(`^(\\d+)*(${cA}|${aA})*(.*)`);var RN=()=>null;function Av(t,e){return RN(t,e)}var G_=class{},Vc=class{},vf=class{resolveComponentFactory(e){throw new F(917,!1)}},Ko=class{static NULL=new vf},zo=class{},Ai=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>PN()}return t})();function PN(){let t=se(),e=Pe(),n=dt(e.index,t);return(Rt(n)?n:t)[ue]}var q_=(()=>{class t{static \u0275prov=Z({token:t,providedIn:"root",factory:()=>null})}return t})();var yc={},_f=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,yc,r);return i!==yc||n===yc?i:this.parentInjector.get(e,n,r)}};function Nv(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ld(i,a);else if(o==2){let l=a,d=e[++s];r=ld(r,l+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ie(t,e=0){let n=se();if(n===null)return we(t,e);let r=Pe();return r_(r,n,De(t),e)}function Y_(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,l=null,d=null;for(let p of s)if(p.resolveHostDirectives!==null){[a,l,d]=p.resolveHostDirectives(s);break}LN(t,e,n,a,o,l,d)}o!==null&&r!==null&&ON(n,r,o)}function ON(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new F(-301,!1);r.push(e[i],o)}}function FN(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function LN(t,e,n,r,i,o,s){let a=r.length,l=!1;for(let m=0;m<a;m++){let y=r[m];!l&&Pt(y)&&(l=!0,FN(t,n,m)),lf(Ec(n,e),t,y.type)}$N(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let d=!1,p=!1,h=T_(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=Uo(n.mergedAttrs,y.hostAttrs),jN(t,n,e,h,y),UN(h,y,i),s!==null&&s.has(y)){let[C,I]=s.get(y);n.directiveToIndex.set(y.type,[h,C+n.directiveStart,I+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,h);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let _=y.type.prototype;!d&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!p&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),p=!0),h++}VN(t,n,o)}function VN(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))xv(0,e,i,r),xv(1,e,i,r),kv(e,r,!1);else{let o=n.get(i);Mv(0,e,o,r),Mv(1,e,o,r),kv(e,r,!0)}}}function xv(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),K_(e,o)}}function Mv(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),K_(e,s)}}function K_(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function kv(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Of(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let d=i[l];for(let p of d)if(p===e){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let d=o[l];for(let p=0;p<d.length;p+=2)if(d[p]===e){s??=[],s.push(d[p+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function jN(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Qn(i.type,!0)),s=new gr(o,Pt(i),ie,null);t.blueprint[r]=s,n[r]=s,BN(t,e,r,T_(t,n,i.hostVars,Dn),i)}function BN(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;HN(s)!=a&&s.push(a),s.push(n,r,o)}}function HN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function UN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Pt(e)&&(n[""]=t)}}function $N(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Zf(t,e,n,r,i,o,s,a){let l=e[M],d=l.consts,p=Ro(d,s),h=Kf(l,t,n,r,p);return o&&Y_(l,e,h,Ro(d,a),i),h.mergedAttrs=Uo(h.mergedAttrs,h.attrs),h.attrs!==null&&Nv(h,h.attrs,!1),h.mergedAttrs!==null&&Nv(h,h.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,h),h}function Qf(t,e){Kv(t,e),Md(e)&&t.queries.elementEnd(e)}function Jf(t){return Q_(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Z_(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Q_(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function jc(t,e,n){if(n===Dn)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ef(t,e,n){return function r(i){let o=En(t)?dt(t.index,e):e;Yf(o,5);let s=e[xe],a=Rv(e,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=Rv(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function Rv(t,e,n,r){let i=O(null);try{return re(6,e,n),n(r)!==!1}catch(o){return cN(t,o),!1}finally{re(7,e,n),O(i)}}function WN(t,e,n,r,i,o,s,a){let l=gi(t),d=!1,p=null;if(!r&&l&&(p=zN(e,n,o,t.index)),p!==null){let h=p.__ngLastListenerFn__||p;h.__ngNextListenerFn__=s,p.__ngLastListenerFn__=s,d=!0}else{let h=Ot(t,n),m=r?r(h):h;uA(n,m,o,a);let y=i.listen(m,o,a),_=r?C=>r(ut(C[t.index])):t.index;J_(_,e,n,o,a,y,!1)}return d}function zN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[hi],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function J_(t,e,n,r,i,o,s){let a=e.firstCreatePass?Gy(e):null,l=zy(n),d=l.length;l.push(i,o),a&&a.push(r,t,d,(d+1)*(s?-1:1))}function Pv(t,e,n,r,i,o){let s=e[n],a=e[M],d=a.data[n].outputs[r],h=s[d].subscribe(o);J_(t.index,a,e,i,o,h,!0)}var wf=Symbol("BINDING");var Dc=class extends Ko{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=vn(e);return new Ii(n,this.ngModule)}};function GN(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Oc.SignalBased)!==0};return i&&(o.transform=i),o})}function qN(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function YN(t,e,n){let r=e instanceof je?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new _f(n,r):n}function KN(t){let e=t.get(zo,null);if(e===null)throw new F(407,!1);let n=t.get(q_,null),r=t.get(mn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function ZN(t,e){let n=X_(t);return b_(e,n,n==="svg"?By:n==="math"?Hy:null)}function X_(t){return(t.selectors[0][0]||"div").toLowerCase()}var Ii=class extends Vc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=GN(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=qN(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=SA(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){re(22);let a=O(null);try{let l=this.componentDef,d=QN(r,l,s,o),p=YN(l,i||this.ngModule,e),h=KN(p),m=h.rendererFactory.createRenderer(null,l),y=r?JA(m,r,l.encapsulation,p):ZN(l,m),_=s?.some(Ov)||o?.some(T=>typeof T!="function"&&T.bindings.some(Ov)),C=Lf(null,d,null,512|D_(l),null,null,h,m,p,null,g_(y,p,!0));C[He]=y,lc(C);let I=null;try{let T=Zf(He,C,2,"#host",()=>d.directiveRegistry,!0,0);y&&(I_(m,y,T),bi(y,C)),Lc(d,C,T),kf(d,T,C),Qf(d,T),n!==void 0&&XN(T,this.ngContentSelectors,n),I=dt(T.index,C),C[xe]=I[xe],Gf(d,C,null)}catch(T){throw I!==null&&df(I),df(C),T}finally{re(23),uc()}return new Tc(this.componentType,C,!!_)}finally{O(a)}}};function QN(t,e,n,r){let i=t?["ng-version","20.2.4"]:AA(e.selectors[0]),o=null,s=null,a=0;if(n)for(let p of n)a+=p[wf].requiredVars,p.create&&(p.targetIdx=0,(o??=[]).push(p)),p.update&&(p.targetIdx=0,(s??=[]).push(p));if(r)for(let p=0;p<r.length;p++){let h=r[p];if(typeof h!="function")for(let m of h.bindings){a+=m[wf].requiredVars;let y=p+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let l=[e];if(r)for(let p of r){let h=typeof p=="function"?p:p.type,m=Id(h);l.push(m)}return Ff(0,null,JN(o,s),1,a,l,null,null,null,[i],null)}function JN(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function Ov(t){let e=t[wf].kind;return e==="input"||e==="twoWay"}var Tc=class extends G_{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=rc(n[M],He),this.location=Pc(this._tNode,n),this.instance=dt(this._tNode.index,n)[xe],this.hostView=this.changeDetectorRef=new In(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=zf(r,i[M],i,e,n);this.previousInputValues.set(e,n);let s=dt(r.index,i);Yf(s,1)}get injector(){return new pr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function XN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Zo=(()=>{class t{static __NG_ELEMENT_ID__=ex}return t})();function ex(){let t=Pe();return nx(t,se())}var tx=Zo,ew=class extends tx{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Pc(this._hostTNode,this._hostLView)}get injector(){return new pr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Sf(this._hostTNode,this._hostLView);if(Qv(e)){let n=wc(e,this._hostLView),r=_c(e),i=n[M].data[r+8];return new pr(i,n)}else return new pr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Fv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ue}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Av(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Tv(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let l=e&&!RS(e),d;if(l)d=n;else{let I=n||{};d=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef,s=I.directives,a=I.bindings}let p=l?e:new Ii(vn(e)),h=r||this.parentInjector;if(!o&&p.ngModule==null){let T=(l?h:this.parentInjector).get(je,null);T&&(o=T)}let m=vn(p.componentType??{}),y=Av(this._lContainer,m?.id??null),_=y?.firstChild??null,C=p.create(h,i,_,o,s,a);return this.insertImpl(C.hostView,d,Tv(this._hostTNode,y)),C}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Uy(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Te],d=new ew(l,l[ct],l[Te]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return TN(s,i,o,r),e.attachToViewContainerRef(),wd(tf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Fv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=yf(this._lContainer,n);r&&(To(tf(this._lContainer),n),N_(r[M],r))}detach(e){let n=this._adjustIndex(e,-1),r=yf(this._lContainer,n);return r&&To(tf(this._lContainer),n)!=null?new In(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Fv(t){return t[Mo]}function tf(t){return t[Mo]||(t[Mo]=[])}function nx(t,e){let n,r=e[t.index];return mt(r)?n=r:(n=W_(r,e,null,t),e[t.index]=n,Vf(e,n)),ix(n,e,t,r),new ew(n,t,e)}function rx(t,e){let n=t[ue],r=n.createComment(""),i=Ot(e,t),o=n.parentNode(i);return Ic(n,o,r,n.nextSibling(i),!1),r}var ix=ax,ox=()=>!1;function sx(t,e,n){return ox(t,e,n)}function ax(t,e,n,r){if(t[wn])return;let i;n.type&8?i=ut(r):i=rx(e,n),t[wn]=i}var Lv=new Set;function tw(t){Lv.has(t)||(Lv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var mr=class{},nw=class{};var Sc=class extends mr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Dc(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Cd(e);this._bootstrapComponents=w_(o.bootstrap),this._r3Injector=zd(e,n,[{provide:mr,useValue:this},{provide:Ko,useValue:this.componentFactoryResolver},...r],tn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ac=class extends nw{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Sc(this.moduleType,e,[])}};var Go=class extends mr{injector;componentFactoryResolver=new Dc(this);instance=null;constructor(e){super();let n=new Xn([...e.providers,{provide:mr,useValue:this},{provide:Ko,useValue:this.componentFactoryResolver}],e.parent||So(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function rw(t,e,n=null){return new Go({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var cx=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Dd(!1,n.type),i=r.length>0?rw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Z({token:t,providedIn:"environment",factory:()=>new t(we(je))})}return t})();function Xf(t){return Ti(()=>{let e=iw(t),n=ne(X({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Nf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(cx).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ci.Emulated,styles:t.styles||Je,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&tw("NgStandalone"),ow(n);let r=t.dependencies;return n.directiveDefs=Vv(r,lx),n.pipeDefs=Vv(r,Ry),n.id=fx(n),n})}function lx(t){return vn(t)||Id(t)}function Ni(t){return Ti(()=>({type:t.type,bootstrap:t.bootstrap||Je,declarations:t.declarations||Je,imports:t.imports||Je,exports:t.exports||Je,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ux(t,e){if(t==null)return yn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Oc.None,l=null),n[o]=[r,a,l],e[o]=s}return n}function dx(t){if(t==null)return yn;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function vt(t){return Ti(()=>{let e=iw(t);return ow(e),e})}function iw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||yn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Je,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:ux(t.inputs,e),outputs:dx(t.outputs),debugInfo:null}}function ow(t){t.features?.forEach(e=>e(t))}function Vv(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function fx(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function hx(t){return Object.getPrototypeOf(t.prototype).constructor}function _r(t){let e=hx(t.type),n=!0,r=[t];for(;e;){let i;if(Pt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=nf(t.inputs),s.declaredInputs=nf(t.declaredInputs),s.outputs=nf(t.outputs);let a=i.hostBindings;a&&vx(t,a);let l=i.viewQuery,d=i.contentQueries;if(l&&mx(t,l),d&&yx(t,d),px(t,i),Dy(t.outputs,i.outputs),Pt(i)&&i.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===_r&&(n=!1)}}e=Object.getPrototypeOf(e)}gx(r)}function px(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function gx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Uo(i.hostAttrs,n=Uo(n,i.hostAttrs))}}function nf(t){return t===yn?{}:t===Je?[]:t}function mx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function yx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function vx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function _x(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=Uo(t.mergedAttrs,t.attrs);let p=t.tView=Ff(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),p.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),yi(t,!1);let l=Ex(n,e,t,r);dc()&&Hf(n,e,l,t),bi(l,e);let d=W_(l,e,l,t);e[r+He]=d,Vf(e,d),sx(d,t,e)}function wx(t,e,n,r,i,o,s,a,l,d,p){let h=n+He,m;return e.firstCreatePass?(m=Kf(e,h,4,s||null,a||null),sc()&&Y_(e,t,m,Ro(e.consts,d),Wf),Kv(e,m)):m=e.data[h],_x(m,t,e,n,r,i,o,l),gi(m)&&Lc(e,t,m),d!=null&&$f(t,m,p),m}function Vt(t,e,n,r,i,o,s,a){let l=se(),d=et(),p=Ro(d.consts,o);return wx(l,d,t,e,n,r,i,p,void 0,s,a),Vt}var Ex=bx;function bx(t,e,n,r){return Lo(!0),e[ue].createComment("")}var eh=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(eh||{}),th=new N(""),sw=!1,Ef=class extends pt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Vy()&&(this.destroyRef=D(vi,{optional:!0})??void 0,this.pendingTasks=D(Cn,{optional:!0})??void 0)}emit(e){let n=O(null);try{super.next(e)}finally{O(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof me&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},rt=Ef;function aw(t){let e,n;function r(){t=jo;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function jv(t){return queueMicrotask(()=>t()),()=>{t=jo}}var nh="isAngularZone",Nc=nh+"_ID",Cx=0,pe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new rt(!1);onMicrotaskEmpty=new rt(!1);onStable=new rt(!1);onError=new rt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=sw}=e;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Tx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(nh)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new F(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Ix,jo,jo);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Ix={};function rh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Dx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){aw(()=>{t.callbackScheduled=!1,bf(t),t.isCheckStableRunning=!0,rh(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),bf(t)}function Tx(t){let e=()=>{Dx(t)},n=Cx++;t._inner=t._inner.fork({name:"angular",properties:{[nh]:!0,[Nc]:n,[Nc+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(Sx(l))return r.invokeTask(o,s,a,l);try{return Bv(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Hv(t)}},onInvoke:(r,i,o,s,a,l,d)=>{try{return Bv(t),r.invoke(o,s,a,l,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Ax(l)&&e(),Hv(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,bf(t),rh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function bf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Bv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Hv(t){t._nesting--,rh(t)}var xc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new rt;onMicrotaskEmpty=new rt;onStable=new rt;onError=new rt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Sx(t){return cw(t,"__ignore_ng_zone__")}function Ax(t){return cw(t,"__scheduler_tick__")}function cw(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var lw=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new t})}return t})();var Nx=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var uw=new N("");function xi(t){return!!t&&typeof t.then=="function"}function ih(t){return!!t&&typeof t.subscribe=="function"}var oh=new N("");function xx(t){return or([{provide:oh,multi:!0,useValue:t}])}var sh=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=D(oh,{optional:!0})??[];injector=D(Be);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=_n(this.injector,i);if(xi(o))n.push(o);else if(ih(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dw=new N("");function fw(){Mu(()=>{let t="";throw new F(600,t)})}function hw(t){return t.isBoundToModule}var Mx=10;var Mi=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=D(Ft);afterRenderManager=D(lw);zonelessEnabled=D(fc);rootEffectScheduler=D(Zd);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new pt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=D(Cn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Xt(n=>!n))}constructor(){D(th,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=D(je);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Be.NULL){return this._injector.get(pe).run(()=>{re(10);let s=n instanceof Vc;if(!this._injector.get(sh).done){let _="";throw new F(405,_)}let l;s?l=n:l=this._injector.get(Ko).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let d=hw(l)?void 0:this._injector.get(mr),p=r||l.selector,h=l.create(i,[],p,d),m=h.location.nativeElement,y=h.injector.get(uw,null);return y?.registerApplication(m),h.onDestroy(()=>{this.detachView(h.hostView),Ho(this.components,h),y?.unregisterApplication(m)}),this._loadComponent(h),re(11,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){re(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(eh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new F(101,!1);let n=O(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,O(n),this.afterTick.next(),re(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(zo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Mx;)re(14),this.synchronizeOnce(),re(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Po(i))continue;let o=r&&!this.zonelessEnabled?0:1;qf(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Po(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ho(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(dw,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ho(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new F(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ho(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var kx=new N("",{providedIn:"root",factory:()=>!1}),Rx=new N("",{providedIn:"root",factory:()=>Px}),Px=4e3;var Z3=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function ae(t,e,n){let r=se(),i=ac();if(jc(r,i,e)){let o=et(),s=Wd();k_(s,r,t,e,r[ue],n)}return ae}function Uv(t,e,n,r,i){zf(e,t,n,i?"class":"style",r)}function S(t,e,n,r){let i=se(),o=i[M],s=t+He,a=o.firstCreatePass?Zf(s,i,2,e,Wf,sc(),n,r):o.data[s];if(R_(a,i,t,e,Ox),gi(a)){let l=i[M];Lc(l,i,a),kf(l,a,i)}return r!=null&&$f(i,a),S}function R(){let t=et(),e=Pe(),n=P_(e);return t.firstCreatePass&&Qf(t,n),Qy(n)&&Jy(),Ky(),n.classesWithoutHost!=null&&jS(n)&&Uv(t,n,se(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&BS(n)&&Uv(t,n,se(),n.stylesWithoutHost,!1),R}function ki(t,e,n,r){return S(t,e,n,r),R(),ki}var Ox=(t,e,n,r,i)=>(Lo(!0),b_(e[ue],r,dv()));function Qo(t,e,n){let r=se(),i=r[M],o=t+He,s=i.firstCreatePass?Zf(o,r,8,"ng-container",Wf,sc(),e,n):i.data[o];if(R_(s,r,t,"ng-container",Fx),gi(s)){let a=r[M];Lc(a,r,s),kf(a,s,r)}return n!=null&&$f(r,s),Qo}function Jo(){let t=et(),e=Pe(),n=P_(e);return t.firstCreatePass&&Qf(t,n),Jo}var Fx=(t,e,n,r,i)=>(Lo(!0),MA(e[ue],""));function Tn(){return se()}var Xo="en-US";var Lx=Xo;function pw(t){typeof t=="string"&&(Lx=t.toLowerCase().replace(/_/g,"-"))}function Me(t,e,n){let r=se(),i=et(),o=Pe();return gw(i,r,r[ue],o,t,e,n),Me}function gw(t,e,n,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=ef(r,e,o),WN(r,t,e,s,n,i,o,l)&&(a=!1)),a){let d=r.outputs?.[i],p=r.hostDirectiveOutputs?.[i];if(p&&p.length)for(let h=0;h<p.length;h+=2){let m=p[h],y=p[h+1];l??=ef(r,e,o),Pv(r,e,m,y,i,l)}if(d&&d.length)for(let h of d)l??=ef(r,e,o),Pv(r,e,h,i,i,l)}}function Ee(t=1){return uv(t)}function pc(t,e){return t<<17|e<<2}function yr(t){return t>>17&32767}function Vx(t){return(t&2)==2}function jx(t,e){return t&131071|e<<17}function Cf(t){return t|2}function Di(t){return(t&131068)>>2}function rf(t,e){return t&-131069|e<<2}function Bx(t){return(t&1)===1}function If(t){return t|1}function Hx(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=yr(s),l=Di(s);t[r]=n;let d=!1,p;if(Array.isArray(n)){let h=n;p=h[1],(p===null||fi(h,p)>0)&&(d=!0)}else p=n;if(i)if(l!==0){let m=yr(t[a+1]);t[r+1]=pc(m,a),m!==0&&(t[m+1]=rf(t[m+1],r)),t[a+1]=jx(t[a+1],r)}else t[r+1]=pc(a,0),a!==0&&(t[a+1]=rf(t[a+1],r)),a=r;else t[r+1]=pc(l,0),a===0?a=r:t[l+1]=rf(t[l+1],r),l=r;d&&(t[r+1]=Cf(t[r+1])),$v(t,p,r,!0),$v(t,p,r,!1),Ux(e,p,t,r,o),s=pc(a,l),o?e.classBindings=s:e.styleBindings=s}function Ux(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&fi(o,e)>=0&&(n[r+1]=If(n[r+1]))}function $v(t,e,n,r){let i=t[n+1],o=e===null,s=r?yr(i):Di(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],d=t[s+1];$x(l,e)&&(a=!0,t[s+1]=r?If(d):Cf(d)),s=r?yr(d):Di(d)}a&&(t[n+1]=r?Cf(i):If(i))}function $x(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?fi(t,e)>=0:!1}function Bc(t,e,n){return mw(t,e,n,!1),Bc}function jt(t,e){return mw(t,e,null,!0),jt}function mw(t,e,n,r){let i=se(),o=et(),s=nv(2);if(o.firstUpdatePass&&zx(o,t,s,r),e!==Dn&&jc(i,s,e)){let a=o.data[fr()];Zx(o,a,i,i[ue],t,i[s+1]=Qx(e,n),r,s)}}function Wx(t,e){return e>=t.expandoStartIndex}function zx(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[fr()],s=Wx(t,n);Jx(o,r)&&e===null&&!s&&(e=!1),e=Gx(i,o,e,r),Hx(i,o,e,n,s,r)}}function Gx(t,e,n,r){let i=sv(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=of(null,t,e,n,r),n=qo(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=of(i,t,e,n,r),o===null){let l=qx(t,e,r);l!==void 0&&Array.isArray(l)&&(l=of(null,t,e,l[1],r),l=qo(l,e.attrs,r),Yx(t,e,r,l))}else o=Kx(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function qx(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Di(r)!==0)return t[yr(r)]}function Yx(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[yr(i)]=r}function Kx(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=qo(r,s,n)}return qo(r,e.attrs,n)}function of(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=qo(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function qo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ky(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Zx(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,d=l[a+1],p=Bx(d)?Wv(l,e,n,i,Di(d),s):void 0;if(!Mc(p)){Mc(o)||Vx(d)&&(o=Wv(l,null,n,i,a,s));let h=kd(fr(),n);QA(r,s,h,i,o)}}function Wv(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],d=Array.isArray(l),p=d?l[1]:l,h=p===null,m=n[i+1];m===Dn&&(m=h?Je:void 0);let y=h?ec(m,r):p===r?m:void 0;if(d&&!Mc(y)&&(y=ec(l,r)),Mc(y)&&(a=y,s))return a;let _=t[i+1];i=s?yr(_):Di(_)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=ec(l,r))}return a}function Mc(t){return t!==void 0}function Qx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=tn(Rf(t)))),t}function Jx(t,e){return(t.flags&(e?8:16))!==0}function Q(t,e=""){let n=se(),r=et(),i=t+He,o=r.firstCreatePass?Kf(r,i,1,e,null):r.data[i],s=Xx(r,n,o,e,t);n[i]=s,dc()&&Hf(r,n,s,o),yi(o,!1)}var Xx=(t,e,n,r,i)=>(Lo(!0),NA(e[ue],r));function eM(t,e,n,r=""){return jc(t,ac(),n)?e+Qa(n)+r:Dn}function wr(t){return rn("",t),wr}function rn(t,e,n){let r=se(),i=eM(r,t,e,n);return i!==Dn&&tM(r,fr(),i),rn}function tM(t,e,n){let r=kd(e,t);xA(t[ue],r,n)}function yw(t,e,n){qd(e)&&(e=e());let r=se(),i=ac();if(jc(r,i,e)){let o=et(),s=Wd();k_(s,r,t,e,r[ue],n)}return yw}function nM(t,e){let n=qd(t);return n&&t.set(e),n}function vw(t,e){let n=se(),r=et(),i=Pe();return gw(r,n,n[ue],i,t,e),vw}function rM(t,e,n){let r=et();if(r.firstCreatePass){let i=Pt(t);Df(n,r.data,r.blueprint,i,!0),Df(e,r.data,r.blueprint,i,!1)}}function Df(t,e,n,r,i){if(t=De(t),Array.isArray(t))for(let o=0;o<t.length;o++)Df(t[o],e,n,r,i);else{let o=et(),s=se(),a=Pe(),l=Jn(t)?t:De(t.provide),d=Ad(t),p=a.providerIndexes&1048575,h=a.directiveStart,m=a.providerIndexes>>20;if(Jn(t)||!t.multi){let y=new gr(d,i,ie,null),_=af(l,e,i?p:p+m,h);_===-1?(lf(Ec(a,s),o,l),sf(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[_]=y,s[_]=y)}else{let y=af(l,e,p+m,h),_=af(l,e,p,p+m),C=y>=0&&n[y],I=_>=0&&n[_];if(i&&!I||!i&&!C){lf(Ec(a,s),o,l);let T=sM(i?oM:iM,n.length,i,r,d,t);!i&&I&&(n[_].providerFactory=T),sf(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else{let T=_w(n[i?_:y],d,!i&&r);sf(o,t,y>-1?y:_,T)}!i&&r&&I&&n[_].componentProviders++}}}function sf(t,e,n,r){let i=Jn(e),o=Ly(e);if(i||o){let l=(o?De(e.useClass):e).prototype.ngOnDestroy;if(l){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(n);p===-1?d.push(n,[r,l]):d[p+1].push(r,l)}else d.push(n,l)}}}function _w(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function af(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function iM(t,e,n,r,i){return Tf(this.multi,[])}function oM(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=bc(r,r[M],this.providerFactory.index,i);s=l.slice(0,a),Tf(o,s);for(let d=a;d<l.length;d++)s.push(l[d])}else s=[],Tf(o,s);return s}function Tf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function sM(t,e,n,r,i,o){let s=new gr(t,n,ie,null);return s.multi=[],s.index=e,s.componentProviders=0,_w(s,i,r&&!n),s}function Hc(t,e=[]){return n=>{n.providersResolver=(r,i)=>rM(r,i?i(t):t,e)}}var kc=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},aM=(()=>{class t{compileModuleSync(n){return new Ac(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Cd(n),o=w_(i.declarations).reduce((s,a)=>{let l=vn(a);return l&&s.push(new Ii(l)),s},[]);return new kc(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var cM=(()=>{class t{zone=D(pe);changeDetectionScheduler=D(mn);applicationRef=D(Mi);applicationErrorHandler=D(Ft);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ww({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new pe(ne(X({},Ew()),{scheduleInRootZone:n})),[{provide:pe,useFactory:t},{provide:ir,multi:!0,useFactory:()=>{let r=D(cM,{optional:!0});return()=>r.initialize()}},{provide:ir,multi:!0,useFactory:()=>{let r=D(lM);return()=>{r.initialize()}}},e===!0?{provide:Yd,useValue:!0}:[],{provide:Kd,useValue:n??sw},{provide:Ft,useFactory:()=>{let r=D(pe),i=D(je),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(er),o.handleError(s))})}}}]}function Ew(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var lM=(()=>{class t{subscription=new me;initialized=!1;zone=D(pe);pendingTasks=D(Cn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var bw=(()=>{class t{applicationErrorHandler=D(Ft);appRef=D(Mi);taskService=D(Cn);ngZone=D(pe);zonelessEnabled=D(fc);tracing=D(th,{optional:!0});disableScheduling=D(Yd,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new me;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Nc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(Kd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?jv:aw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Nc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,jv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function uM(){return typeof $localize<"u"&&$localize.locale||Xo}var Uc=new N("",{providedIn:"root",factory:()=>D(Uc,{optional:!0,skipSelf:!0})||uM()});function on(t){return by(t)}function es(t,e){return _a(t,e?.equal)}var Cw=class{[Ne];constructor(e){this[Ne]=e}destroy(){this[Ne].destroy()}};var Sw=Symbol("InputSignalNode#UNSET"),IM=ne(X({},wa),{transformFn:void 0,applyValueToInputSignal(t,e){ni(t,e)}});function Aw(t,e){let n=Object.create(IM);n.value=t,n.transformFn=e?.transform;function r(){if(Xr(n),n.value===Sw){let i=null;throw new F(-950,i)}return n.value}return r[Ne]=n,r}var DM=new N("");DM.__NG_ELEMENT_ID__=t=>{let e=Pe();if(e===null)throw new F(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new F(204,!1)};function Iw(t,e){return Aw(t,e)}function TM(t){return Aw(Sw,t)}var j4=(Iw.required=TM,Iw);var Ri=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Nw=new Ri("20.2.4");var ah=new N(""),SM=new N("");function ts(t){return!t.moduleRef}function AM(t){let e=ts(t)?t.r3Injector:t.moduleRef.injector,n=e.get(pe);return n.run(()=>{ts(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Ft),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),ts(t)){let o=()=>e.destroy(),s=t.platformInjector.get(ah);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(ah);s.add(o),t.moduleRef.onDestroy(()=>{Ho(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return xM(r,n,()=>{let o=e.get(Cn),s=o.add(),a=e.get(sh);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(Uc,Xo);if(pw(l||Xo),!e.get(SM,!0))return ts(t)?e.get(Mi):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ts(t)){let p=e.get(Mi);return t.rootComponent!==void 0&&p.bootstrap(t.rootComponent),p}else return NM?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var NM;function xM(t,e,n){try{let r=n();return xi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var $c=null;function MM(t=[],e){return Be.create({name:e,providers:[{provide:Sd,useValue:"platform"},{provide:ah,useValue:new Set([()=>$c=null])},...t]})}function kM(t=[]){if($c)return $c;let e=MM(t);return $c=e,fw(),RM(e),e}function RM(t){let e=t.get(f_,null);_n(t,()=>{e?.forEach(n=>n())})}function fh(){return!1}var hh=(()=>{class t{static __NG_ELEMENT_ID__=PM}return t})();function PM(t){return OM(Pe(),se(),(t&16)===16)}function OM(t,e,n){if(En(t)&&!n){let r=dt(t.index,e);return new In(r,r)}else if(t.type&175){let r=e[lt];return new In(r,e)}return null}var ch=class{constructor(){}supports(e){return Jf(e)}create(e){return new lh(e)}},FM=(t,e)=>e,lh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||FM}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Dw(r,i,o)?n:r,a=Dw(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,p=l-i;if(d!=p){for(let m=0;m<d;m++){let y=m<o.length?o[m]:o[m]=0,_=y+m;p<=_&&_<d&&(o[m]=y+1)}let h=s.previousIndex;o[h]=p-d}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Jf(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Z_(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new uh(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Wc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Wc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},uh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},dh=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Wc=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new dh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Dw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Tw(){return new ph([new ch])}var ph=(()=>{class t{factories;static \u0275prov=Z({token:t,providedIn:"root",factory:Tw});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=D(t,{optional:!0,skipSelf:!0});return t.create(n,r||Tw())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new F(901,!1)}}return t})();function B4(t){re(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=kM(r),o=[ww({}),{provide:mn,useExisting:bw},pv,...n||[]],s=new Go({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return AM({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{re(9)}}function xw(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Rw=null;function Er(){return Rw}function LM(t){Rw??=t}var gh=class{},mh=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>D(Pw),providedIn:"platform"})}return t})();var Pw=(()=>{class t extends mh{_location;_history;_doc=D(Vo);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Er().getBaseHref(this._doc)}onPopState(n){let r=Er().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Er().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Ow(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Mw(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Sn(t){return t&&t[0]!=="?"?`?${t}`:t}var zc=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>D(Lw),providedIn:"root"})}return t})(),Fw=new N(""),Lw=(()=>{class t extends zc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??D(Vo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ow(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Sn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Sn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Sn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(we(mh),we(Fw,8))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vw=(()=>{class t{_subject=new pt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=BM(Mw(kw(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Sn(r))}normalize(n){return t.stripTrailingSlash(jM(this._basePath,kw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Sn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Sn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Sn;static joinWithSlash=Ow;static stripTrailingSlash=Mw;static \u0275fac=function(r){return new(r||t)(we(zc))};static \u0275prov=Z({token:t,factory:()=>VM(),providedIn:"root"})}return t})();function VM(){return new Vw(we(zc))}function jM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function kw(t){return t.replace(/\/index.html$/,"")}function BM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var yh=/\s+/,jw=[],vh=(()=>{class t{_ngEl;_renderer;initialClasses=jw;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(yh):jw}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(yh):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(yh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(ie(vr),ie(Ai))};static \u0275dir=vt({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Gc=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Yc=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Gc(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Bw(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Bw(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(ie(Zo),ie(Yo),ie(ph))};static \u0275dir=vt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Bw(t,e){t.context.$implicit=e.item}var _h=(()=>{class t{_viewContainer;_context=new qc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Hw(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Hw(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(ie(Zo),ie(Yo))};static \u0275dir=vt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),qc=class{$implicit=null;ngIf=null};function Hw(t,e){if(t&&!t.createEmbeddedView)throw new F(2020,!1)}var wh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ni({type:t});static \u0275inj=nr({})}return t})();function HM(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Eh=class{};var m7="browser";var Kw=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(ie(Ai),ie(vr))};static \u0275dir=vt({type:t})}return t})(),$M=(()=>{class t extends Kw{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Af(t)))(i||t)}})();static \u0275dir=vt({type:t,features:[_r]})}return t})(),Zw=new N("");var WM={provide:Zw,useExisting:tr(()=>Qw),multi:!0};function zM(){let t=Er()?Er().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var GM=new N(""),Qw=(()=>{class t extends Kw{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!zM())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(ie(Ai),ie(vr),ie(GM,8))};static \u0275dir=vt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Me("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Hc([WM]),_r]})}return t})();var qM=new N(""),YM=new N("");function Jw(t){return t!=null}function Xw(t){return xi(t)?Mt(t):t}function eE(t){let e={};return t.forEach(n=>{e=n!=null?X(X({},e),n):e}),Object.keys(e).length===0?null:e}function tE(t,e){return e.map(n=>n(t))}function KM(t){return!t.validate}function nE(t){return t.map(e=>KM(e)?e:n=>e.validate(n))}function ZM(t){if(!t)return null;let e=t.filter(Jw);return e.length==0?null:function(n){return eE(tE(n,e))}}function rE(t){return t!=null?ZM(nE(t)):null}function QM(t){if(!t)return null;let e=t.filter(Jw);return e.length==0?null:function(n){let r=tE(n,e).map(Xw);return Yu(r).pipe(Xt(eE))}}function iE(t){return t!=null?QM(nE(t)):null}function Uw(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function JM(t){return t._rawValidators}function XM(t){return t._rawAsyncValidators}function bh(t){return t?Array.isArray(t)?t:[t]:[]}function Zc(t,e){return Array.isArray(t)?t.includes(e):t===e}function $w(t,e){let n=bh(e);return bh(t).forEach(i=>{Zc(n,i)||n.push(i)}),n}function Ww(t,e){return bh(e).filter(n=>!Zc(t,n))}var Qc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=rE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=iE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ch=class extends Qc{name;get formDirective(){return null}get path(){return null}},ss=class extends Qc{_parent=null;name=null;valueAccessor=null},Ih=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},ek={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},L7=ne(X({},ek),{"[class.ng-submitted]":"isSubmitted"}),V7=(()=>{class t extends Ih{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ie(ss,2))};static \u0275dir=vt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&jt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[_r]})}return t})();var ns="VALID",Kc="INVALID",Oi="PENDING",rs="DISABLED",Li=class{},Jc=class extends Li{value;source;constructor(e,n){super(),this.value=e,this.source=n}},is=class extends Li{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},os=class extends Li{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Fi=class extends Li{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function tk(t){return(Xc(t)?t.validators:t)||null}function nk(t){return Array.isArray(t)?rE(t):t||null}function rk(t,e){return(Xc(e)?e.asyncValidators:t)||null}function ik(t){return Array.isArray(t)?iE(t):t||null}function Xc(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Dh=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return on(this.statusReactive)}set status(e){on(()=>this.statusReactive.set(e))}_status=es(()=>this.statusReactive());statusReactive=hr(void 0);get valid(){return this.status===ns}get invalid(){return this.status===Kc}get pending(){return this.status==Oi}get disabled(){return this.status===rs}get enabled(){return this.status!==rs}errors;get pristine(){return on(this.pristineReactive)}set pristine(e){on(()=>this.pristineReactive.set(e))}_pristine=es(()=>this.pristineReactive());pristineReactive=hr(!0);get dirty(){return!this.pristine}get touched(){return on(this.touchedReactive)}set touched(e){on(()=>this.touchedReactive.set(e))}_touched=es(()=>this.touchedReactive());touchedReactive=hr(!1);get untouched(){return!this.touched}_events=new pt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($w(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($w(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ww(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ww(e,this._rawAsyncValidators))}hasValidator(e){return Zc(this._rawValidators,e)}hasAsyncValidator(e){return Zc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ne(X({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new os(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new os(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ne(X({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new is(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new is(!0,r))}markAsPending(e={}){this.status=Oi;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fi(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ne(X({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=rs,this.errors=null,this._forEachChild(i=>{i.disable(ne(X({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jc(this.value,r)),this._events.next(new Fi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ne(X({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ns,this._forEachChild(r=>{r.enable(ne(X({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ne(X({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ns||this.status===Oi)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jc(this.value,n)),this._events.next(new Fi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ne(X({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rs:ns}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Oi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=Xw(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Fi(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new rt,this.statusChanges=new rt}_calculateStatus(){return this._allControlsDisabled()?rs:this.errors?Kc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oi)?Oi:this._anyControlsHaveStatus(Kc)?Kc:ns}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new is(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new os(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xc(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=nk(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=ik(this._rawAsyncValidators)}};var oE=new N("",{providedIn:"root",factory:()=>Th}),Th="always";function ok(t,e){return[...e.path,t]}function sk(t,e,n=Th){ck(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),lk(t,e),dk(t,e),uk(t,e),ak(t,e)}function zw(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function ak(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function ck(t,e){let n=JM(t);e.validator!==null?t.setValidators(Uw(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=XM(t);e.asyncValidator!==null?t.setAsyncValidators(Uw(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();zw(e._rawValidators,i),zw(e._rawAsyncValidators,i)}function lk(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&sE(t,e)})}function uk(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&sE(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function sE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function dk(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function fk(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function hk(t){return Object.getPrototypeOf(t.constructor)===$M}function pk(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Qw?n=o:hk(o)?r=o:i=o}),i||r||n||null}function Gw(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function qw(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var gk=class extends Dh{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(tk(n),rk(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(qw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Gw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Gw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){qw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var mk={provide:ss,useExisting:tr(()=>yk)},Yw=Promise.resolve(),yk=(()=>{class t extends ss{_changeDetectorRef;callSetDisabledState;control=new gk;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new rt;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=pk(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),fk(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){sk(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Yw.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&xw(r);Yw.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?ok(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(ie(Ch,9),ie(qM,10),ie(YM,10),ie(Zw,10),ie(hh,8),ie(oE,8))};static \u0275dir=vt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Hc([mk]),_r,Rc]})}return t})();var vk=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ni({type:t});static \u0275inj=nr({})}return t})();var aE=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:oE,useValue:n.callSetDisabledState??Th}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ni({type:t});static \u0275inj=nr({imports:[vk]})}return t})();var Ks=rT(cE());var lE=()=>{};var Nh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var E=function(t,e){if(!t)throw br(e)},br=function(t){return new Error("Firebase Database ("+Nh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var fE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_k=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Bi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,d=l?t[i+2]:0,p=o>>2,h=(o&3)<<4|a>>4,m=(a&15)<<2|d>>6,y=d&63;l||(y=64,s||(m=64)),r.push(n[p],n[h],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_k(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||d==null||h==null)throw new xh;let m=o<<2|a>>4;if(r.push(m),d!==64){let y=a<<4&240|d>>2;if(r.push(y),h!==64){let _=d<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},xh=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},kh=function(t){let e=fE(t);return Bi.encodeByteArray(e,!0)},cs=function(t){return kh(t).replace(/\./g,"")},Vi=function(t){try{return Bi.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hE(t){return pE(void 0,t)}function pE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!wk(n)||(t[n]=pE(t[n],e[n]));return t}function wk(t){return t!=="__proto__"}function gE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Ek=()=>gE().__FIREBASE_DEFAULTS__,bk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ck=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Vi(t[1]);return e&&JSON.parse(e)},Rh=()=>{try{return lE()||Ek()||bk()||Ck()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mE=t=>{var e,n;return(n=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yE=t=>{let e=mE(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ph=()=>{var t;return(t=Rh())===null||t===void 0?void 0:t.config},vE=t=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${t}`]};var _t=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Cr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function Oh(t){return w(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function _E(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cs(JSON.stringify(n)),cs(JSON.stringify(s)),""].join(".")}var as={};function Ik(){let t={prod:[],emulator:[]};for(let e of Object.keys(as))as[e]?t.emulator.push(e):t.prod.push(e);return t}function Dk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var uE=!1;function Fh(t,e){if(typeof window>"u"||typeof document>"u"||!Cr(window.location.host)||as[t]===e||as[t]||uE)return;as[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=Ik().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{uE=!0,s()},m}function p(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){let m=Dk(r),y=n("text"),_=document.getElementById(y)||document.createElement("span"),C=n("learnmore"),I=document.getElementById(C)||document.createElement("a"),T=n("preprendIcon"),Re=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Ge=m.element;a(Ge),p(I,C);let Qt=d();l(Re,T),Ge.append(Re,_,I,Qt),document.body.appendChild(Ge)}o?(_.innerText="Preview backend disconnected.",Re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ls(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function wE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EE(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tl(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ut(){return Nh.NODE_CLIENT===!0||Nh.NODE_ADMIN===!0}function nl(){try{return typeof indexedDB=="object"}catch{return!1}}function bE(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var Tk="FirebaseError",Ht=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Tk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}},wt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Sk(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ht(i,a,r)}};function Sk(t,e){return t.replace(Ak,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Ak=/\{\$([^}]+)}/g;function ji(t){return JSON.parse(t)}function ve(t){return JSON.stringify(t)}var CE=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=ji(Vi(o[0])||""),n=ji(Vi(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var IE=function(t){let e=CE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},DE=function(t){let e=CE(t).claims;return typeof e=="object"&&e.admin===!0};function $t(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ir(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function rl(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function us(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Dr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(dE(o)&&dE(s)){if(!Dr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function dE(t){return t!==null&&typeof t=="object"}function ds(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var el=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){let m=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(m<<1|m>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],d,p;for(let h=0;h<80;h++){h<40?h<20?(d=a^o&(s^a),p=1518500249):(d=o^s^a,p=1859775393):h<60?(d=o&s|a&(o|s),p=2400959708):(d=o^s^a,p=3395469782);let m=(i<<5|i>>>27)+d+l+p+r[h]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=m}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function TE(t,e){let n=new Mh(t,e);return n.subscribe.bind(n)}var Mh=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Nk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ah),i.error===void 0&&(i.error=Ah),i.complete===void 0&&(i.complete=Ah);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Nk(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ah(){}function il(t,e){return`${t} failed: ${e} argument `}var SE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,E(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fs=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var W7=14400*1e3;function it(t){return t&&t._delegate?t._delegate:t}var Oe=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Tr="[DEFAULT]";var ol=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new _t;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Mk(e))try{this.getOrInitializeService({instanceIdentifier:Tr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Tr){return this.instances.has(e)}getOptions(e=Tr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Tr){return this.component?this.component.multipleInstances?e:Tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function xk(t){return t===Tr?void 0:t}function Mk(t){return t.instantiationMode==="EAGER"}var hs=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ol(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var kk=[],ee=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(ee||{}),Rk={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},Pk=ee.INFO,Ok={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},Fk=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Ok[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Wt=class{constructor(e){this.name=e,this._logLevel=Pk,this._logHandler=Fk,this._userLogHandler=null,kk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}};var Lk=(t,e)=>e.some(n=>t instanceof n),AE,NE;function Vk(){return AE||(AE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jk(){return NE||(NE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var xE=new WeakMap,Vh=new WeakMap,ME=new WeakMap,Lh=new WeakMap,Bh=new WeakMap;function Bk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(zt(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&xE.set(n,t)}).catch(()=>{}),Bh.set(e,t),e}function Hk(t){if(Vh.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Vh.set(t,e)}var jh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ME.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kE(t){jh=t(jh)}function Uk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(sl(this),e,...n);return ME.set(r,e.sort?e.sort():[e]),zt(r)}:jk().includes(t)?function(...e){return t.apply(sl(this),e),zt(xE.get(this))}:function(...e){return zt(t.apply(sl(this),e))}}function $k(t){return typeof t=="function"?Uk(t):(t instanceof IDBTransaction&&Hk(t),Lk(t,Vk())?new Proxy(t,jh):t)}function zt(t){if(t instanceof IDBRequest)return Bk(t);if(Lh.has(t))return Lh.get(t);let e=$k(t);return e!==t&&(Lh.set(t,e),Bh.set(e,t)),e}var sl=t=>Bh.get(t);function PE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=zt(s);return r&&s.addEventListener("upgradeneeded",l=>{r(zt(s.result),l.oldVersion,l.newVersion,zt(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var Wk=["get","getKey","getAll","getAllKeys","count"],zk=["put","add","delete","clear"],Hh=new Map;function RE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hh.get(e))return Hh.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=zk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Wk.includes(n)))return;let o=function(s,...a){return w(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),d=l.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[n](...a),i&&l.done]))[0]})};return Hh.set(e,o),o}kE(t=>ne(X({},t),{get:(e,n,r)=>RE(e,n)||t.get(e,n,r),has:(e,n)=>!!RE(e,n)||t.has(e,n)}));var $h=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Gk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Gk(t){let e=t.getComponent();return e?.type==="VERSION"}var Wh="@firebase/app",OE="0.13.2";var sn=new Wt("@firebase/app"),qk="@firebase/app-compat",Yk="@firebase/analytics-compat",Kk="@firebase/analytics",Zk="@firebase/app-check-compat",Qk="@firebase/app-check",Jk="@firebase/auth",Xk="@firebase/auth-compat",eR="@firebase/database",tR="@firebase/data-connect",nR="@firebase/database-compat",rR="@firebase/functions",iR="@firebase/functions-compat",oR="@firebase/installations",sR="@firebase/installations-compat",aR="@firebase/messaging",cR="@firebase/messaging-compat",lR="@firebase/performance",uR="@firebase/performance-compat",dR="@firebase/remote-config",fR="@firebase/remote-config-compat",hR="@firebase/storage",pR="@firebase/storage-compat",gR="@firebase/firestore",mR="@firebase/ai",yR="@firebase/firestore-compat",vR="firebase",_R="11.10.0";var zh="[DEFAULT]",wR={[Wh]:"fire-core",[qk]:"fire-core-compat",[Kk]:"fire-analytics",[Yk]:"fire-analytics-compat",[Qk]:"fire-app-check",[Zk]:"fire-app-check-compat",[Jk]:"fire-auth",[Xk]:"fire-auth-compat",[eR]:"fire-rtdb",[tR]:"fire-data-connect",[nR]:"fire-rtdb-compat",[rR]:"fire-fn",[iR]:"fire-fn-compat",[oR]:"fire-iid",[sR]:"fire-iid-compat",[aR]:"fire-fcm",[cR]:"fire-fcm-compat",[lR]:"fire-perf",[uR]:"fire-perf-compat",[dR]:"fire-rc",[fR]:"fire-rc-compat",[hR]:"fire-gcs",[pR]:"fire-gcs-compat",[gR]:"fire-fst",[yR]:"fire-fst-compat",[mR]:"fire-vertex","fire-js":"fire-js",[vR]:"fire-js-all"};var ps=new Map,ER=new Map,Gh=new Map;function FE(t,e){try{t.container.addComponent(e)}catch(n){sn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bt(t){let e=t.name;if(Gh.has(e))return sn.debug(`There were multiple attempts to register component ${e}.`),!1;Gh.set(e,t);for(let n of ps.values())FE(n,t);for(let n of ER.values())FE(n,t);return!0}function al(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function an(t){return t==null?!1:t.settings!==void 0}var bR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},An=new wt("app","Firebase",bR);var qh=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}};var Hi=_R;function Zh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:zh,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw An.create("bad-app-name",{appName:String(i)});if(n||(n=Ph()),!n)throw An.create("no-options");let o=ps.get(i);if(o){if(Dr(n,o.options)&&Dr(r,o.config))return o;throw An.create("duplicate-app",{appName:i})}let s=new hs(i);for(let l of Gh.values())s.addComponent(l);let a=new qh(n,r,s);return ps.set(i,a),a}function Ui(t=zh){let e=ps.get(t);if(!e&&t===zh&&Ph())return Zh();if(!e)throw An.create("no-app",{appName:t});return e}function cl(){return Array.from(ps.values())}function ge(t,e,n){var r;let i=(r=wR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sn.warn(a.join(" "));return}bt(new Oe(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var CR="firebase-heartbeat-database",IR=1,gs="firebase-heartbeat-store",Uh=null;function BE(){return Uh||(Uh=PE(CR,IR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gs)}catch(n){console.warn(n)}}}}).catch(t=>{throw An.create("idb-open",{originalErrorMessage:t.message})})),Uh}function DR(t){return w(this,null,function*(){try{let n=(yield BE()).transaction(gs),r=yield n.objectStore(gs).get(HE(t));return yield n.done,r}catch(e){if(e instanceof Ht)sn.warn(e.message);else{let n=An.create("idb-get",{originalErrorMessage:e?.message});sn.warn(n.message)}}})}function LE(t,e){return w(this,null,function*(){try{let r=(yield BE()).transaction(gs,"readwrite");yield r.objectStore(gs).put(e,HE(t)),yield r.done}catch(n){if(n instanceof Ht)sn.warn(n.message);else{let r=An.create("idb-set",{originalErrorMessage:n?.message});sn.warn(r.message)}}})}function HE(t){return`${t.name}!${t.options.appId}`}var TR=1024,SR=30,Yh=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Kh(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=VE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>SR){let s=NR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){sn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=VE(),{heartbeatsToSend:r,unsentEntries:i}=AR(this._heartbeatsCache.heartbeats),o=cs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return sn.warn(n),""}})}};function VE(){return new Date().toISOString().substring(0,10)}function AR(t,e=TR){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),jE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Kh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return nl()?bE().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield DR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return LE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return LE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function jE(t){return cs(JSON.stringify({version:2,heartbeats:t})).length}function NR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function xR(t){bt(new Oe("platform-logger",e=>new $h(e),"PRIVATE")),bt(new Oe("heartbeat",e=>new Yh(e),"PRIVATE")),ge(Wh,OE,t),ge(Wh,OE,"esm2017"),ge("fire-js","")}xR("");var MR="firebase",kR="11.10.0";ge(MR,kR,"app");function UE(t){t===void 0&&(t=D(Be));let e=t.get(_i);return n=>new k(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ar=new Ri("ANGULARFIRE2_VERSION");function ul(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Wi=(t,e)=>{let n=e?[e]:cl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},$i=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})($i||{}),$E=fh()&&typeof Zone<"u"?$i.WARN:$i.SILENT;var ll=class{zone;delegate;constructor(e,n=Gu){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Nr=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=D(pe);this.outsideAngular=n.runOutsideAngular(()=>new ll(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new ll(typeof Zone>"u"?void 0:Zone.current,zu))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WE=!1;function RR(t,e){!WE&&($E>$i.SILENT||fh())&&(WE=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),$E>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function PR(t){let e=D(pe,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Sr(t){let e=D(pe,{optional:!0});return e?e.run(()=>t()):t()}var OR=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),_n(n,()=>Sr(()=>t.apply(void 0,r)))),Ct=(t,e,n)=>(n||=e?$i.WARN:$i.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=D(Nr),s=D(_i),a=D(je)}catch{return RR(t,n),t.apply(this,i)}for(let d=0;d<arguments.length;d++)typeof i[d]=="function"&&(e&&(r||=Sr(()=>s.add())),i[d]=OR(i[d],r,a));let l=PR(()=>t.apply(this,i));return e?l instanceof k?l.pipe(pn(o.outsideAngular),hn(o.insideAngular),UE(a)):l instanceof Promise?Sr(()=>{let d=s.add();return new Promise((p,h)=>{l.then(m=>_n(a,()=>Sr(()=>p(m))),m=>_n(a,()=>Sr(()=>h(m)))).finally(d)})}):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:Sr(()=>l):l instanceof k?l.pipe(pn(o.outsideAngular),hn(o.insideAngular)):Sr(()=>l)});var xr=class{constructor(e){return e}},ms=class{constructor(){return cl()}};function FR(t){return t&&t.length===1?t[0]:new xr(Ui())}var Qh=new N("angularfire2._apps"),LR={provide:xr,useFactory:FR,deps:[[new nn,Qh]]},VR={provide:ms,deps:[[new nn,Qh]]};function jR(t){return(e,n)=>{let r=n.get(xf);ge("angularfire",Ar.full,"core"),ge("angularfire",Ar.full,"app"),ge("angular",Nw.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new xr(i)}}function j9(t,...e){return or([LR,VR,{provide:Qh,useFactory:jR(t),multi:!0,deps:[pe,Be,Nr,...e]}])}var B9=Ct(Zh,!0);var BR=new Map,HR={activated:!1,tokenObservers:[]},UR={initialized:!1,enabled:!1};function It(t){return BR.get(t)||Object.assign({},HR)}function YE(){return UR}var $R="https://content-firebaseappcheck.googleapis.com/v1";var WR="exchangeDebugToken",zE={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},K9=1440*60*1e3;var ep=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return w(this,null,function*(){this.stop();try{this.pending=new _t,this.pending.promise.catch(n=>{}),yield zR(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new _t,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function zR(t){return new Promise(e=>{setTimeout(e,t)})}var GR={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Nn=new wt("appCheck","AppCheck",GR);function KE(t){if(!It(t).activated)throw Nn.create("use-before-activation",{appName:t.name})}function ZE(r,i){return w(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(t,a)}catch(y){throw Nn.create("fetch-network-error",{originalErrorMessage:y?.message})}if(l.status!==200)throw Nn.create("fetch-status-error",{httpStatus:l.status});let d;try{d=yield l.json()}catch(y){throw Nn.create("fetch-parse-error",{originalErrorMessage:y?.message})}let p=d.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Nn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});let h=Number(p[1])*1e3,m=Date.now();return{token:d.token,expireTimeMillis:m+h,issuedAtTimeMillis:m}})}function QE(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${$R}/projects/${n}/apps/${r}:${WR}?key=${i}`,body:{debug_token:e}}}var qR="firebase-app-check-database",YR=1,tp="firebase-app-check-store";var dl=null;function KR(){return dl||(dl=new Promise((t,e)=>{try{let n=indexedDB.open(qR,YR);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Nn.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(tp,{keyPath:"compositeKey"})}}}catch(n){e(Nn.create("storage-open",{originalErrorMessage:n?.message}))}}),dl)}function ZR(t,e){return QR(JR(t),e)}function QR(t,e){return w(this,null,function*(){let r=(yield KR()).transaction(tp,"readwrite"),o=r.objectStore(tp).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var d;a(Nn.create("storage-set",{originalErrorMessage:(d=l.target.error)===null||d===void 0?void 0:d.message}))}})})}function JR(t){return`${t.options.appId}-${t.name}`}var ys=new Wt("@firebase/app-check");function Jh(t,e){return nl()?ZR(t,e).catch(n=>{ys.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function JE(){return YE().enabled}function XE(){return w(this,null,function*(){let t=YE();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var XR={error:"UNKNOWN_ERROR"};function eP(t){return Bi.encodeString(JSON.stringify(t),!1)}function np(t,e=!1,n=!1){return w(this,null,function*(){let r=t.app;KE(r);let i=It(r),o=i.token,s;if(o&&!vs(o)&&(i.token=void 0,o=void 0),!o){let d=yield i.cachedTokenPromise;d&&(vs(d)?o=d:yield Jh(r,void 0))}if(!e&&o&&vs(o))return{token:o.token};let a=!1;if(JE())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=ZE(QE(r,yield XE()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let d=yield i.exchangeTokenPromise;return yield Jh(r,d),i.token=d,{token:d.token}}catch(d){return d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?ys.warn(d.message):n&&ys.error(d),Xh(d)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield It(r).exchangeTokenPromise}catch(d){d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?ys.warn(d.message):n&&ys.error(d),s=d}let l;return o?s?vs(o)?l={token:o.token,internalError:s}:l=Xh(s):(l={token:o.token},i.token=o,yield Jh(r,o)):l=Xh(s),a&&iP(r,l),l})}function tP(t){return w(this,null,function*(){let e=t.app;KE(e);let{provider:n}=It(e);if(JE()){let r=yield XE(),{token:i}=yield ZE(QE(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function nP(t,e,n,r){let{app:i}=t,o=It(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&vs(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),GE(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>GE(t))}function eb(t,e){let n=It(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function GE(t){let{app:e}=t,n=It(e),r=n.tokenRefresher;r||(r=rP(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function rP(t){let{app:e}=t;return new ep(()=>w(null,null,function*(){let n=It(e),r;if(n.token?r=yield np(t,!0):r=yield np(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=It(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},zE.RETRIAL_MIN_WAIT,zE.RETRIAL_MAX_WAIT)}function iP(t,e){let n=It(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function vs(t){return t.expireTimeMillis-Date.now()>0}function Xh(t){return{token:eP(XR),error:t}}var rp=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=It(this.app);for(let n of e)eb(this.app,n.next);return Promise.resolve()}};function oP(t,e){return new rp(t,e)}function sP(t){return{getToken:e=>np(t,e),getLimitedUseToken:()=>tP(t),addTokenListener:e=>nP(t,"INTERNAL",e),removeTokenListener:e=>eb(t.app,e)}}var aP="@firebase/app-check",cP="0.10.1";var lP="app-check",qE="app-check-internal";function uP(){bt(new Oe(lP,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return oP(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(qE).initialize()})),bt(new Oe(qE,t=>{let e=t.getProvider("app-check").getImmediate();return sP(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ge(aP,cP)}uP();var dP="app-check";var fl=class{constructor(){return Wi(dP)}};var fP=["localhost","0.0.0.0","127.0.0.1"],cY=typeof window<"u"&&fP.includes(window.location.hostname);function cb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var lb=cb,ub=new wt("auth","Firebase",cb());var ml=new Wt("@firebase/auth");function hP(t,...e){ml.logLevel<=ee.WARN&&ml.warn(`Auth (${Hi}): ${t}`,...e)}function pl(t,...e){ml.logLevel<=ee.ERROR&&ml.error(`Auth (${Hi}): ${t}`,...e)}function tb(t,...e){throw gp(t,...e)}function pp(t,...e){return gp(t,...e)}function db(t,e,n){let r=Object.assign(Object.assign({},lb()),{[e]:n});return new wt("auth","Firebase",r).create(e,{appName:t.name})}function gl(t){return db(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gp(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ub.create(t,...e)}function Y(t,e,...n){if(!t)throw gp(e,...n)}function _s(t){let e="INTERNAL ASSERTION FAILED: "+t;throw pl(e),new Error(e)}function yl(t,e){t||_s(e)}function pP(){return nb()==="http:"||nb()==="https:"}function nb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function gP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pP()||EE()||"connection"in navigator)?navigator.onLine:!0}function mP(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Rr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,yl(n>e,"Short delay should be less than long delay!"),this.isMobile=ls()||tl()}get(){return gP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function yP(t,e){yl(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var vl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var vP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var _P=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wP=new Rr(3e4,6e4);function fb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Cl(o,s,a,l){return w(this,arguments,function*(t,e,n,r,i={}){return hb(t,i,()=>w(null,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let h=ds(Object.assign({key:t.config.apiKey},p)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},d);return wE()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&Cr(t.emulatorConfig.host)&&(y.credentials="include"),vl.fetch()(yield pb(t,t.config.apiHost,n,h),y)}))})}function hb(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},vP),e);try{let i=new sp(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw hl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hl(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw hl(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw hl(t,"user-disabled",s);let p=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw db(t,p,d);tb(t,p)}}catch(i){if(i instanceof Ht)throw i;tb(t,"network-request-failed",{message:String(i)})}})}function pb(t,e,n,r){return w(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?yP(t.config,i):`${t.config.apiScheme}://${i}`;return _P.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var sp=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pp(this.auth,"network-request-failed")),wP.get())})}};function hl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=pp(t,e,r);return i.customData._tokenResponse=n,i}function EP(t,e){return w(this,null,function*(){return Cl(t,"POST","/v1/accounts:delete",e)})}function _l(t,e){return w(this,null,function*(){return Cl(t,"POST","/v1/accounts:lookup",e)})}function ws(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function mp(t,e=!1){return w(this,null,function*(){let n=it(t),r=yield n.getIdToken(e),i=gb(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ws(ip(i.auth_time)),issuedAtTime:ws(ip(i.iat)),expirationTime:ws(ip(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function ip(t){return Number(t)*1e3}function gb(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Vi(n);return i?JSON.parse(i):(pl("Failed to decode base64 JWT payload"),null)}catch(i){return pl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function rb(t){let e=gb(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ap(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ht&&bP(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function bP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var cp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var bs=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ws(this.lastLoginAt),this.creationTime=ws(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function wl(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ap(t,_l(n,{idToken:r}));Y(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?mb(o.providerUserInfo):[],a=CP(t.providerData,s),l=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!a?.length,p=l?d:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bs(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,h)})}function yp(t){return w(this,null,function*(){let e=it(t);yield wl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function CP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mb(t){return t.map(e=>{var{providerId:n}=e,r=qu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function IP(t,e){return w(this,null,function*(){let n=yield hb(t,{},()=>w(null,null,function*(){let r=ds({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield pb(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Cr(t.emulatorConfig.host)&&(l.credentials="include"),vl.fetch()(s,l)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function DP(t,e){return w(this,null,function*(){return Cl(t,"POST","/v2/accounts:revokeToken",fb(t,e))})}var Es=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");let n=rb(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield IP(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return _s("not implemented")}};function xn(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Mr=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=qu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bs(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield ap(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return mp(this,e)}reload(){return yp(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield wl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(an(this.auth.app))return Promise.reject(gl(this.auth));let e=yield this.getIdToken();return yield ap(this,EP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,d,p;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(s=n.photoURL)!==null&&s!==void 0?s:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(d=n.createdAt)!==null&&d!==void 0?d:void 0,Re=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:Ge,emailVerified:Qt,isAnonymous:On,providerData:Fn,stsTokenManager:ln}=n;Y(Ge&&ln,e,"internal-error");let oo=Es.fromJSON(this.name,ln);Y(typeof Ge=="string",e,"internal-error"),xn(h,e.name),xn(m,e.name),Y(typeof Qt=="boolean",e,"internal-error"),Y(typeof On=="boolean",e,"internal-error"),xn(y,e.name),xn(_,e.name),xn(C,e.name),xn(I,e.name),xn(T,e.name),xn(Re,e.name);let _e=new t({uid:Ge,auth:e,email:m,emailVerified:Qt,displayName:h,isAnonymous:On,photoURL:_,phoneNumber:y,tenantId:C,stsTokenManager:oo,createdAt:T,lastLoginAt:Re});return Fn&&Array.isArray(Fn)&&(_e.providerData=Fn.map(Ln=>Object.assign({},Ln))),I&&(_e._redirectEventId=I),_e}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Es;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield wl(o),o})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];Y(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?mb(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Es;a.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new bs(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,d),l})}};var ib=new Map;function kr(t){yl(t instanceof Function,"Expected a class definition");let e=ib.get(t);return e?(yl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ib.set(t,e),e)}var TP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),lp=TP;function op(t,e,n){return`firebase:${t}:${e}:${n}`}var El=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=op(this.userKey,i.apiKey,o),this.fullPersistenceKey=op("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield _l(this.auth,{idToken:e}).catch(()=>{});return n?Mr._fromGetAccountInfoResponse(this.auth,n,e):null}return Mr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(kr(lp),e,r);let i=(yield Promise.all(n.map(d=>w(null,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||kr(lp),s=op(r,e.config.apiKey,e.name),a=null;for(let d of n)try{let p=yield d._get(s);if(p){let h;if(typeof p=="string"){let m=yield _l(e,{idToken:p}).catch(()=>{});if(!m)break;h=yield Mr._fromGetAccountInfoResponse(e,m,p)}else h=Mr._fromJSON(e,p);d!==o&&(a=h),o=d;break}}catch{}let l=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new t(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(d=>w(null,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new t(o,e,r))})}};function ob(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kP(e))return"Blackberry";if(RP(e))return"Webos";if(AP(e))return"Safari";if((e.includes("chrome/")||NP(e))&&!e.includes("edge/"))return"Chrome";if(MP(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function SP(t=Et()){return/firefox\//i.test(t)}function AP(t=Et()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NP(t=Et()){return/crios\//i.test(t)}function xP(t=Et()){return/iemobile/i.test(t)}function MP(t=Et()){return/android/i.test(t)}function kP(t=Et()){return/blackberry/i.test(t)}function RP(t=Et()){return/webos/i.test(t)}function yb(t,e=[]){let n;switch(t){case"Browser":n=ob(Et());break;case"Worker":n=`${ob(Et())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hi}/${r}`}var up=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function PP(n){return w(this,arguments,function*(t,e={}){return Cl(t,"GET","/v2/passwordPolicy",fb(t,e))})}var OP=6,dp=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:OP,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var fp=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bl(this),this.idTokenSubscription=new bl(this),this.beforeStateQueue=new up(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=kr(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield El.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield _l(this,{idToken:e}),r=yield Mr._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(an(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield wl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=mP()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(an(this.app))return Promise.reject(gl(this));let n=e?it(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return an(this.app)?Promise.reject(gl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return an(this.app)?Promise.reject(gl(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(kr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield PP(this),n=new dp(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield DP(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&kr(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=yield El.create(this,[kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(n);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&hP(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function FP(t){return it(t)}var bl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=TE(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var LP={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VP(t){LP=t}function jP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function BP(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(kr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var wY=jP("rcb"),EY=new Rr(3e4,6e4);var bY=new Rr(2e3,1e4);var CY=600*1e3;var IY=new Rr(3e4,6e4);var DY=new Rr(5e3,15e3);var TY=encodeURIComponent("fac");var sb="@firebase/auth",ab="1.10.8";var hp=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function HP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UP(t){bt(new Oe("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yb(t)},d=new fp(r,i,o,l);return BP(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bt(new Oe("auth-internal",e=>{let n=FP(e.getProvider("auth").getImmediate());return(r=>new hp(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ge(sb,ab,HP(t)),ge(sb,ab,"esm2017")}var $P=300,SY=vE("authIdTokenMaxAge")||$P;function WP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}VP({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=pp("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",WP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UP("Browser");var UO="auth";var Il=class{constructor(){return Wi(UO)}};var vb="@firebase/database",_b="1.0.20";var vg="";function $O(t){vg=t}var Dp=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ve(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ji(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Tp=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return $t(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var Zb=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Dp(e)}}catch{}return new Tp},Or=Zb("localStorage"),Sp=Zb("sessionStorage");var qi=new Wt("@firebase/database"),WO=(function(){let t=1;return function(){return t++}})(),Qb=function(t){let e=SE(t),n=new el;n.update(e);let r=n.digest();return Bi.encodeByteArray(r)},$s=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=$s.apply(null,r):typeof r=="object"?e+=ve(r):e+=r,e+=" "}return e},Lr=null,wb=!0,zO=function(t,e){E(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(qi.logLevel=ee.VERBOSE,Lr=qi.log.bind(qi),e&&Sp.set("logging_enabled",!0)):typeof t=="function"?Lr=t:(Lr=null,Sp.remove("logging_enabled"))},ke=function(...t){if(wb===!0&&(wb=!1,Lr===null&&Sp.get("logging_enabled")===!0&&zO(!0)),Lr){let e=$s.apply(null,t);Lr(e)}},Ws=function(t){return function(...e){ke(t,...e)}},Ap=function(...t){let e="FIREBASE INTERNAL ERROR: "+$s(...t);qi.error(e)},cn=function(...t){let e=`FIREBASE FATAL ERROR: ${$s(...t)}`;throw qi.error(e),new Error(e)},$e=function(...t){let e="FIREBASE WARNING: "+$s(...t);qi.warn(e)},GO=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&$e("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Jb=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},qO=function(t){if(Ut()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ki="[MIN_NAME]",Vr="[MAX_NAME]",no=function(t,e){if(t===e)return 0;if(t===Ki||e===Vr)return-1;if(e===Ki||t===Vr)return 1;{let n=Eb(t),r=Eb(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},YO=function(t,e){return t===e?0:t<e?-1:1},Cs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ve(e))},_g=function(t){if(typeof t!="object"||t===null)return ve(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ve(e[r]),n+=":",n+=_g(t[e[r]]);return n+="}",n},Xb=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function We(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var eC=function(t){E(!Jb(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let d=[];for(l=n;l;l-=1)d.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(i?1:0),d.reverse();let p=d.join(""),h="";for(l=0;l<64;l+=8){let m=parseInt(p.substr(l,8),2).toString(16);m.length===1&&(m="0"+m),h=h+m}return h.toLowerCase()},KO=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ZO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function QO(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var JO=new RegExp("^-?(0*)\\d{1,10}$"),XO=-2147483648,e1=2147483647,Eb=function(t){if(JO.test(t)){let e=Number(t);if(e>=XO&&e<=e1)return e}return null},ro=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw $e("Exception was thrown by user callback.",n),e},Math.floor(0))}},t1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},As=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Np=class{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,an(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){$e(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var xp=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$e(e)}},Ns=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Tl="5",tC="v",nC="s",rC="r",iC="f",oC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sC="ls",aC="p",Mp="ac",cC="websocket",lC="long_polling";var Sl=class{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1,d=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Or.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Or.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function n1(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function uC(t,e,n){E(typeof e=="string","typeof type must == string"),E(typeof n=="object","typeof params must == object");let r;if(e===cC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===lC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);n1(t)&&(n.ns=t.namespace);let i=[];return We(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var kp=class{constructor(){this.counters_={}}incrementCounter(e,n=1){$t(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return hE(this.counters_)}};var vp={},_p={};function wg(t){let e=t.toString();return vp[e]||(vp[e]=new kp),vp[e]}function r1(t,e){let n=t.toString();return _p[n]||(_p[n]=e()),_p[n]}var Rp=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ro(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var bb="start",i1="close",o1="pLPCommand",s1="pRTLPCB",dC="id",fC="pw",hC="ser",a1="cb",c1="seg",l1="ts",u1="d",d1="dframe",pC=1870,gC=30,f1=pC-gC,h1=25e3,p1=3e4,Pp=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ws(e),this.stats_=wg(n),this.urlFn=l=>(this.appCheckToken&&(l[Mp]=this.appCheckToken),uC(n,lC,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Rp(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(p1)),qO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Op((...o)=>{let[s,a,l,d,p]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===bb)this.id=a,this.password=l;else if(s===i1)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[bb]="t",r[hC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[a1]=this.scriptTagHolder.uniqueCallbackIdentifier),r[tC]=Tl,this.transportSessionId&&(r[nC]=this.transportSessionId),this.lastSessionId&&(r[sC]=this.lastSessionId),this.applicationId&&(r[aC]=this.applicationId),this.appCheckToken&&(r[Mp]=this.appCheckToken),typeof location<"u"&&location.hostname&&oC.test(location.hostname)&&(r[rC]=iC);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Ut()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!KO()&&!ZO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=ve(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=kh(n),i=Xb(r,f1);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Ut())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[d1]="t",r[dC]=e,r[fC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=ve(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Op=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Ut())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=WO(),window[o1+this.uniqueCallbackIdentifier]=e,window[s1+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){ke("frame writing exception"),a.stack&&ke(a.stack),ke(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ke("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[dC]=this.myID,e[fC]=this.myPW,e[hC]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+gC+r.length<=pC;){let s=this.pendingSegs.shift();r=r+"&"+c1+i+"="+s.seg+"&"+l1+i+"="+s.ts+"&"+u1+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(h1)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){Ut()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ke("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var g1=16384,m1=45e3,Al=null;typeof MozWebSocket<"u"?Al=MozWebSocket:typeof WebSocket<"u"&&(Al=WebSocket);var Is=(()=>{class t{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ws(this.connId),this.stats_=wg(r),this.connURL=t.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[tC]=Tl,!Ut()&&typeof location<"u"&&location.hostname&&oC.test(location.hostname)&&(a[rC]=iC),r&&(a[nC]=r),i&&(a[sC]=i),o&&(a[Mp]=o),s&&(a[aC]=s),uC(n,cC,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Or.set("previous_websocket_failure",!0);try{let i;if(Ut()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Tl}/${vg}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Al(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Al!==null&&!t.forceDisallow_}static previouslyFailed(){return Or.isInMemoryStorage||Or.get("previous_websocket_failure")===!0}markConnectionHealthy(){Or.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=ji(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(E(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=ve(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=Xb(r,g1);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(m1))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),y1=(()=>{class t{static get ALL_TRANSPORTS(){return[Pp,Is]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=Is&&Is.isAvailable(),i=r&&!Is.previouslyFailed();if(n.webSocketOnly&&(r||$e("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Is];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),v1=6e4,_1=5e3,w1=10*1024,E1=100*1024,wp="t",Cb="d",b1="s",Ib="r",C1="e",Db="o",Tb="a",Sb="n",Ab="p",I1="h",Fp=class{constructor(e,n,r,i,o,s,a,l,d,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=d,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ws("c:"+this.id+":"),this.transportManager_=new y1(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=As(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>E1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>w1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(wp in e){let n=e[wp];n===Tb?this.upgradeIfSecondaryHealthy_():n===Ib?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Db&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Cs("t",e),r=Cs("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ab,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Tb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Sb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Cs("t",e),r=Cs("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Cs(wp,e);if(Cb in e){let r=e[Cb];if(n===I1){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Sb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===b1?this.onConnectionShutdown_(r):n===Ib?this.onReset_(r):n===C1?Ap("Server Error: "+r):n===Db?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ap("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Tl!==r&&$e("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),As(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(v1))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):As(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ab,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Or.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Nl=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var xl=class{constructor(e){this.allowedEvents_=e,this.listeners_={},E(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){E(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Ml=class t extends xl{static getInstance(){return new t}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ls()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return E(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var Nb=32,xb=768,te=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function G(){return new te("")}function L(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Rn(t){return t.pieces_.length-t.pieceNum_}function ce(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new te(t.pieces_,e)}function mC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function D1(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function yC(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function vC(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new te(e,0)}function be(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof te)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new te(n,0)}function j(t){return t.pieceNum_>=t.pieces_.length}function Fe(t,e){let n=L(t),r=L(e);if(n===null)return e;if(n===r)return Fe(ce(t),ce(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Eg(t,e){if(Rn(t)!==Rn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Tt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Rn(t)>Rn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Lp=class{constructor(e,n){this.errorPrefix_=n,this.parts_=yC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=fs(this.parts_[r]);_C(this)}};function T1(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=fs(e),_C(t)}function S1(t){let e=t.parts_.pop();t.byteLength_-=fs(e),t.parts_.length>0&&(t.byteLength_-=1)}function _C(t){if(t.byteLength_>xb)throw new Error(t.errorPrefix_+"has a key path longer than "+xb+" bytes ("+t.byteLength_+").");if(t.parts_.length>Nb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Nb+") or object contains a cycle "+Pr(t))}function Pr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Vp=class t extends xl{static getInstance(){return new t}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return E(e==="visible","Unknown event type: "+e),[this.visible_]}};var Ds=1e3,A1=300*1e3,Mb=30*1e3,N1=1.3,x1=3e4,M1="server_kill",kb=3,bg=(()=>{class t extends Nl{constructor(n,r,i,o,s,a,l,d){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=d,this.id=t.nextPersistentConnectionId_++,this.log_=Ws("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ds,this.maxReconnectDelay_=A1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!Ut())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vp.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Ml.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(ve(s)),E(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new _t,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),E(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),E(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let d=l.d,p=l.s;t.warnOnListenWarnings_(d,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),p!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(p,d))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&$t(n,"w")){let i=Ir(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();$e(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||DE(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Mb)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=IE(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),E(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ve(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Ap("Unrecognized action received from server: "+ve(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){E(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ds,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ds,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>x1&&(this.reconnectDelay_=Ds),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*N1)}this.onConnectStatus_(!1)}establishConnection_(){return w(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,d=function(){l?l.close():(a=!0,i())},p=function(m){E(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(m)};this.realtime_={close:d,sendRequest:p};let h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[m,y]=yield Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?ke("getToken() completed but was canceled"):(ke("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,l=new Fp(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,_=>{$e(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(M1)},s))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&$e(m),d())}}})}interrupt(n){ke("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ke("Resuming connection for reason: "+n),delete this.interruptReasons_[n],rl(this.interruptReasons_)&&(this.reconnectDelay_=Ds,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>_g(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new te(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){ke("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=kb&&(this.reconnectDelay_=Mb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){ke("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=kb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Ut()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+vg.replace(/\./g,"-")]=1,ls()?n["framework.cordova"]=1:tl()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Ml.getInstance().currentlyOnline();return rl(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),V=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Zi=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new V(Ki,e),i=new V(Ki,n);return this.compare(r,i)!==0}minPost(){return V.MIN}};var Dl,kl=class extends Zi{static get __EMPTY_NODE(){return Dl}static set __EMPTY_NODE(e){Dl=e}compare(e,n){return no(e.name,n.name)}isDefinedOn(e){throw br("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return V.MIN}maxPost(){return new V(Vr,Dl)}makePost(e,n){return E(typeof e=="string","KeyIndex indexValue must always be a string."),new V(e,Dl)}toString(){return".key"}},Yi=new kl;var Gi=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Dt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??ft.EMPTY_NODE,this.right=s??ft.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ft.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return ft.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),jp=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new Dt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},ft=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Dt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Dt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Gi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Gi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Gi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Gi(this.root_,null,this.comparator_,!0,e)}};ft.EMPTY_NODE=new jp;function k1(t,e){return no(t.name,e.name)}function Cg(t,e){return no(t,e)}var Bp;function R1(t){Bp=t}var wC=function(t){return typeof t=="number"?"number:"+eC(t):"string:"+t},EC=function(t){if(t.isLeafNode()){let e=t.val();E(typeof e=="string"||typeof e=="number"||typeof e=="object"&&$t(e,".sv"),"Priority must be a string or number.")}else E(t===Bp||t.isEmpty(),"priority of unexpected type.");E(t===Bp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Rb,Qi=(()=>{class t{static set __childrenNodeConstructor(n){Rb=n}static get __childrenNodeConstructor(){return Rb}constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,E(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),EC(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return j(n)?this:L(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=L(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(E(i!==".priority"||Rn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ce(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+wC(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=eC(this.value_):n+=this.value_,this.lazyHash_=Qb(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(E(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return E(o>=0,"Unknown leaf type: "+r),E(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),bC,CC;function P1(t){bC=t}function O1(t){CC=t}var Hp=class extends Zi{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?no(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return V.MIN}maxPost(){return new V(Vr,new Qi("[PRIORITY-POST]",CC))}makePost(e,n){let r=bC(e);return new V(n,new Qi("[PRIORITY-POST]",r))}toString(){return".priority"}},de=new Hp;var F1=Math.log(2),Up=class{constructor(e){let n=o=>parseInt(Math.log(o)/F1,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Rl=function(t,e,n,r){t.sort(e);let i=function(l,d){let p=d-l,h,m;if(p===0)return null;if(p===1)return h=t[l],m=n?n(h):h,new Dt(m,h.node,Dt.BLACK,null,null);{let y=parseInt(p/2,10)+l,_=i(l,y),C=i(y+1,d);return h=t[y],m=n?n(h):h,new Dt(m,h.node,Dt.BLACK,_,C)}},o=function(l){let d=null,p=null,h=t.length,m=function(_,C){let I=h-_,T=h;h-=_;let Re=i(I+1,T),Ge=t[I],Qt=n?n(Ge):Ge;y(new Dt(Qt,Ge.node,C,null,Re))},y=function(_){d?(d.left=_,d=_):(p=_,d=_)};for(let _=0;_<l.count;++_){let C=l.nextBitIsOne(),I=Math.pow(2,l.count-(_+1));C?m(I,Dt.BLACK):(m(I,Dt.BLACK),m(I,Dt.RED))}return p},s=new Up(t.length),a=o(s);return new ft(r||e,a)};var Ep,zi={},Ji=class t{static get Default(){return E(zi&&de,"ChildrenNode.ts has not been loaded"),Ep=Ep||new t({".priority":zi},{".priority":de}),Ep}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){let n=Ir(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ft?n:null}hasIndex(e){return $t(this.indexSet_,e.toString())}addIndex(e,n){E(e!==Yi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(V.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Rl(r,e.getCompare()):a=zi;let l=e.toString(),d=Object.assign({},this.indexSet_);d[l]=e;let p=Object.assign({},this.indexes_);return p[l]=a,new t(p,d)}addToIndexes(e,n){let r=us(this.indexes_,(i,o)=>{let s=Ir(this.indexSet_,o);if(E(s,"Missing index implementation for "+o),i===zi)if(s.isDefinedOn(e.node)){let a=[],l=n.getIterator(V.Wrap),d=l.getNext();for(;d;)d.name!==e.name&&a.push(d),d=l.getNext();return a.push(e),Rl(a,s.getCompare())}else return zi;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new V(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=us(this.indexes_,i=>{if(i===zi)return i;{let o=n.get(e.name);return o?i.remove(new V(e.name,o)):i}});return new t(r,this.indexSet_)}};var Ts,P=(()=>{class t{static get EMPTY_NODE(){return Ts||(Ts=new t(new ft(Cg),null,Ji.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&EC(this.priorityNode_),this.children_.isEmpty()&&E(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ts}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Ts:r}}getChild(n){let r=L(n);return r===null?this:this.getImmediateChild(r).getChild(ce(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(E(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new V(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Ts:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=L(n);if(i===null)return r;{E(L(n)!==".priority"||Rn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ce(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(de,(a,l)=>{r[a]=l.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+wC(this.getPriority().val())+":"),this.forEachChild(de,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":Qb(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new V(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new V(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new V(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,V.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,V.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===zs?-1:0}withIndex(n){if(n===Yi||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Yi||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(de),o=r.getIterator(de),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Yi?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),$p=class extends P{constructor(){super(new ft(Cg),P.EMPTY_NODE,Ji.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return P.EMPTY_NODE}isEmpty(){return!1}},zs=new $p;Object.defineProperties(V,{MIN:{value:new V(Ki,P.EMPTY_NODE)},MAX:{value:new V(Vr,zs)}});kl.__EMPTY_NODE=P.EMPTY_NODE;Qi.__childrenNodeConstructor=P;R1(zs);O1(zs);var L1=!0;function Ie(t,e=null){if(t===null)return P.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),E(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Qi(n,Ie(e))}if(!(t instanceof Array)&&L1){let n=[],r=!1;if(We(t,(s,a)=>{if(s.substring(0,1)!=="."){let l=Ie(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new V(s,l)))}}),n.length===0)return P.EMPTY_NODE;let o=Rl(n,k1,s=>s.name,Cg);if(r){let s=Rl(n,de.getCompare());return new P(o,Ie(e),new Ji({".priority":s},{".priority":de}))}else return new P(o,Ie(e),Ji.Default)}else{let n=P.EMPTY_NODE;return We(t,(r,i)=>{if($t(t,r)&&r.substring(0,1)!=="."){let o=Ie(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ie(e))}}P1(Ie);var Wp=class extends Zi{constructor(e){super(),this.indexPath_=e,E(!j(e)&&L(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?no(e.name,n.name):o}makePost(e,n){let r=Ie(e),i=P.EMPTY_NODE.updateChild(this.indexPath_,r);return new V(n,i)}maxPost(){let e=P.EMPTY_NODE.updateChild(this.indexPath_,zs);return new V(Vr,e)}toString(){return yC(this.indexPath_,0).join("/")}};var zp=class extends Zi{compare(e,n){let r=e.node.compareTo(n.node);return r===0?no(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return V.MIN}maxPost(){return V.MAX}makePost(e,n){let r=Ie(e);return new V(n,r)}toString(){return".value"}},V1=new zp;function IC(t){return{type:"value",snapshotNode:t}}function Xi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Rs(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ps(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function j1(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Os=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){E(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Rs(n,a)):E(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Xi(n,r)):s.trackChildChange(Ps(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(de,(i,o)=>{n.hasChild(i)||r.trackChildChange(Rs(i,o))}),n.isLeafNode()||n.forEachChild(de,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Ps(i,o,s))}else r.trackChildChange(Xi(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?P.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Pl=class t{constructor(e){this.indexedFilter_=new Os(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new V(n,r))||(r=P.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=P.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(P.EMPTY_NODE);let o=this;return n.forEachChild(de,(s,a)=>{o.matches(new V(s,a))||(i=i.updateImmediateChild(s,P.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Gp=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Pl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new V(n,r))||(r=P.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=P.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=P.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(P.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,P.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let h=this.index_.getCompare();s=(m,y)=>h(y,m)}else s=this.index_.getCompare();let a=e;E(a.numChildren()===this.limit_,"");let l=new V(n,r),d=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),p=this.rangedFilter_.matches(l);if(a.hasChild(n)){let h=a.getImmediateChild(n),m=i.getChildAfterChild(this.index_,d,this.reverse_);for(;m!=null&&(m.name===n||a.hasChild(m.name));)m=i.getChildAfterChild(this.index_,m,this.reverse_);let y=m==null?1:s(m,l);if(p&&!r.isEmpty()&&y>=0)return o?.trackChildChange(Ps(n,r,h)),a.updateImmediateChild(n,r);{o?.trackChildChange(Rs(n,h));let C=a.updateImmediateChild(n,P.EMPTY_NODE);return m!=null&&this.rangedFilter_.matches(m)?(o?.trackChildChange(Xi(m.name,m.node)),C.updateImmediateChild(m.name,m.node)):C}}else return r.isEmpty()?e:p&&s(d,l)>=0?(o!=null&&(o.trackChildChange(Rs(d.name,d.node)),o.trackChildChange(Xi(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(d.name,P.EMPTY_NODE)):e}};var qp=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=de}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return E(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return E(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ki}hasEnd(){return this.endSet_}getIndexEndValue(){return E(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return E(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Vr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return E(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===de}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function B1(t){return t.loadsAllData()?new Os(t.getIndex()):t.hasLimit()?new Gp(t):new Pl(t)}function Pb(t){let e={};if(t.isDefault())return e;let n;if(t.index_===de?n="$priority":t.index_===V1?n="$value":t.index_===Yi?n="$key":(E(t.index_ instanceof Wp,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ve(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=ve(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ve(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ve(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ve(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Ob(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==de&&(e.i=t.index_.toString()),e}var Yp=class t extends Nl{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(E(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ws("p:rest:"),this.listens_={}}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let l=Pb(e._queryParams);this.restRequest_(o+".json",l,(d,p)=>{let h=p;if(d===404&&(h=null,d=null),d===null&&this.onDataUpdate_(o,h,!1,r),Ir(this.listens_,s)===a){let m;d?d===401?m="permission_denied":m="rest_error:"+d:m="ok",i(m,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=Pb(e._queryParams),r=e._path.toString(),i=new _t;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ds(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ji(a.responseText)}catch{$e("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&$e("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Kp=class{constructor(){this.rootNode_=P.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Ol(){return{value:null,children:new Map}}function DC(t,e,n){if(j(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=L(e);t.children.has(r)||t.children.set(r,Ol());let i=t.children.get(r);e=ce(e),DC(i,e,n)}}function Zp(t,e,n){t.value!==null?n(e,t.value):H1(t,(r,i)=>{let o=new te(e.toString()+"/"+r);Zp(i,o,n)})}function H1(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Qp=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&We(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var Fb=10*1e3,U1=30*1e3,$1=300*1e3,Jp=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Qp(e);let r=Fb+(U1-Fb)*Math.random();As(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;We(e,(i,o)=>{o>0&&$t(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),As(this.reportStats_.bind(this),Math.floor(Math.random()*2*$1))}};var Gt=(function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t})(Gt||{});function TC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ig(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Dg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Xp=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Gt.ACK_USER_WRITE,this.source=TC()}operationForChild(e){if(j(this.path)){if(this.affectedTree.value!=null)return E(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new te(e));return new t(G(),n,this.revert)}}else return E(L(this.path)===e,"operationForChild called for unrelated child."),new t(ce(this.path),this.affectedTree,this.revert)}};var Fl=class t{constructor(e,n){this.source=e,this.path=n,this.type=Gt.LISTEN_COMPLETE}operationForChild(e){return j(this.path)?new t(this.source,G()):new t(this.source,ce(this.path))}};var eo=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Gt.OVERWRITE}operationForChild(e){return j(this.path)?new t(this.source,G(),this.snap.getImmediateChild(e)):new t(this.source,ce(this.path),this.snap)}};var Ll=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Gt.MERGE}operationForChild(e){if(j(this.path)){let n=this.children.subtree(new te(e));return n.isEmpty()?null:n.value?new eo(this.source,G(),n.value):new t(this.source,G(),n)}else return E(L(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var qt=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(j(e))return this.isFullyInitialized()&&!this.filtered_;let n=L(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var eg=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function W1(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(j1(s.childName,s.snapshotNode))}),Ss(t,i,"child_removed",e,r,n),Ss(t,i,"child_added",e,r,n),Ss(t,i,"child_moved",o,r,n),Ss(t,i,"child_changed",e,r,n),Ss(t,i,"value",e,r,n),i}function Ss(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,l)=>G1(t,a,l)),s.forEach(a=>{let l=z1(t,a,o);i.forEach(d=>{d.respondsTo(a.type)&&e.push(d.createEvent(l,t.query_))})})}function z1(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function G1(t,e,n){if(e.childName==null||n.childName==null)throw br("Should only compare child_ events.");let r=new V(e.childName,e.snapshotNode),i=new V(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Zl(t,e){return{eventCache:t,serverCache:e}}function xs(t,e,n,r){return Zl(new qt(e,n,r),t.serverCache)}function SC(t,e,n,r){return Zl(t.eventCache,new qt(e,n,r))}function Vl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function jr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var bp,q1=()=>(bp||(bp=new ft(YO)),bp),ze=class t{static fromObject(e){let n=new t(null);return We(e,(r,i)=>{n=n.set(new te(r),i)}),n}constructor(e,n=q1()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:G(),value:this.value};if(j(e))return null;{let r=L(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ce(e),n);return o!=null?{path:be(new te(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(j(e))return this;{let n=L(e),r=this.children.get(n);return r!==null?r.subtree(ce(e)):new t(null)}}set(e,n){if(j(e))return new t(n,this.children);{let r=L(e),o=(this.children.get(r)||new t(null)).set(ce(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(j(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=L(e),r=this.children.get(n);if(r){let i=r.remove(ce(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(j(e))return this.value;{let n=L(e),r=this.children.get(n);return r?r.get(ce(e)):null}}setTree(e,n){if(j(e))return n;{let r=L(e),o=(this.children.get(r)||new t(null)).setTree(ce(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(G(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(be(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,G(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(j(e))return null;{let o=L(e),s=this.children.get(o);return s?s.findOnPath_(ce(e),be(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,G(),n)}foreachOnPath_(e,n,r){if(j(e))return this;{this.value&&r(n,this.value);let i=L(e),o=this.children.get(i);return o?o.foreachOnPath_(ce(e),be(n,i),r):new t(null)}}foreach(e){this.foreach_(G(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(be(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var St=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new ze(null))}};function Ms(t,e,n){if(j(e))return new St(new ze(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Fe(i,e);return o=o.updateChild(s,n),new St(t.writeTree_.set(i,o))}else{let i=new ze(n),o=t.writeTree_.setTree(e,i);return new St(o)}}}function Lb(t,e,n){let r=t;return We(n,(i,o)=>{r=Ms(r,be(e,i),o)}),r}function Vb(t,e){if(j(e))return St.empty();{let n=t.writeTree_.setTree(e,new ze(null));return new St(n)}}function tg(t,e){return Br(t,e)!=null}function Br(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Fe(n.path,e)):null}function jb(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(de,(r,i)=>{e.push(new V(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new V(r,i.value))}),e}function Mn(t,e){if(j(e))return t;{let n=Br(t,e);return n!=null?new St(new ze(n)):new St(t.writeTree_.subtree(e))}}function ng(t){return t.writeTree_.isEmpty()}function to(t,e){return AC(G(),t.writeTree_,e)}function AC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(E(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=AC(be(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(be(t,".priority"),r)),n}}function Ql(t,e){return kC(e,t)}function Y1(t,e,n,r,i){E(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ms(t.visibleWrites,e,n)),t.lastWriteId=r}function K1(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function Z1(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);E(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&Q1(a,r.path)?i=!1:Tt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return J1(t),!0;if(r.snap)t.visibleWrites=Vb(t.visibleWrites,r.path);else{let a=r.children;We(a,l=>{t.visibleWrites=Vb(t.visibleWrites,be(r.path,l))})}return!0}else return!1}function Q1(t,e){if(t.snap)return Tt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Tt(be(t.path,n),e))return!0;return!1}function J1(t){t.visibleWrites=NC(t.allWrites,X1,G()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function X1(t){return t.visible}function NC(t,e,n){let r=St.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)Tt(n,s)?(a=Fe(n,s),r=Ms(r,a,o.snap)):Tt(s,n)&&(a=Fe(s,n),r=Ms(r,G(),o.snap.getChild(a)));else if(o.children){if(Tt(n,s))a=Fe(n,s),r=Lb(r,a,o.children);else if(Tt(s,n))if(a=Fe(s,n),j(a))r=Lb(r,G(),o.children);else{let l=Ir(o.children,L(a));if(l){let d=l.getChild(ce(a));r=Ms(r,G(),d)}}}else throw br("WriteRecord should have .snap or .children")}}return r}function xC(t,e,n,r,i){if(!r&&!i){let o=Br(t.visibleWrites,e);if(o!=null)return o;{let s=Mn(t.visibleWrites,e);if(ng(s))return n;if(n==null&&!tg(s,G()))return null;{let a=n||P.EMPTY_NODE;return to(s,a)}}}else{let o=Mn(t.visibleWrites,e);if(!i&&ng(o))return n;if(!i&&n==null&&!tg(o,G()))return null;{let s=function(d){return(d.visible||i)&&(!r||!~r.indexOf(d.writeId))&&(Tt(d.path,e)||Tt(e,d.path))},a=NC(t.allWrites,s,e),l=n||P.EMPTY_NODE;return to(a,l)}}}function eF(t,e,n){let r=P.EMPTY_NODE,i=Br(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(de,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Mn(t.visibleWrites,e);return n.forEachChild(de,(s,a)=>{let l=to(Mn(o,new te(s)),a);r=r.updateImmediateChild(s,l)}),jb(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Mn(t.visibleWrites,e);return jb(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function tF(t,e,n,r,i){E(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=be(e,n);if(tg(t.visibleWrites,o))return null;{let s=Mn(t.visibleWrites,o);return ng(s)?i.getChild(n):to(s,i.getChild(n))}}function nF(t,e,n,r){let i=be(e,n),o=Br(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Mn(t.visibleWrites,i);return to(s,r.getNode().getImmediateChild(n))}else return null}function rF(t,e){return Br(t.visibleWrites,e)}function iF(t,e,n,r,i,o,s){let a,l=Mn(t.visibleWrites,e),d=Br(l,G());if(d!=null)a=d;else if(n!=null)a=to(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let p=[],h=s.getCompare(),m=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),y=m.getNext();for(;y&&p.length<i;)h(y,r)!==0&&p.push(y),y=m.getNext();return p}else return[]}function oF(){return{visibleWrites:St.empty(),allWrites:[],lastWriteId:-1}}function jl(t,e,n,r){return xC(t.writeTree,t.treePath,e,n,r)}function Tg(t,e){return eF(t.writeTree,t.treePath,e)}function Bb(t,e,n,r){return tF(t.writeTree,t.treePath,e,n,r)}function Bl(t,e){return rF(t.writeTree,be(t.treePath,e))}function sF(t,e,n,r,i,o){return iF(t.writeTree,t.treePath,e,n,r,i,o)}function Sg(t,e,n){return nF(t.writeTree,t.treePath,e,n)}function MC(t,e){return kC(be(t.treePath,e),t.writeTree)}function kC(t,e){return{treePath:t,writeTree:e}}var rg=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;E(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),E(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Ps(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Rs(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Xi(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Ps(r,e.snapshotNode,i.oldSnap));else throw br("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var ig=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},RC=new ig,Fs=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new qt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sg(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:jr(this.viewCache_),o=sF(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function aF(t){return{filter:t}}function cF(t,e){E(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),E(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function lF(t,e,n,r,i){let o=new rg,s,a;if(n.type===Gt.OVERWRITE){let d=n;d.source.fromUser?s=og(t,e,d.path,d.snap,r,i,o):(E(d.source.fromServer,"Unknown source."),a=d.source.tagged||e.serverCache.isFiltered()&&!j(d.path),s=Hl(t,e,d.path,d.snap,r,i,a,o))}else if(n.type===Gt.MERGE){let d=n;d.source.fromUser?s=dF(t,e,d.path,d.children,r,i,o):(E(d.source.fromServer,"Unknown source."),a=d.source.tagged||e.serverCache.isFiltered(),s=sg(t,e,d.path,d.children,r,i,a,o))}else if(n.type===Gt.ACK_USER_WRITE){let d=n;d.revert?s=pF(t,e,d.path,r,i,o):s=fF(t,e,d.path,d.affectedTree,r,i,o)}else if(n.type===Gt.LISTEN_COMPLETE)s=hF(t,e,n.path,r,o);else throw br("Unknown operation type: "+n.type);let l=o.getChanges();return uF(e,s,l),{viewCache:s,changes:l}}function uF(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Vl(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(IC(Vl(e)))}}function PC(t,e,n,r,i,o){let s=e.eventCache;if(Bl(r,n)!=null)return e;{let a,l;if(j(n))if(E(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let d=jr(e),p=d instanceof P?d:P.EMPTY_NODE,h=Tg(r,p);a=t.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{let d=jl(r,jr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let d=L(n);if(d===".priority"){E(Rn(n)===1,"Can't have a priority with additional path components");let p=s.getNode();l=e.serverCache.getNode();let h=Bb(r,n,p,l);h!=null?a=t.filter.updatePriority(p,h):a=s.getNode()}else{let p=ce(n),h;if(s.isCompleteForChild(d)){l=e.serverCache.getNode();let m=Bb(r,n,s.getNode(),l);m!=null?h=s.getNode().getImmediateChild(d).updateChild(p,m):h=s.getNode().getImmediateChild(d)}else h=Sg(r,d,e.serverCache);h!=null?a=t.filter.updateChild(s.getNode(),d,h,p,i,o):a=s.getNode()}}return xs(e,a,s.isFullyInitialized()||j(n),t.filter.filtersNodes())}}function Hl(t,e,n,r,i,o,s,a){let l=e.serverCache,d,p=s?t.filter:t.filter.getIndexedFilter();if(j(n))d=p.updateFullNode(l.getNode(),r,null);else if(p.filtersNodes()&&!l.isFiltered()){let y=l.getNode().updateChild(n,r);d=p.updateFullNode(l.getNode(),y,null)}else{let y=L(n);if(!l.isCompleteForPath(n)&&Rn(n)>1)return e;let _=ce(n),I=l.getNode().getImmediateChild(y).updateChild(_,r);y===".priority"?d=p.updatePriority(l.getNode(),I):d=p.updateChild(l.getNode(),y,I,_,RC,null)}let h=SC(e,d,l.isFullyInitialized()||j(n),p.filtersNodes()),m=new Fs(i,h,o);return PC(t,h,n,i,m,a)}function og(t,e,n,r,i,o,s){let a=e.eventCache,l,d,p=new Fs(i,e,o);if(j(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=xs(e,d,!0,t.filter.filtersNodes());else{let h=L(n);if(h===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),l=xs(e,d,a.isFullyInitialized(),a.isFiltered());else{let m=ce(n),y=a.getNode().getImmediateChild(h),_;if(j(m))_=r;else{let C=p.getCompleteChild(h);C!=null?mC(m)===".priority"&&C.getChild(vC(m)).isEmpty()?_=C:_=C.updateChild(m,r):_=P.EMPTY_NODE}if(y.equals(_))l=e;else{let C=t.filter.updateChild(a.getNode(),h,_,m,p,s);l=xs(e,C,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Hb(t,e){return t.eventCache.isCompleteForChild(e)}function dF(t,e,n,r,i,o,s){let a=e;return r.foreach((l,d)=>{let p=be(n,l);Hb(e,L(p))&&(a=og(t,a,p,d,i,o,s))}),r.foreach((l,d)=>{let p=be(n,l);Hb(e,L(p))||(a=og(t,a,p,d,i,o,s))}),a}function Ub(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function sg(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,d;j(n)?d=r:d=new ze(null).setTree(n,r);let p=e.serverCache.getNode();return d.children.inorderTraversal((h,m)=>{if(p.hasChild(h)){let y=e.serverCache.getNode().getImmediateChild(h),_=Ub(t,y,m);l=Hl(t,l,new te(h),_,i,o,s,a)}}),d.children.inorderTraversal((h,m)=>{let y=!e.serverCache.isCompleteForChild(h)&&m.value===null;if(!p.hasChild(h)&&!y){let _=e.serverCache.getNode().getImmediateChild(h),C=Ub(t,_,m);l=Hl(t,l,new te(h),C,i,o,s,a)}}),l}function fF(t,e,n,r,i,o,s){if(Bl(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(j(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Hl(t,e,n,l.getNode().getChild(n),i,o,a,s);if(j(n)){let d=new ze(null);return l.getNode().forEachChild(Yi,(p,h)=>{d=d.set(new te(p),h)}),sg(t,e,n,d,i,o,a,s)}else return e}else{let d=new ze(null);return r.foreach((p,h)=>{let m=be(n,p);l.isCompleteForPath(m)&&(d=d.set(p,l.getNode().getChild(m)))}),sg(t,e,n,d,i,o,a,s)}}function hF(t,e,n,r,i){let o=e.serverCache,s=SC(e,o.getNode(),o.isFullyInitialized()||j(n),o.isFiltered());return PC(t,s,n,r,RC,i)}function pF(t,e,n,r,i,o){let s;if(Bl(r,n)!=null)return e;{let a=new Fs(r,e,i),l=e.eventCache.getNode(),d;if(j(n)||L(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=jl(r,jr(e));else{let h=e.serverCache.getNode();E(h instanceof P,"serverChildren would be complete if leaf node"),p=Tg(r,h)}p=p,d=t.filter.updateFullNode(l,p,o)}else{let p=L(n),h=Sg(r,p,e.serverCache);h==null&&e.serverCache.isCompleteForChild(p)&&(h=l.getImmediateChild(p)),h!=null?d=t.filter.updateChild(l,p,h,ce(n),a,o):e.eventCache.getNode().hasChild(p)?d=t.filter.updateChild(l,p,P.EMPTY_NODE,ce(n),a,o):d=l,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=jl(r,jr(e)),s.isLeafNode()&&(d=t.filter.updateFullNode(d,s,o)))}return s=e.serverCache.isFullyInitialized()||Bl(r,G())!=null,xs(e,d,s,t.filter.filtersNodes())}}var ag=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Os(r.getIndex()),o=B1(r);this.processor_=aF(o);let s=n.serverCache,a=n.eventCache,l=i.updateFullNode(P.EMPTY_NODE,s.getNode(),null),d=o.updateFullNode(P.EMPTY_NODE,a.getNode(),null),p=new qt(l,s.isFullyInitialized(),i.filtersNodes()),h=new qt(d,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Zl(h,p),this.eventGenerator_=new eg(this.query_)}get query(){return this.query_}};function gF(t){return t.viewCache_.serverCache.getNode()}function mF(t){return Vl(t.viewCache_)}function yF(t,e){let n=jr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!j(e)&&!n.getImmediateChild(L(e)).isEmpty())?n.getChild(e):null}function $b(t){return t.eventRegistrations_.length===0}function vF(t,e){t.eventRegistrations_.push(e)}function Wb(t,e,n){let r=[];if(n){E(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function zb(t,e,n,r){e.type===Gt.MERGE&&e.source.queryId!==null&&(E(jr(t.viewCache_),"We should always have a full cache before handling merges"),E(Vl(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=lF(t.processor_,i,e,n,r);return cF(t.processor_,o.viewCache),E(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,OC(t,o.changes,o.viewCache.eventCache.getNode(),null)}function _F(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(de,(o,s)=>{r.push(Xi(o,s))}),n.isFullyInitialized()&&r.push(IC(n.getNode())),OC(t,r,n.getNode(),e)}function OC(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return W1(t.eventGenerator_,e,n,i)}var Ul,$l=class{constructor(){this.views=new Map}};function wF(t){E(!Ul,"__referenceConstructor has already been defined"),Ul=t}function EF(){return E(Ul,"Reference.ts has not been loaded"),Ul}function bF(t){return t.views.size===0}function Ag(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return E(o!=null,"SyncTree gave us an op for an invalid query."),zb(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(zb(s,e,n,r));return o}}function FC(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=jl(n,i?r:null),l=!1;a?l=!0:r instanceof P?(a=Tg(n,r),l=!1):(a=P.EMPTY_NODE,l=!1);let d=Zl(new qt(a,l,!1),new qt(r,i,!1));return new ag(e,d)}return s}function CF(t,e,n,r,i,o){let s=FC(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),vF(s,n),_F(s,n)}function IF(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=Pn(t);if(i==="default")for(let[l,d]of t.views.entries())s=s.concat(Wb(d,n,r)),$b(d)&&(t.views.delete(l),d.query._queryParams.loadsAllData()||o.push(d.query));else{let l=t.views.get(i);l&&(s=s.concat(Wb(l,n,r)),$b(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Pn(t)&&o.push(new(EF())(e._repo,e._path)),{removed:o,events:s}}function LC(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function kn(t,e){let n=null;for(let r of t.views.values())n=n||yF(r,e);return n}function VC(t,e){if(e._queryParams.loadsAllData())return Jl(t);{let r=e._queryIdentifier;return t.views.get(r)}}function jC(t,e){return VC(t,e)!=null}function Pn(t){return Jl(t)!=null}function Jl(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Wl;function DF(t){E(!Wl,"__referenceConstructor has already been defined"),Wl=t}function TF(){return E(Wl,"Reference.ts has not been loaded"),Wl}var SF=1,zl=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ze(null),this.pendingWriteTree_=oF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function BC(t,e,n,r,i){return Y1(t.pendingWriteTree_,e,n,r,i),i?qs(t,new eo(TC(),e,n)):[]}function Fr(t,e,n=!1){let r=K1(t.pendingWriteTree_,e);if(Z1(t.pendingWriteTree_,e)){let o=new ze(null);return r.snap!=null?o=o.set(G(),!0):We(r.children,s=>{o=o.set(new te(s),!0)}),qs(t,new Xp(r.path,o,n))}else return[]}function Gs(t,e,n){return qs(t,new eo(Ig(),e,n))}function AF(t,e,n){let r=ze.fromObject(n);return qs(t,new Ll(Ig(),e,r))}function NF(t,e){return qs(t,new Fl(Ig(),e))}function xF(t,e,n){let r=xg(t,n);if(r){let i=Mg(r),o=i.path,s=i.queryId,a=Fe(o,e),l=new Fl(Dg(s),a);return kg(t,o,l)}else return[]}function Gl(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||jC(s,e))){let l=IF(s,e,n,r);bF(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let d=l.removed;if(a=l.events,!i){let p=d.findIndex(m=>m._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(o,(m,y)=>Pn(y));if(p&&!h){let m=t.syncPointTree_.subtree(o);if(!m.isEmpty()){let y=RF(m);for(let _=0;_<y.length;++_){let C=y[_],I=C.query,T=WC(t,C);t.listenProvider_.startListening(ks(I),Ls(t,I),T.hashFn,T.onComplete)}}}!h&&d.length>0&&!r&&(p?t.listenProvider_.stopListening(ks(e),null):d.forEach(m=>{let y=t.queryToTagMap.get(Xl(m));t.listenProvider_.stopListening(ks(m),y)}))}PF(t,d)}return a}function HC(t,e,n,r){let i=xg(t,r);if(i!=null){let o=Mg(i),s=o.path,a=o.queryId,l=Fe(s,e),d=new eo(Dg(a),l,n);return kg(t,s,d)}else return[]}function MF(t,e,n,r){let i=xg(t,r);if(i){let o=Mg(i),s=o.path,a=o.queryId,l=Fe(s,e),d=ze.fromObject(n),p=new Ll(Dg(a),l,d);return kg(t,s,p)}else return[]}function cg(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(m,y)=>{let _=Fe(m,i);o=o||kn(y,_),s=s||Pn(y)});let a=t.syncPointTree_.get(i);a?(s=s||Pn(a),o=o||kn(a,G())):(a=new $l,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=P.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((y,_)=>{let C=kn(_,G());C&&(o=o.updateImmediateChild(y,C))}));let d=jC(a,e);if(!d&&!e._queryParams.loadsAllData()){let m=Xl(e);E(!t.queryToTagMap.has(m),"View does not exist, but we have a tag");let y=OF();t.queryToTagMap.set(m,y),t.tagToQueryMap.set(y,m)}let p=Ql(t.pendingWriteTree_,i),h=CF(a,e,n,p,o,l);if(!d&&!s&&!r){let m=VC(a,e);h=h.concat(FF(t,e,m))}return h}function Ng(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let l=Fe(s,e),d=kn(a,l);if(d)return d});return xC(i,e,o,n,!0)}function kF(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(d,p)=>{let h=Fe(d,n);r=r||kn(p,h)});let i=t.syncPointTree_.get(n);i?r=r||kn(i,G()):(i=new $l,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new qt(r,!0,!1):null,a=Ql(t.pendingWriteTree_,e._path),l=FC(i,e,a,o?s.getNode():P.EMPTY_NODE,o);return mF(l)}function qs(t,e){return UC(e,t.syncPointTree_,null,Ql(t.pendingWriteTree_,G()))}function UC(t,e,n,r){if(j(t.path))return $C(t,e,n,r);{let i=e.get(G());n==null&&i!=null&&(n=kn(i,G()));let o=[],s=L(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){let d=n?n.getImmediateChild(s):null,p=MC(r,s);o=o.concat(UC(a,l,d,p))}return i&&(o=o.concat(Ag(i,t,r,n))),o}}function $C(t,e,n,r){let i=e.get(G());n==null&&i!=null&&(n=kn(i,G()));let o=[];return e.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,d=MC(r,s),p=t.operationForChild(s);p&&(o=o.concat($C(p,a,l,d)))}),i&&(o=o.concat(Ag(i,t,r,n))),o}function WC(t,e){let n=e.query,r=Ls(t,n);return{hashFn:()=>(gF(e)||P.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?xF(t,n._path,r):NF(t,n._path);{let o=QO(i,n);return Gl(t,n,null,o)}}}}function Ls(t,e){let n=Xl(e);return t.queryToTagMap.get(n)}function Xl(t){return t._path.toString()+"$"+t._queryIdentifier}function xg(t,e){return t.tagToQueryMap.get(e)}function Mg(t){let e=t.indexOf("$");return E(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new te(t.substr(0,e))}}function kg(t,e,n){let r=t.syncPointTree_.get(e);E(r,"Missing sync point for query tag that we're tracking");let i=Ql(t.pendingWriteTree_,e);return Ag(r,n,i,null)}function RF(t){return t.fold((e,n,r)=>{if(n&&Pn(n))return[Jl(n)];{let i=[];return n&&(i=LC(n)),We(r,(o,s)=>{i=i.concat(s)}),i}})}function ks(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(TF())(t._repo,t._path):t}function PF(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=Xl(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function OF(){return SF++}function FF(t,e,n){let r=e._path,i=Ls(t,e),o=WC(t,n),s=t.listenProvider_.startListening(ks(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)E(!Pn(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((d,p,h)=>{if(!j(d)&&p&&Pn(p))return[Jl(p).query];{let m=[];return p&&(m=m.concat(LC(p).map(y=>y.query))),We(h,(y,_)=>{m=m.concat(_)}),m}});for(let d=0;d<l.length;++d){let p=l[d];t.listenProvider_.stopListening(ks(p),Ls(t,p))}}return s}var lg=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},ug=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=be(this.path_,e);return new t(this.syncTree_,n)}node(){return Ng(this.syncTree_,this.path_)}},LF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Gb=function(t,e,n){if(!t||typeof t!="object")return t;if(E(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return VF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return jF(t[".sv"],e);E(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},VF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:E(!1,"Unexpected server value: "+t)}},jF=function(t,e,n){t.hasOwnProperty("increment")||E(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&E(!1,"Unexpected increment value: "+r);let i=e.node();if(E(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},BF=function(t,e,n,r){return Rg(e,new ug(n,t),r)},zC=function(t,e,n){return Rg(t,new lg(e),n)};function Rg(t,e,n){let r=t.getPriority().val(),i=Gb(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=Gb(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Qi(a,Ie(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Qi(i))),s.forEachChild(de,(a,l)=>{let d=Rg(l,e.getImmediateChild(a),n);d!==l&&(o=o.updateImmediateChild(a,d))}),o}}var Vs=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Pg(t,e){let n=e instanceof te?e:new te(e),r=t,i=L(n);for(;i!==null;){let o=Ir(r.node.children,i)||{children:{},childCount:0};r=new Vs(i,r,o),n=ce(n),i=L(n)}return r}function io(t){return t.node.value}function GC(t,e){t.node.value=e,dg(t)}function qC(t){return t.node.childCount>0}function HF(t){return io(t)===void 0&&!qC(t)}function eu(t,e){We(t.node.children,(n,r)=>{e(new Vs(n,t,r))})}function YC(t,e,n,r){n&&!r&&e(t),eu(t,i=>{YC(i,e,!0,r)}),n&&r&&e(t)}function UF(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ys(t){return new te(t.parent===null?t.name:Ys(t.parent)+"/"+t.name)}function dg(t){t.parent!==null&&$F(t.parent,t.name,t)}function $F(t,e,n){let r=HF(n),i=$t(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,dg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,dg(t))}var WF=/[\[\].#$\/\u0000-\u001F\u007F]/,zF=/[\[\].#$\u0000-\u001F\u007F]/,Cp=10*1024*1024,KC=function(t){return typeof t=="string"&&t.length!==0&&!WF.test(t)},ZC=function(t){return typeof t=="string"&&t.length!==0&&!zF.test(t)},GF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ZC(t)};var qF=function(t,e,n,r){r&&e===void 0||Og(il(t,"value"),e,n)},Og=function(t,e,n){let r=n instanceof te?new Lp(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Pr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Pr(r)+" with contents = "+e.toString());if(Jb(e))throw new Error(t+"contains "+e.toString()+" "+Pr(r));if(typeof e=="string"&&e.length>Cp/3&&fs(e)>Cp)throw new Error(t+"contains a string greater than "+Cp+" utf8 bytes "+Pr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(We(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!KC(s)))throw new Error(t+" contains an invalid key ("+s+") "+Pr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);T1(r,s),Og(t,a,r),S1(r)}),i&&o)throw new Error(t+' contains ".value" child '+Pr(r)+" in addition to actual children.")}};var QC=function(t,e,n,r){if(!(r&&n===void 0)&&!ZC(n))throw new Error(il(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},YF=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),QC(t,e,n,r)},KF=function(t,e){if(L(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},ZF=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!KC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!GF(n))throw new Error(il(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var fg=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Fg(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!Eg(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function JC(t,e,n){Fg(t,n),XC(t,r=>Eg(r,e))}function Yt(t,e,n){Fg(t,n),XC(t,r=>Tt(r,e)||Tt(e,r))}function XC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(QF(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function QF(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Lr&&ke("event: "+n.toString()),ro(r)}}}var JF="repo_interrupt",XF=25,hg=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ol(),this.transactionQueueTree_=new Vs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function eL(t,e,n){if(t.stats_=wg(t.repoInfo_),t.forceRestClient_||t1())t.server_=new Yp(t.repoInfo_,(r,i,o,s)=>{qb(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Yb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ve(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new bg(t.repoInfo_,e,(r,i,o,s)=>{qb(t,r,i,o,s)},r=>{Yb(t,r)},r=>{nL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=r1(t.repoInfo_,()=>new Jp(t.stats_,t.server_)),t.infoData_=new Kp,t.infoSyncTree_=new zl({startListening:(r,i,o,s)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Gs(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Vg(t,"connected",!1),t.serverSyncTree_=new zl({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{let d=s(a,l);Yt(t.eventQueue_,r._path,d)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function tL(t){let n=t.infoData_.getNode(new te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Lg(t){return LF({timestamp:tL(t)})}function qb(t,e,n,r,i){t.dataUpdateCount++;let o=new te(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let l=us(n,d=>Ie(d));s=MF(t.serverSyncTree_,o,l,i)}else{let l=Ie(n);s=HC(t.serverSyncTree_,o,l,i)}else if(r){let l=us(n,d=>Ie(d));s=AF(t.serverSyncTree_,o,l)}else{let l=Ie(n);s=Gs(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=nu(t,o)),Yt(t.eventQueue_,a,s)}function Yb(t,e){Vg(t,"connected",e),e===!1&&oL(t)}function nL(t,e){We(e,(n,r)=>{Vg(t,n,r)})}function Vg(t,e,n){let r=new te("/.info/"+e),i=Ie(n);t.infoData_.updateSnapshot(r,i);let o=Gs(t.infoSyncTree_,r,i);Yt(t.eventQueue_,r,o)}function eI(t){return t.nextWriteId_++}function rL(t,e,n){let r=kF(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=Ie(i).withIndex(e._queryParams.getIndex());cg(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=Gs(t.serverSyncTree_,e._path,o);else{let a=Ls(t.serverSyncTree_,e);s=HC(t.serverSyncTree_,e._path,o,a)}return Yt(t.eventQueue_,e._path,s),Gl(t.serverSyncTree_,e,n,null,!0),o},i=>(tu(t,"get for query "+ve(e)+" failed: "+i),Promise.reject(new Error(i))))}function iL(t,e,n,r,i){tu(t,"set",{path:e.toString(),value:n,priority:r});let o=Lg(t),s=Ie(n,r),a=Ng(t.serverSyncTree_,e),l=zC(s,a,o),d=eI(t),p=BC(t.serverSyncTree_,e,l,d,!0);Fg(t.eventQueue_,p),t.server_.put(e.toString(),s.val(!0),(m,y)=>{let _=m==="ok";_||$e("set at "+e+" failed: "+m);let C=Fr(t.serverSyncTree_,d,!_);Yt(t.eventQueue_,e,C),cL(t,i,m,y)});let h=oI(t,e);nu(t,h),Yt(t.eventQueue_,h,[])}function oL(t){tu(t,"onDisconnectEvents");let e=Lg(t),n=Ol();Zp(t.onDisconnect_,G(),(i,o)=>{let s=BF(i,o,t.serverSyncTree_,e);DC(n,i,s)});let r=[];Zp(n,G(),(i,o)=>{r=r.concat(Gs(t.serverSyncTree_,i,o));let s=oI(t,i);nu(t,s)}),t.onDisconnect_=Ol(),Yt(t.eventQueue_,G(),r)}function sL(t,e,n){let r;L(e._path)===".info"?r=cg(t.infoSyncTree_,e,n):r=cg(t.serverSyncTree_,e,n),JC(t.eventQueue_,e._path,r)}function pg(t,e,n){let r;L(e._path)===".info"?r=Gl(t.infoSyncTree_,e,n):r=Gl(t.serverSyncTree_,e,n),JC(t.eventQueue_,e._path,r)}function aL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(JF)}function tu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ke(n,...e)}function cL(t,e,n,r){e&&ro(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function tI(t,e,n){return Ng(t.serverSyncTree_,e,n)||P.EMPTY_NODE}function jg(t,e=t.transactionQueueTree_){if(e||ru(t,e),io(e)){let n=rI(t,e);E(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&lL(t,Ys(e),n)}else qC(e)&&eu(e,n=>{jg(t,n)})}function lL(t,e,n){let r=n.map(d=>d.currentWriteId),i=tI(t,e,r),o=i,s=i.hash();for(let d=0;d<n.length;d++){let p=n[d];E(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;let h=Fe(e,p.path);o=o.updateChild(h,p.currentOutputSnapshotRaw)}let a=o.val(!0),l=e;t.server_.put(l.toString(),a,d=>{tu(t,"transaction put response",{path:l.toString(),status:d});let p=[];if(d==="ok"){let h=[];for(let m=0;m<n.length;m++)n[m].status=2,p=p.concat(Fr(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&h.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();ru(t,Pg(t.transactionQueueTree_,e)),jg(t,t.transactionQueueTree_),Yt(t.eventQueue_,e,p);for(let m=0;m<h.length;m++)ro(h[m])}else{if(d==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{$e("transaction at "+l.toString()+" failed: "+d);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=d}nu(t,e)}},s)}function nu(t,e){let n=nI(t,e),r=Ys(n),i=rI(t,n);return uL(t,i,r),r}function uL(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],d=Fe(n,l.path),p=!1,h;if(E(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)p=!0,h=l.abortReason,i=i.concat(Fr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=XF)p=!0,h="maxretry",i=i.concat(Fr(t.serverSyncTree_,l.currentWriteId,!0));else{let m=tI(t,l.path,s);l.currentInputSnapshot=m;let y=e[a].update(m.val());if(y!==void 0){Og("transaction failed: Data returned ",y,l.path);let _=Ie(y);typeof y=="object"&&y!=null&&$t(y,".priority")||(_=_.updatePriority(m.getPriority()));let I=l.currentWriteId,T=Lg(t),Re=zC(_,m,T);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=Re,l.currentWriteId=eI(t),s.splice(s.indexOf(I),1),i=i.concat(BC(t.serverSyncTree_,l.path,Re,l.currentWriteId,l.applyLocally)),i=i.concat(Fr(t.serverSyncTree_,I,!0))}else p=!0,h="nodata",i=i.concat(Fr(t.serverSyncTree_,l.currentWriteId,!0))}Yt(t.eventQueue_,n,i),i=[],p&&(e[a].status=2,(function(m){setTimeout(m,Math.floor(0))})(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}ru(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ro(r[a]);jg(t,t.transactionQueueTree_)}function nI(t,e){let n,r=t.transactionQueueTree_;for(n=L(e);n!==null&&io(r)===void 0;)r=Pg(r,n),e=ce(e),n=L(e);return r}function rI(t,e){let n=[];return iI(t,e,n),n.sort((r,i)=>r.order-i.order),n}function iI(t,e,n){let r=io(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);eu(e,i=>{iI(t,i,n)})}function ru(t,e){let n=io(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,GC(e,n.length>0?n:void 0)}eu(e,r=>{ru(t,r)})}function oI(t,e){let n=Ys(nI(t,e)),r=Pg(t.transactionQueueTree_,e);return UF(r,i=>{Ip(t,i)}),Ip(t,r),YC(r,i=>{Ip(t,i)}),n}function Ip(t,e){let n=io(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(E(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(E(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Fr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?GC(e,void 0):n.length=o+1,Yt(t.eventQueue_,Ys(e),i);for(let s=0;s<r.length;s++)ro(r[s])}}function dL(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function fL(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):$e(`Invalid query segment '${n}' in query '${t}'`)}return e}var Kb=function(t,e){let n=hL(t),r=n.namespace;n.domain==="firebase.com"&&cn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&cn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||GO();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Sl(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new te(n.pathString)}},hL=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(a=t.substring(0,d-1),t=t.substring(d+2));let p=t.indexOf("/");p===-1&&(p=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(p,h)),p<h&&(i=dL(t.substring(p,h)));let m=fL(t.substring(Math.min(t.length,h)));d=e.indexOf(":"),d>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(d+1),10)):d=e.length;let y=e.slice(0,d);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{let _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),o=r}"ns"in m&&(o=m.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var ql=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ve(this.snapshot.exportVal())}},Yl=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var js=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return E(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var gg=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return j(this._path)?null:mC(this._path)}get ref(){return new Kt(this._repo,this._path)}get _queryIdentifier(){let e=Ob(this._queryParams),n=_g(e);return n==="{}"?"default":n}get _queryObject(){return Ob(this._queryParams)}isEqual(e){if(e=it(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=Eg(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+D1(this._path)}};var Kt=class t extends gg{constructor(e,n){super(e,n,new qp,!1)}get parent(){let e=vC(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Bs=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new te(e),r=Hs(this.ref,e);return new t(this._node.getChild(n),r,de)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,Hs(this.ref,r),de)))}hasChild(e){let n=new te(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function sI(t,e){return t=it(t),t._checkNotDeleted("ref"),e!==void 0?Hs(t._root,e):t._root}function Hs(t,e){return t=it(t),L(t._path)===null?YF("child","path",e,!1):QC("child","path",e,!1),new Kt(t._repo,be(t._path,e))}function aI(t,e){t=it(t),KF("set",t._path),qF("set",e,t._path,!1);let n=new _t;return iL(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function cI(t){t=it(t);let e=new js(()=>{}),n=new Us(e);return rL(t._repo,t,n).then(r=>new Bs(r,new Kt(t._repo,t._path),t._queryParams.getIndex()))}var Us=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new ql("value",this,new Bs(e.snapshotNode,new Kt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Yl(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Kl=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Yl(this,e,n):null}createEvent(e,n){E(e.childName!=null,"Child events should have a childName.");let r=Hs(new Kt(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new ql(e.type,this,new Bs(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function pL(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let l=n,d=(p,h)=>{pg(t._repo,t,a),l(p,h)};d.userCallback=n.userCallback,d.context=n.context,n=d}let s=new js(n,o||void 0),a=e==="value"?new Us(s):new Kl(e,s);return sL(t._repo,t,a),()=>pg(t._repo,t,a)}function lI(t,e,n,r){return pL(t,"value",e,n,r)}function uI(t,e,n){let r=null,i=n?new js(n):null;e==="value"?r=new Us(i):e&&(r=new Kl(e,i)),pg(t._repo,t,r)}wF(Kt);DF(Kt);var gL="FIREBASE_DATABASE_EMULATOR_HOST",mg={},mL=!1;function yL(t,e,n,r){let i=e.lastIndexOf(":"),o=e.substring(0,i),s=Cr(o);t.repoInfo_=new Sl(e,s,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function vL(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||cn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ke("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Kb(o,i),a=s.repoInfo,l,d;typeof process<"u"&&process.env&&(d=process.env[gL]),d?(l=!0,o=`http://${d}?ns=${a.namespace}`,s=Kb(o,i),a=s.repoInfo):l=!s.repoInfo.secure;let p=i&&l?new Ns(Ns.OWNER):new xp(t.name,t.options,e);ZF("Invalid Firebase Database URL",s),j(s.path)||cn("Database URL must point to the root of a Firebase Database (not including a child path).");let h=wL(a,t,p,new Np(t,n));return new yg(h,t)}function _L(t,e){let n=mg[e];(!n||n[t.key]!==t)&&cn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),aL(t),delete n[t.key]}function wL(t,e,n,r){let i=mg[e.name];i||(i={},mg[e.name]=i);let o=i[t.toURLString()];return o&&cn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new hg(t,mL,n,r),i[t.toURLString()]=o,o}var yg=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(eL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kt(this._repo,G())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_L(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&cn("Cannot call "+e+" on a deleted database.")}};function dI(t=Ui(),e){let n=al(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=yE("database");r&&fI(n,...r)}return n}function fI(t,e,n,r={}){t=it(t),t._checkNotDeleted("useEmulator");let i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Dr(r,o.repoInfo_.emulatorOptions))return;cn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&cn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ns(Ns.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:_E(r.mockUserToken,t.app.options.projectId);s=new Ns(a)}Cr(e)&&(Oh(e),Fh("Database",!0)),yL(o,i,r,s)}function EL(t){$O(Hi),bt(new Oe("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return vL(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),ge(vb,_b,t),ge(vb,_b,"esm2017")}bg.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};bg.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};EL();var Hr=class{constructor(e){return e}},hI="database",Bg=class{constructor(){return Wi(hI)}};var Hg=new N("angularfire2.database-instances");function bL(t,e){let n=ul(hI,t,e);return n&&new Hr(n)}function CL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Hr(r)}}var IL={provide:Bg,deps:[[new nn,Hg]]},DL={provide:Hr,useFactory:bL,deps:[[new nn,Hg],xr]};function dZ(t,...e){return ge("angularfire",Ar.full,"rtdb"),or([DL,IL,{provide:Hg,useFactory:CL(t),multi:!0,deps:[pe,Be,Nr,ms,[new nn,Il],[new nn,fl],...e]}])}var Zt=Ct(cI,!0),fZ=Ct(dI,!0);var pI=Ct(uI,!0);var gI=Ct(lI,!0);var ot=Ct(sI,!0,2);var iu=Ct(aI,!0,2);var ou=class t{constructor(e){this.db=e}suits=["C","O","E","B"];values=["1","2","3","4","5","6","7","S","C","R"];createRoom(e){return w(this,null,function*(){let n=Math.random().toString(36).substring(2,8).toUpperCase(),r=this.generateDeck(),i=this.drawCards(r,3),o={players:[{name:e,cards:i,lives:3}],deck:r,discardPile:[],turn:e,status:"waiting"},s=ot(this.db,`rooms/${n}`);return yield iu(s,o),n})}joinRoom(e,n){return w(this,null,function*(){let r=ot(this.db,`rooms/${e}`),i=yield Zt(r);if(!i.exists())return console.error("La sala no existe"),!1;let o=i.val();if(!o||!o.players||!Array.isArray(o.players))return console.error("Datos de la sala inv\xE1lidos:",o),!1;if(o.players.some(l=>l.name===n))return console.error("El jugador ya est\xE1 en la sala"),!1;if(!o.deck||o.deck.length<3)return console.error("No hay suficientes cartas en el deck"),!1;let s=[];for(let l=0;l<3&&o.deck.length>0;l++){let d=Math.floor(Math.random()*o.deck.length);s.push(o.deck.splice(d,1)[0])}let a={name:n,cards:s,lives:3};o.players.push(a),o.status="playing",o.discardPile||(o.discardPile=[]),o.deck.length>0&&o.discardPile.push(o.deck.pop());try{return yield iu(r,o),!0}catch(l){return console.error("Error al actualizar la sala:",l),!1}})}subscribeToRoom(e){return new k(n=>{let r=ot(this.db,`rooms/${e}`),i=gI(r,o=>{o.exists()?n.next(o.val()):n.next(null)},o=>{n.error(o)});return()=>pI(r,"value",i)})}generateDeck(){let e=[];for(let n of this.suits)for(let r of this.values)e.push(r+n);return e.sort(()=>Math.random()-.5)}drawCards(e,n){let r=[];for(let i=0;i<n&&e.length>0;i++){let o=Math.floor(Math.random()*e.length);r.push(e.splice(o,1)[0])}return r}updateRoom(e,n){return w(this,null,function*(){let r=ot(this.db,`rooms/${e}`);yield iu(r,n)})}changeTurn(e,n){return w(this,null,function*(){let r=ot(this.db,`rooms/${e}`),i=yield Zt(r);if(!i.exists())return n;let o=i.val(),a=(o.players.findIndex(l=>l.name===n)+1)%o.players.length;return o.turn=o.players[a].name,yield this.updateRoom(e,o),o.turn})}drawFromDeck(e,n){return w(this,null,function*(){let r=ot(this.db,`rooms/${e}`),i=yield Zt(r);if(!i.exists())return null;let o=i.val();if(!o.deck||o.deck.length===0)return console.error("No hay cartas en el deck"),null;let s=o.deck.pop();return yield this.updateRoom(e,o),s})}drawFromDiscard(e,n){return w(this,null,function*(){let r=ot(this.db,`rooms/${e}`),i=yield Zt(r);if(!i.exists())return null;let o=i.val();if(!o.discardPile||o.discardPile.length===0)return console.error("No hay cartas en el descarte"),null;let s=o.discardPile.pop();return yield this.updateRoom(e,o),s})}swapCard(e,n,r,i){return w(this,null,function*(){let o=ot(this.db,`rooms/${e}`),s=yield Zt(o);if(!s.exists())return!1;let a=s.val(),l=a.players.find(h=>h.name===n);if(!l||!l.cards||r>=l.cards.length)return!1;a.discardPile||(a.discardPile=[]);let d=l.cards[r];if(a.discardPile.push(d),l.cards[r]=i,a.status==="round_closing"){let h=yield this.finishRoundInternal(a);return yield this.updateRoom(e,a),!0}else{let m=(a.players.findIndex(y=>y.name===n)+1)%a.players.length;return a.turn=a.players[m].name,yield this.updateRoom(e,a),!0}})}discardDrawnCard(e,n,r){return w(this,null,function*(){let i=ot(this.db,`rooms/${e}`),o=yield Zt(i);if(!o.exists())return!1;let s=o.val();if(s.discardPile||(s.discardPile=[]),s.discardPile.push(r),s.status==="round_closing"){let l=yield this.finishRoundInternal(s);return yield this.updateRoom(e,s),!0}else{let d=(s.players.findIndex(p=>p.name===n)+1)%s.players.length;return s.turn=s.players[d].name,yield this.updateRoom(e,s),!0}})}finishRoundInternal(e){if(e.players.length!==2)return null;let n=e.players[0],r=e.players[1],i=this.calculatePlayerPoints(n.cards),o=this.calculatePlayerPoints(r.cards);if(i===o)return e.status="waiting",e.lastWinner="EMPATE",e.lastWinnerPoints=i,e.lastLoserPoints=o,delete e.closingPlayer,{winner:"EMPATE",winnerPoints:i,loserPoints:o,isTie:!0};let s=i>=o?n:r,a=i>=o?r:n,l=Math.max(i,o),d=Math.min(i,o);return a.lives-=1,e.status=a.lives<=0?"finished":"waiting",e.lastWinner=s.name,e.celebrationImage=this.getRandomCelebrationImage(),e.lastWinnerPoints=l,e.lastLoserPoints=d,e.status="waiting",delete e.closingPlayer,{winner:s.name,winnerPoints:l,loserPoints:d,isTie:!1}}celebrationImages=["assets/a.jpeg","assets/b.jpeg","assets/c.jpeg","assets/d.jpeg","assets/e.jpeg","assets/f.jpeg","assets/g.jpeg","assets/h.jpeg","assets/i.jpeg","assets/j.jpeg","assets/k.jpeg","assets/l.jpeg","assets/m.jpeg","assets/n.jpeg","assets/o.jpeg","assets/p.jpeg","assets/q.jpeg","assets/r.jpeg","assets/s.jpeg","assets/t.jpeg","assets/u.jpeg","assets/w.jpeg","assets/x.jpeg","assets/y.jpeg","assets/z.jpeg","assets/\xF1.jpeg"];getRandomCelebrationImage(){let e=Math.floor(Math.random()*this.celebrationImages.length);return this.celebrationImages[e]}closeRound(e,n){return w(this,null,function*(){let r=ot(this.db,`rooms/${e}`),i=yield Zt(r);if(!i.exists())return!1;let o=i.val();if(o.turn!==n)return!1;o.closingPlayer=n,o.status="round_closing";let a=(o.players.findIndex(l=>l.name===n)+1)%o.players.length;return o.turn=o.players[a].name,yield this.updateRoom(e,o),!0})}finishRound(e){return w(this,null,function*(){let n=ot(this.db,`rooms/${e}`),r=yield Zt(n);if(!r.exists())return null;let i=r.val(),o=this.finishRoundInternal(i);return o&&(yield this.updateRoom(e,i)),o})}startNewRound(e){return w(this,null,function*(){let n=ot(this.db,`rooms/${e}`),r=yield Zt(n);if(!r.exists())return!1;let i=r.val();return i.players.every(s=>s.lives>0)&&i.status==="waiting"?(delete i.lastWinner,delete i.lastWinnerPoints,delete i.lastLoserPoints,delete i.closingPlayer,delete i.celebrationImage,i.deck=this.generateDeck(),i.discardPile=[],i.players.forEach(s=>{s.cards=this.drawCards(i.deck,3)}),i.deck.length>0&&i.discardPile.push(i.deck.pop()),i.turn=i.players[0].name,i.status="playing",yield this.updateRoom(e,i),!0):!1})}calculatePlayerPoints(e){let n={};for(let i of e){let o=i.charAt(i.length-1),s=i.charAt(0),a;switch(s){case"1":a=11;break;case"S":case"C":case"R":a=10;break;default:a=parseInt(s);break}n[o]||(n[o]=[]),n[o].push(a)}let r=0;for(let i in n){let o=n[i].reduce((s,a)=>s+a,0);o>r&&(r=o)}return r}static \u0275fac=function(n){return new(n||t)(we(Hr))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})};function AL(t,e){t&1&&(S(0,"p",33),Q(1,"\u{1F3AF} Es tu turno"),R())}function NL(t,e){t&1&&(S(0,"p",34),Q(1,"\u26A1 \xA1\xDALTIMA RONDA! Es tu turno final"),R())}function xL(t,e){t&1&&(S(0,"p",35),Q(1,"\u23F3 Esperando turno..."),R())}function ML(t,e){t&1&&(S(0,"p",36),Q(1,"\u2705 Te plantaste - El otro jugador tiene un turno m\xE1s"),R())}function kL(t,e){if(t&1){let n=Tn();S(0,"div",39),Me("click",function(){tt(n);let i=Ee(2);return nt(i.drawFromDiscard())}),S(1,"img",40),Me("error",function(i){let o=tt(n).$implicit,s=Ee(2);return nt(s.onImageError(i,o))}),R()()}if(t&2){let n=e.$implicit,r=Ee(2);jt("discard-glow",r.canDrawFromDiscard()),U(),ae("src",r.getCardImagePath(n),Si)("alt",r.getCardDisplayName(n))}}function RL(t,e){if(t&1&&(S(0,"div",37),Vt(1,kL,2,4,"div",38),R()),t&2){let n=Ee();U(),ae("ngForOf",n.room.discardPile.slice(-1))}}function PL(t,e){t&1&&(S(0,"div",41)(1,"div",42),Q(2,"Vac\xEDo"),R()())}function OL(t,e){if(t&1){let n=Tn();S(0,"div",43)(1,"h4"),Q(2,"Robada:"),R(),S(3,"div",44)(4,"div",45)(5,"img",40),Me("error",function(i){tt(n);let o=Ee();return nt(o.onImageError(i,o.drawnCard))}),R(),S(6,"div",46)(7,"div",47),Q(8),R(),S(9,"div",48),Q(10),R()()()()()}if(t&2){let n=Ee();U(4),jt("card-flip-in",n.showDrawnCardAnimation),U(),ae("src",n.getCardImagePath(n.drawnCard),Si)("alt",n.getCardDisplayName(n.drawnCard)),U(3),wr(n.getCardValue(n.drawnCard)),U(),ae("ngClass","suit-"+n.getCardSuit(n.drawnCard)),U(),rn(" ",n.getSuitSymbol(n.getCardSuit(n.drawnCard))," ")}}function FL(t,e){if(t&1){let n=Tn();S(0,"div",49),Me("click",function(){let i=tt(n).index,o=Ee();return nt(o.selectCard(i))}),S(1,"img",40),Me("error",function(i){let o=tt(n).$implicit,s=Ee();return nt(s.onImageError(i,o))}),R(),S(2,"div",46)(3,"div",47),Q(4),R(),S(5,"div",48),Q(6),R()()()}if(t&2){let n=e.$implicit,r=e.index,i=Ee();Bc("animation-delay",r*.1+"s"),jt("selected",i.selectedCardIndex===r)("card-entering",i.cardAnimations[r]==null?null:i.cardAnimations[r].entering)("card-leaving",i.cardAnimations[r]==null?null:i.cardAnimations[r].leaving),U(),ae("src",i.getCardImagePath(n),Si)("alt",i.getCardDisplayName(n)),U(3),wr(i.getCardValue(n)),U(),ae("ngClass","suit-"+i.getCardSuit(n)),U(),rn(" ",i.getSuitSymbol(i.getCardSuit(n))," ")}}function LL(t,e){if(t&1){let n=Tn();Qo(0),S(1,"button",50),Me("click",function(){tt(n);let i=Ee();return nt(i.drawFromDeck())}),S(2,"span",51),Q(3,"\u{1F3B4}"),R(),S(4,"span",52),Q(5,"Robar Mazo"),R()(),S(6,"button",53),Me("click",function(){tt(n);let i=Ee();return nt(i.drawFromDiscard())}),S(7,"span",51),Q(8,"\u267B\uFE0F"),R(),S(9,"span",52),Q(10,"Robar Descarte"),R()(),Jo()}if(t&2){let n=Ee();U(),ae("disabled",!n.isYourTurn),U(5),ae("disabled",!n.isYourTurn||!n.canDrawFromDiscard())}}function VL(t,e){if(t&1){let n=Tn();Qo(0),S(1,"button",54),Me("click",function(){tt(n);let i=Ee();return nt(i.confirmCardSwap())}),S(2,"span",51),Q(3,"\u{1F504}"),R(),S(4,"span",52),Q(5,"Cambiar"),R()(),S(6,"button",55),Me("click",function(){tt(n);let i=Ee();return nt(i.keepCurrentCards())}),S(7,"span",51),Q(8,"\u{1F44B}"),R(),S(9,"span",52),Q(10,"Pasar"),R()(),Jo()}if(t&2){let n=Ee();U(),ae("disabled",n.selectedCardIndex===-1||!n.isYourTurn),U(5),ae("disabled",!n.isYourTurn)}}function jL(t,e){if(t&1){let n=Tn();S(0,"button",56),Me("click",function(){tt(n);let i=Ee();return nt(i.closeRound())}),S(1,"span",51),Q(2,"\u{1F3AF}"),R(),S(3,"span",52),Q(4,"\xA1Cerrar!"),R()()}}function BL(t,e){if(t&1&&(S(0,"div",57)(1,"div",58),ki(2,"img",59),S(3,"h2",60),Q(4),R()()()),t&2){let n=Ee();U(2),ae("src",n.winnerImageSrc,Si)("alt",n.winnerText),U(2),wr(n.winnerText)}}var mI=class t{constructor(e){this.roomService=e}room;playerName="";roomCode="";roomSubscription;playerCards=[];isYourTurn=!1;drawnCard=null;selectedCardIndex=-1;cardAnimations={};showDrawnCardAnimation=!1;isDrawingFromDeck=!1;ngOnInit(){this.updateState(),this.roomSubscription=this.roomService.subscribeToRoom(this.roomCode).subscribe({next:e=>{this.room=e,this.updateState()},error:e=>{console.error("Error en la suscripci\xF3n de la sala:",e)}})}ngOnDestroy(){this.roomSubscription&&this.roomSubscription.unsubscribe()}updateState(){if(!this.room||!this.room.players)return;let e=this.room.players.find(n=>n.name===this.playerName);e&&(this.playerCards=e.cards||[],this.isYourTurn=this.room.turn===this.playerName,!this.isYourTurn&&this.room.status!=="round_closing"&&(this.drawnCard=null,this.selectedCardIndex=-1),this.room.status==="waiting"&&this.room.lastWinner&&!this.showWinnerImage&&!this.isHandlingRoundEnd&&this.handleRoundEnd(),this.room.status==="playing"&&!this.room.lastWinner&&(this.drawnCard=null,this.selectedCardIndex=-1,this.showWinnerImage=!1,this.isHandlingRoundEnd=!1),this.room.status==="round_closing"&&this.isYourTurn&&console.log("Es tu \xFAltimo turno despu\xE9s de que el otro jugador se plant\xF3"))}drawFromDeck(){return w(this,null,function*(){if(!(!this.isYourTurn||this.drawnCard))try{this.isDrawingFromDeck=!0,setTimeout(()=>{this.isDrawingFromDeck=!1},600);let e=yield this.roomService.drawFromDeck(this.roomCode,this.playerName);e&&(this.drawnCard=e,setTimeout(()=>{this.showDrawnCardAnimation=!0},300))}catch(e){console.error("Error al robar del mazo:",e),this.isDrawingFromDeck=!1}})}drawFromDiscard(){return w(this,null,function*(){if(!(!this.isYourTurn||this.drawnCard||!this.canDrawFromDiscard()))try{let e=yield this.roomService.drawFromDiscard(this.roomCode,this.playerName);e&&(this.drawnCard=e,setTimeout(()=>{this.showDrawnCardAnimation=!0},100))}catch(e){console.error("Error al robar del descarte:",e)}})}keepCurrentCards(){return w(this,null,function*(){if(this.drawnCard)try{(yield this.roomService.discardDrawnCard(this.roomCode,this.playerName,this.drawnCard))?(this.drawnCard=null,this.showDrawnCardAnimation=!1):console.error("No se pudo descartar la carta")}catch(e){console.error("Error al descartar carta:",e),this.drawnCard=null,this.showDrawnCardAnimation=!1}})}confirmCardSwap(){return w(this,null,function*(){if(!(this.selectedCardIndex===-1||!this.drawnCard))try{this.cardAnimations[this.selectedCardIndex]={entering:!1,leaving:!0},setTimeout(()=>w(this,null,function*(){try{(yield this.roomService.swapCard(this.roomCode,this.playerName,this.selectedCardIndex,this.drawnCard))?(this.cardAnimations[this.selectedCardIndex]={entering:!0,leaving:!1},setTimeout(()=>{this.cardAnimations[this.selectedCardIndex]={entering:!1,leaving:!1}},600),this.drawnCard=null,this.selectedCardIndex=-1,this.showDrawnCardAnimation=!1):(console.error("No se pudo intercambiar la carta"),this.cardAnimations[this.selectedCardIndex]={entering:!1,leaving:!1})}catch(e){console.error("Error al intercambiar carta:",e),this.cardAnimations[this.selectedCardIndex]={entering:!1,leaving:!1},this.drawnCard=null,this.selectedCardIndex=-1,this.showDrawnCardAnimation=!1}}),400)}catch(e){console.error("Error en confirmCardSwap:",e)}})}getDeckCount(){return this.room?.deck?.length||0}canDrawFromDiscard(){return this.room?.discardPile&&this.room.discardPile.length>0}selectCard(e){!this.isYourTurn||!this.drawnCard||(this.selectedCardIndex=e)}get canCloseRound(){let e=this.calculateHandPoints()>=21;return this.isYourTurn&&!this.drawnCard&&this.room.status!=="round_closing"&&e}getNextPlayerTurn(){let n=(this.room.players.findIndex(r=>r.name===this.playerName)+1)%this.room.players.length;return this.room.players[n].name}calculateHandPoints(){let e={};for(let r of this.playerCards){let i=this.getCardSuit(r),o=this.getCardNumericValue(r);e[i]||(e[i]=[]),e[i].push(o)}let n=0;for(let r in e){let i=e[r].reduce((o,s)=>o+s,0);i>n&&(n=i)}return n}getCardNumericValue(e){let n=e.charAt(0);switch(n){case"1":return 11;case"S":return 10;case"C":return 10;case"R":return 10;default:return parseInt(n)}}closeRound(){return w(this,null,function*(){if(this.drawnCard){yield Ks.default.fire({title:"Error",text:"No puedes cerrar la ronda si tienes una carta robada",icon:"error",confirmButtonText:"OK"});return}try{let e=this.calculateHandPoints();(yield this.roomService.closeRound(this.roomCode,this.playerName))?yield Ks.default.fire({title:"\u{1F3AF} \xA1Plantado!",html:`<div style="text-align: center; font-size: 16px;"><span style="color: #27ae60; font-weight: 700; font-size: 18px;">${e} puntos</span><br><small style="color: #666; margin-top: 4px; display: block; font-size: 13px;">Turno del oponente</small></div>`,icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,position:"top",showClass:{popup:"animate__animated animate__fadeInDown animate__faster"},hideClass:{popup:"animate__animated animate__fadeOutUp animate__faster"},customClass:{popup:"swal-mobile-toast",title:"swal-mobile-title"},width:"280px",padding:"12px"}):yield Ks.default.fire({title:"Error",text:"Error al cerrar la ronda",icon:"error",confirmButtonText:"OK"})}catch{yield Ks.default.fire({title:"Error",text:"Error al cerrar la ronda",icon:"error",confirmButtonText:"OK"})}})}showWinnerImage=!1;winnerImageSrc="";winnerText="";isHandlingRoundEnd=!1;celebrationImages=["assets/a.jpeg","assets/b.jpeg","assets/c.jpeg","assets/d.jpeg","assets/e.jpeg","assets/f.jpeg","assets/g.jpeg","assets/h.jpeg","assets/i.jpeg","assets/j.jpeg","assets/k.jpeg","assets/l.jpeg","assets/m.jpeg","assets/n.jpeg","assets/o.jpeg","assets/p.jpeg","assets/q.jpeg","assets/r.jpeg","assets/s.jpeg","assets/t.jpeg","assets/u.jpeg","assets/w.jpeg","assets/x.jpeg","assets/y.jpeg","assets/z.jpeg","assets/\xF1.jpeg"];lastUsedImageIndex=-1;getRandomCelebrationImage(){let e;if(this.celebrationImages.length===1)return this.celebrationImages[0];do e=Math.floor(Math.random()*this.celebrationImages.length);while(e===this.lastUsedImageIndex&&this.celebrationImages.length>1);return this.lastUsedImageIndex=e,this.celebrationImages[e]}handleRoundEnd(){return w(this,null,function*(){if(!(this.isHandlingRoundEnd||this.showWinnerImage)&&this.room?.status==="waiting"&&this.room.lastWinner){this.isHandlingRoundEnd=!0;let e=this.room.lastWinner,n=this.room.lastWinnerPoints||0,r=this.room.lastLoserPoints||0;this.winnerImageSrc=this.room.celebrationImage||this.getRandomCelebrationImage(),e==="EMPATE"?this.winnerText=`\xA1Empate! Ambos con ${n} puntos`:this.winnerText=`\xA1${e} gan\xF3 con ${n} puntos!`,this.showWinnerImage=!0,setTimeout(()=>w(this,null,function*(){this.showWinnerImage=!1,this.room.players.every(o=>o.lives>0)&&(yield this.roomService.startNewRound(this.roomCode)),this.isHandlingRoundEnd=!1}),4e3)}})}prepareNewRoundLocal(){return w(this,null,function*(){if(!this.room)return;this.room.players.every(n=>n.lives>0)&&(this.room.deck=this.roomService.generateDeck(),this.room.discardPile=[],this.room.players.forEach(n=>{n.cards=this.roomService.drawCards(this.room.deck,3)}),this.room.deck.length>0&&this.room.discardPile.push(this.room.deck.pop()),this.room.turn=this.room.players[0].name,this.room.status="playing",yield this.roomService.updateRoom(this.room.code,this.room))})}getCardValue(e){let n=e.charAt(0);switch(n){case"S":return"Sota";case"C":return"Caballo";case"R":return"Rey";default:return n}}getCardSuit(e){return e.charAt(e.length-1)}getSuitSymbol(e){switch(e){case"C":return"\u2665";case"O":return"\u{1F536}";case"E":return"\u2660";case"B":return"\u2663";default:return e}}getCardImagePath(e){return`assets/cards/${e}.png`}getCardDisplayName(e){let n=this.getCardValue(e),r=this.getCardSuit(e),i=this.getSuitName(r);return`${n} de ${i}`}getSuitName(e){switch(e){case"C":return"Copas";case"O":return"Oros";case"E":return"Espadas";case"B":return"Bastos";default:return e}}onImageError(e,n){console.warn(`No se pudo cargar la imagen para la carta: ${n}`);let r=e.target,o=r.parentElement.querySelector(".card-fallback");r.style.display="none",o&&(o.style.display="flex")}getPlayerIcon(){return this.playerName==="Aguila"||this.playerName==="\xC1guila"?"\u{1F985}":this.playerName==="Lince"?"\u{1F431}":this.playerName.toLowerCase().includes("aguila")||this.playerName.toLowerCase().includes("\xE1guila")?"\u{1F985}":this.playerName.toLowerCase().includes("lince")?"\u{1F43E}":"\u{1F464}"}static \u0275fac=function(n){return new(n||t)(ie(ou))};static \u0275cmp=Xf({type:t,selectors:[["app-game"]],inputs:{room:"room",playerName:"playerName",roomCode:"roomCode"},decls:43,vars:20,consts:[[1,"game-container"],[1,"game-title-enhanced"],[1,"title-number"],[1,"room-code"],[1,"player-info"],["class","turn-indicator",4,"ngIf"],["class","last-turn-indicator",4,"ngIf"],["class","waiting",4,"ngIf"],["class","you-closed",4,"ngIf"],[1,"game-table"],[1,"deck-discard-row"],[1,"deck-area","mr-3"],[1,"deck-stack"],[1,"deck-card","deck-card-1"],[1,"deck-card","deck-card-2"],[1,"deck-card","deck-card-3",3,"click"],["src","/assets/cards/RV.png","alt","Mazo",1,"card-image"],[1,"deck-count"],[1,"discard-area"],["class","discard-stack",4,"ngIf"],["class","empty-discard",4,"ngIf"],["class","drawn-card-area",4,"ngIf"],[1,"player-hand"],[1,"player-hand-header"],[1,"player-score-header"],[1,"player-icon"],[1,"score-text"],[1,"cards-container"],["class","card player-card",3,"selected","card-entering","card-leaving","animation-delay","click",4,"ngFor","ngForOf"],[1,"game-actions"],[4,"ngIf"],["class","btn btn-close action-btn",3,"click",4,"ngIf"],["class","winner-overlay",4,"ngIf"],[1,"turn-indicator"],[1,"last-turn-indicator"],[1,"waiting"],[1,"you-closed"],[1,"discard-stack"],["class","card discard-card",3,"discard-glow","click",4,"ngFor","ngForOf"],[1,"card","discard-card",3,"click"],[1,"card-image",3,"error","src","alt"],[1,"empty-discard"],[1,"empty-pile"],[1,"drawn-card-area"],[1,"drawn-card-container"],[1,"card","drawn-card"],[1,"card-fallback",2,"display","none"],[1,"card-value"],[1,"card-suit",3,"ngClass"],[1,"card","player-card",3,"click"],[1,"btn","btn-draw-deck","action-btn",3,"click","disabled"],[1,"btn-icon"],[1,"btn-text"],[1,"btn","btn-draw-discard","action-btn",3,"click","disabled"],[1,"btn","btn-swap","action-btn",3,"click","disabled"],[1,"btn","btn-pass","action-btn",3,"click","disabled"],[1,"btn","btn-close","action-btn",3,"click"],[1,"winner-overlay"],[1,"winner-content"],[1,"winner-image",3,"src","alt"],[1,"winner-text"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"h2",1)(2,"span",2),Q(3,"3\uFE0F\u20E31\uFE0F\u20E3"),R(),S(4,"span",3),Q(5),R()(),S(6,"div",4),Vt(7,AL,2,0,"p",5)(8,NL,2,0,"p",6)(9,xL,2,0,"p",7)(10,ML,2,0,"p",8),R(),S(11,"div",9)(12,"div",10)(13,"div",11)(14,"h3"),Q(15,"Mazo"),R(),S(16,"div",12),ki(17,"div",13)(18,"div",14),S(19,"div",15),Me("click",function(){return r.drawFromDeck()}),ki(20,"img",16),R()(),S(21,"p",17),Q(22),R()(),S(23,"div",18)(24,"h3"),Q(25,"Descarte"),R(),Vt(26,RL,2,1,"div",19)(27,PL,3,0,"div",20),R()(),Vt(28,OL,11,7,"div",21),R(),S(29,"div",22)(30,"div",23)(31,"h4",24)(32,"span",25),Q(33),R(),S(34,"span",26),Q(35),R()()(),S(36,"div",27),Vt(37,FL,7,13,"div",28),R()(),S(38,"div",29),Vt(39,LL,11,2,"ng-container",30)(40,VL,11,2,"ng-container",30)(41,jL,5,0,"button",31),R()(),Vt(42,BL,5,3,"div",32)),n&2&&(jt("waiting-turn",!r.isYourTurn),U(5),rn(" Sala: ",r.roomCode),U(2),ae("ngIf",r.isYourTurn&&(r.room==null?null:r.room.status)!=="round_closing"),U(),ae("ngIf",r.isYourTurn&&(r.room==null?null:r.room.status)==="round_closing"),U(),ae("ngIf",!r.isYourTurn&&(r.room==null?null:r.room.status)!=="round_closing"),U(),ae("ngIf",!r.isYourTurn&&(r.room==null?null:r.room.status)==="round_closing"),U(9),jt("deck-drawing",r.isDrawingFromDeck),U(3),rn("",r.getDeckCount()," cartas"),U(4),ae("ngIf",r.room.discardPile&&r.room.discardPile.length>0),U(),ae("ngIf",!r.room.discardPile||r.room.discardPile.length===0),U(),ae("ngIf",r.drawnCard),U(5),wr(r.getPlayerIcon()),U(2),rn("Tus cartas (",r.calculateHandPoints()," puntos)"),U(2),ae("ngForOf",r.playerCards),U(2),ae("ngIf",!r.drawnCard),U(),ae("ngIf",r.drawnCard),U(),ae("ngIf",r.calculateHandPoints()>=21&&r.isYourTurn&&!r.drawnCard&&r.room.status!=="round_closing"),U(),ae("ngIf",r.showWinnerImage))},dependencies:[aE,wh,vh,Yc,_h],styles:['.game-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:5px;font-family:Arial,sans-serif;background:linear-gradient(135deg,#fff3cd,#ffeaa7,#fdcb6e);min-height:100vh;color:#8b4513;display:flex;flex-direction:column;overflow-x:hidden;transition:background .5s ease}.game-container.waiting-turn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff8e1,#ffecb3,#ffe082);opacity:.85}.waiting[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d6e6fa,#60a5fa);padding:8px 16px;border-radius:20px;text-align:center;margin:5px auto;max-width:300px;color:#071236;font-size:.95rem;border:2px solid rgba(59,130,246,.3);box-shadow:0 4px 15px #3b82f633,inset 0 1px #ffffff4d;font-weight:500;animation:_ngcontent-%COMP%_gentlePulse 3s ease-in-out infinite}.game-container.waiting-turn[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{transition:all .3s ease}@keyframes _ngcontent-%COMP%_gentlePulse{0%,to{transform:scale(1);box-shadow:0 4px 15px #3b82f633,inset 0 1px #ffffff4d}50%{transform:scale(1.02);box-shadow:0 6px 20px #3b82f64d,inset 0 1px #fff6}}.game-title[_ngcontent-%COMP%]{color:#e17055;text-align:center;margin-bottom:15px;text-shadow:2px 2px 4px rgba(0,0,0,.3);font-size:1.5rem}.player-info[_ngcontent-%COMP%]{text-align:center;margin-bottom:5px}.turn-indicator[_ngcontent-%COMP%]{background:linear-gradient(45deg,#f39c12,#fdcb6e);color:#fff;padding:6px 12px;border-radius:25px;text-align:center;margin:3px auto;max-width:280px;box-shadow:0 4px 15px #f39c124d;animation:pulse 2s infinite;font-size:.9rem}.game-table[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin:8px 0;padding:10px;background:#fff3;border-radius:20px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(255,234,167,.3);flex-shrink:0}.deck-area[_ngcontent-%COMP%]{text-align:center}.deck-stack[_ngcontent-%COMP%]{position:relative;width:110px;height:150px;margin:0 auto}.deck-card[_ngcontent-%COMP%]{position:absolute;width:110px;height:150px;background:#8b4513;border:3px solid #d2691e;border-radius:12px;cursor:pointer;transition:all .3s ease}.deck-card-1[_ngcontent-%COMP%]{transform:rotate(-2deg) translate(-2px,2px);z-index:1}.deck-card-2[_ngcontent-%COMP%]{transform:rotate(1deg) translate(1px,-1px);z-index:2}.deck-card-3[_ngcontent-%COMP%]{z-index:3;box-shadow:0 8px 25px #8b45134d}.deck-card-3[_ngcontent-%COMP%]:hover{transform:translateY(-10px) scale(1.05);box-shadow:0 15px 35px #8b451366}.deck-drawing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cardDraw .6s ease-out}.deck-count[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;opacity:.8;color:#e17055}.discard-area[_ngcontent-%COMP%]{text-align:center}.discard-stack[_ngcontent-%COMP%]{position:relative;width:110px;height:150px;margin:0 auto}.discard-card[_ngcontent-%COMP%]{position:absolute;width:110px;height:150px;cursor:pointer;transition:all .3s ease;animation:_ngcontent-%COMP%_cardDiscard .5s ease-out}.discard-glow[_ngcontent-%COMP%]{box-shadow:0 0 20px #f39c12,0 0 40px #f39c12;animation:_ngcontent-%COMP%_glow 2s ease-in-out infinite alternate}.empty-discard[_ngcontent-%COMP%]{width:110px;height:150px;margin:0 auto}.empty-pile[_ngcontent-%COMP%]{width:100%;height:100%;border:3px dashed rgba(225,112,85,.5);border-radius:12px;display:flex;align-items:center;justify-content:center;color:#e17055b3;font-size:14px}.cards-container[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;margin:15px 0;justify-content:center;perspective:1000px;overflow-x:auto;overflow-y:hidden;padding:10px 5px;-webkit-overflow-scrolling:touch}.card[_ngcontent-%COMP%]{width:110px;height:150px;border:3px solid #fff;border-radius:12px;margin:5px;cursor:pointer;position:relative;background:#fff;box-shadow:0 4px 15px #0003;transition:all .3s cubic-bezier(.4,0,.2,1);overflow:hidden;transform-style:preserve-3d;flex-shrink:0}.player-card[_ngcontent-%COMP%]:hover{transform:translateY(-15px) rotateY(5deg);box-shadow:0 15px 35px #0000004d}.card.selected[_ngcontent-%COMP%]{border-color:#f39c12;transform:translateY(-20px) scale(1.1);box-shadow:0 0 25px #f39c12,0 15px 35px #0006;z-index:10}.card-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;border-radius:9px;padding:5px;box-sizing:border-box}.card-entering[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cardEnter .6s ease-out}.card-leaving[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cardLeave .4s ease-in}.card-flip-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flipIn .8s ease-out}.drawn-card-area[_ngcontent-%COMP%]{text-align:center;margin:0;padding:5px;border-radius:15px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.drawn-card-area[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9rem;margin:2px 0;color:#8b4513;font-weight:600}.drawn-card-container[_ngcontent-%COMP%]{display:flex;justify-content:center;perspective:1000px;margin-top:0}.drawn-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cardDrawn .8s ease-out;box-shadow:0 0 30px #f39c1299}.player-hand[_ngcontent-%COMP%]{margin:15px 0;padding:15px;border:2px solid rgba(255,234,167,.5);border-radius:20px;background:#fff3;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);flex-shrink:0}.game-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center;margin:20px 0;flex-wrap:wrap;padding:0 15px}.action-btn[_ngcontent-%COMP%]{padding:16px 24px;border:none;border-radius:30px;cursor:pointer;font-weight:600;font-size:16px;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 6px 20px #00000026;position:relative;overflow:hidden;min-height:56px;min-width:140px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;transform:translateY(0);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.btn-icon[_ngcontent-%COMP%]{font-size:24px;line-height:1}.btn-text[_ngcontent-%COMP%]{font-size:14px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.btn-draw-deck[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:2px solid rgba(255,255,255,.2)}.btn-draw-deck[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 12px 30px #667eea66;background:linear-gradient(135deg,#7c8ef0,#8b5fb8)}.btn-draw-discard[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c);color:#fff;border:2px solid rgba(255,255,255,.2)}.btn-draw-discard[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 12px 30px #f5576c66;background:linear-gradient(135deg,#f2a5fc,#f76982)}.btn-swap[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff;border:2px solid rgba(255,255,255,.2)}.btn-swap[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 12px 30px #4facfe66;background:linear-gradient(135deg,#6bb6ff,#1af4fe)}.btn-discard[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;border:2px solid rgba(255,255,255,.2)}.btn-discard[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 12px 30px #fa709a66;background:linear-gradient(135deg,#fb82b0,#fee356)}.btn-pass[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff9a9e,#fecfef 25% 75%,#ff9a9e);color:#fff;border:3px solid rgba(255,255,255,.4);position:relative;overflow:hidden;box-shadow:0 8px 25px #ff9a9e66,inset 0 1px #fff9,inset 0 -1px #0000001a;text-shadow:0 1px 2px rgba(0,0,0,.2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.btn-pass[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;flex-direction:column;align-items:center;gap:4px}.btn-pass[_ngcontent-%COMP%]   .btn-shine[_ngcontent-%COMP%]{position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.3) 50%,transparent 70%);transform:rotate(45deg);animation:_ngcontent-%COMP%_shine 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_shine{0%{transform:translate(-100%) translateY(-100%) rotate(45deg)}50%{transform:translate(0) translateY(0) rotate(45deg)}to{transform:translate(100%) translateY(100%) rotate(45deg)}}.btn-pass[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-4px) scale(1.02);box-shadow:0 15px 35px #ff9a9e99,inset 0 1px #fffc,inset 0 -1px #0000001a;background:linear-gradient(135deg,#ffb3ba,#ffdfef 25% 75%,#ffb3ba);animation:_ngcontent-%COMP%_buttonGlow .6s ease-in-out}@keyframes _ngcontent-%COMP%_buttonGlow{0%,to{box-shadow:0 15px 35px #ff9a9e99,inset 0 1px #fffc}50%{box-shadow:0 20px 40px #ff9a9ecc,inset 0 1px #fff,0 0 20px #ff9a9e80}}.btn-pass[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-2px) scale(.98);transition:all .1s ease;box-shadow:0 8px 20px #ff9a9e66,inset 0 2px 4px #0000001a}.btn-pass[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:22px;filter:drop-shadow(0 1px 2px rgba(0,0,0,.3));animation:_ngcontent-%COMP%_iconFloat 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_iconFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-2px)}}.btn-pass[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:14px;font-weight:700;text-transform:uppercase;letter-spacing:1px;filter:drop-shadow(0 1px 2px rgba(0,0,0,.3))}.btn-pass[_ngcontent-%COMP%]:hover:not(:disabled):before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background:radial-gradient(circle,rgba(255,255,255,.6) 0%,transparent 70%);border-radius:50%;transform:translate(-50%,-50%);animation:_ngcontent-%COMP%_ripple .6s ease-out;z-index:1}@keyframes _ngcontent-%COMP%_ripple{0%{width:0;height:0;opacity:1}to{width:100px;height:100px;opacity:0}}.btn-pass[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#e2e8f0,#f7fafc);color:#a0aec0;border-color:#a0aec04d;box-shadow:0 2px 8px #0000001a;text-shadow:none}.btn-pass[_ngcontent-%COMP%]:disabled   .btn-shine[_ngcontent-%COMP%]{display:none}.btn-pass[_ngcontent-%COMP%]:disabled   .btn-icon[_ngcontent-%COMP%]{animation:none;filter:grayscale(100%)}.btn-close[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff9a9e,#fecfef 50% 100%);color:#d63384;border:3px solid #ff6b9d;animation:_ngcontent-%COMP%_closeButtonPulse 2s ease-in-out infinite;font-weight:700;text-shadow:0 1px 2px rgba(255,255,255,.8)}.btn-close[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.05);box-shadow:0 15px 35px #ff6b9d80;animation:none;background:linear-gradient(135deg,#ffb3ba,#ffdfef 50% 100%)}@keyframes _ngcontent-%COMP%_closeButtonPulse{0%,to{transform:translateY(0) scale(1);box-shadow:0 6px 20px #ff6b9d4d}50%{transform:translateY(-2px) scale(1.02);box-shadow:0 10px 25px #ff6b9d80}}.action-btn[_ngcontent-%COMP%]:disabled{opacity:.4!important;cursor:not-allowed!important;transform:none!important;box-shadow:0 2px 8px #0000001a!important;filter:grayscale(70%)!important;pointer-events:none!important}.action-btn[_ngcontent-%COMP%]:not(:disabled){opacity:1;pointer-events:auto;filter:none}.action-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(-1px) scale(.98);transition:all .1s ease}@media (max-width: 480px){.action-btn[_ngcontent-%COMP%]{min-width:120px;padding:14px 20px;min-height:52px}.btn-icon[_ngcontent-%COMP%]{font-size:20px}.btn-text[_ngcontent-%COMP%]{font-size:12px}.game-actions[_ngcontent-%COMP%]{gap:8px;padding:0 10px}}@keyframes _ngcontent-%COMP%_glow{0%{box-shadow:0 0 20px #f39c12}to{box-shadow:0 0 30px #f39c12,0 0 40px #f39c12}}@keyframes _ngcontent-%COMP%_cardDraw{0%{transform:translateY(0) rotate(0)}50%{transform:translateY(-30px) rotate(10deg)}to{transform:translateY(-60px) rotate(0) scale(.8);opacity:0}}@keyframes _ngcontent-%COMP%_cardDiscard{0%{transform:scale(.8) rotate(180deg);opacity:0}to{transform:scale(1) rotate(0);opacity:1}}@keyframes _ngcontent-%COMP%_cardEnter{0%{transform:translate(-100px) rotate(-90deg) scale(.5);opacity:0}to{transform:translate(0) rotate(0) scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_cardLeave{0%{transform:translate(0) rotate(0) scale(1);opacity:1}to{transform:translate(100px) rotate(90deg) scale(.5);opacity:0}}@keyframes _ngcontent-%COMP%_flipIn{0%{transform:rotateY(180deg) scale(.5);opacity:0}50%{transform:rotateY(90deg) scale(.8)}to{transform:rotateY(0) scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_cardDrawn{0%{transform:translateY(-100px) rotateX(180deg) scale(.3);opacity:0}50%{transform:translateY(-20px) rotateX(90deg) scale(.8)}to{transform:translateY(0) rotateX(0) scale(1);opacity:1}}.card[_ngcontent-%COMP%]:hover:after{content:"";position:absolute;inset:0;background:radial-gradient(circle at center,rgba(255,255,255,.1) 0%,transparent 70%);pointer-events:none}@media (max-width: 480px){.game-container[_ngcontent-%COMP%]{padding:5px;min-height:100vh;height:100vh;overflow-y:auto}.game-title[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:10px}.game-table[_ngcontent-%COMP%]{flex-direction:column;gap:15px;margin:10px 0;padding:10px}.cards-container[_ngcontent-%COMP%]{gap:5px;margin:10px 0;flex-wrap:nowrap;justify-content:flex-start;padding:5px}.card[_ngcontent-%COMP%]{width:70px;height:95px;margin:2px}.deck-card[_ngcontent-%COMP%], .discard-card[_ngcontent-%COMP%], .deck-stack[_ngcontent-%COMP%], .discard-stack[_ngcontent-%COMP%], .empty-discard[_ngcontent-%COMP%]{width:70px;height:95px}.action-btn[_ngcontent-%COMP%]{padding:10px 15px;font-size:12px;min-height:40px;min-width:80px}.game-actions[_ngcontent-%COMP%]{gap:8px;margin:10px 0}.player-hand[_ngcontent-%COMP%]{margin:10px 0;padding:10px}.turn-indicator[_ngcontent-%COMP%], .waiting[_ngcontent-%COMP%]{padding:8px 12px;margin:5px auto;max-width:250px;font-size:.8rem}}@media (max-width: 768px) and (orientation: landscape){.game-container[_ngcontent-%COMP%]{padding:5px;height:100vh;overflow-y:auto}.game-table[_ngcontent-%COMP%]{flex-direction:row;gap:10px;margin:5px 0;padding:8px}.cards-container[_ngcontent-%COMP%]{gap:6px;margin:8px 0}.card[_ngcontent-%COMP%], .deck-card[_ngcontent-%COMP%], .discard-card[_ngcontent-%COMP%], .deck-stack[_ngcontent-%COMP%], .discard-stack[_ngcontent-%COMP%], .empty-discard[_ngcontent-%COMP%]{width:60px;height:82px}.game-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:5px}.player-hand[_ngcontent-%COMP%]{margin:8px 0;padding:8px}}@media (min-width: 481px) and (max-width: 768px){.game-table[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.cards-container[_ngcontent-%COMP%]{gap:12px}.card[_ngcontent-%COMP%], .deck-card[_ngcontent-%COMP%], .discard-card[_ngcontent-%COMP%], .deck-stack[_ngcontent-%COMP%], .discard-stack[_ngcontent-%COMP%], .empty-discard[_ngcontent-%COMP%]{width:85px;height:115px}.action-btn[_ngcontent-%COMP%]{padding:12px 18px;font-size:13px}}@media (hover: none) and (pointer: coarse){.card[_ngcontent-%COMP%]:hover{transform:none}.card[_ngcontent-%COMP%]:active{transform:scale(.95)}.action-btn[_ngcontent-%COMP%]:hover{transform:none}.action-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.deck-card-3[_ngcontent-%COMP%]:hover{transform:none}.deck-card-3[_ngcontent-%COMP%]:active{transform:scale(.95)}}.winner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;justify-content:center;align-items:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .5s ease-in}.winner-content[_ngcontent-%COMP%]{text-align:center;background:#fff;padding:30px;border-radius:20px;box-shadow:0 10px 30px #0000004d;animation:_ngcontent-%COMP%_slideIn .5s ease-out;max-width:90%;max-height:90%}.winner-image[_ngcontent-%COMP%]{max-width:400px;max-height:400px;width:100%;height:auto;border-radius:15px;margin-bottom:20px;object-fit:contain}.winner-text[_ngcontent-%COMP%]{color:#e17055;font-size:1.5em;margin:0;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.1)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-50px) scale(.8);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}@media (max-width: 600px){.winner-content[_ngcontent-%COMP%]{padding:20px;margin:20px}.winner-image[_ngcontent-%COMP%]{max-width:300px;max-height:300px}.winner-text[_ngcontent-%COMP%]{font-size:1.2em}}.deck-discard-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:60px;margin-bottom:0;padding:0 20px}.deck-area[_ngcontent-%COMP%], .discard-area[_ngcontent-%COMP%]{flex:1;max-width:150px}.drawn-card-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.player-hand-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2px;flex-wrap:wrap;gap:5px}.player-hand-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.1rem}.player-points[_ngcontent-%COMP%]{font-size:1.1em;font-weight:600;color:#4caf50;background:#4caf501a;padding:5px 10px;border-radius:15px;border:2px solid #4CAF50}@media (max-width: 768px){.deck-discard-row[_ngcontent-%COMP%]{gap:40px;padding:0 10px;margin-bottom:0}.drawn-card-area[_ngcontent-%COMP%]{margin:0;padding:3px}.drawn-card-area[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.9rem;margin:3px 0}.deck-area[_ngcontent-%COMP%], .discard-area[_ngcontent-%COMP%]{max-width:120px}.player-hand-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:3px;margin-bottom:1px}.player-hand-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin:0}.cards-container[_ngcontent-%COMP%]{margin:3px 0 10px;padding:3px}.player-points[_ngcontent-%COMP%]{font-size:1em;padding:4px 8px}.player-hand[_ngcontent-%COMP%]{margin:8px 0;padding:8px}.game-actions[_ngcontent-%COMP%]{margin:8px 0;gap:6px;padding:0 3px}.action-btn[_ngcontent-%COMP%]{padding:6px 12px;font-size:13px}}@media (max-width: 480px){.deck-discard-row[_ngcontent-%COMP%]{gap:25px;padding:0 5px;margin-bottom:0}.drawn-card-area[_ngcontent-%COMP%]{margin:0;padding:2px}.drawn-card-area[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.8rem;margin:0}.deck-area[_ngcontent-%COMP%], .discard-area[_ngcontent-%COMP%]{max-width:100px}.deck-area[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .discard-area[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.9em;margin:3px 0}.turn-indicator[_ngcontent-%COMP%], .waiting[_ngcontent-%COMP%]{padding:4px 8px;margin:2px auto}[_nghost-%COMP%]     .swal2-popup.swal-custom-popup{border-radius:15px!important;box-shadow:0 10px 40px #0000001a!important;border:none!important;padding:20px!important;font-family:Arial,sans-serif!important;max-width:350px!important}[_nghost-%COMP%]     .swal2-title.swal-custom-title{font-size:1.3rem!important;font-weight:600!important;color:#2c3e50!important;margin-bottom:15px!important}[_nghost-%COMP%]     .swal2-html-container{font-size:.95rem!important;color:#5a6c7d!important;line-height:1.4!important;margin:0!important}[_nghost-%COMP%]     .swal2-confirm{background:linear-gradient(45deg,#27ae60,#2ecc71)!important;border:none!important;border-radius:8px!important;padding:10px 25px!important;font-size:.9rem!important;font-weight:500!important;box-shadow:0 3px 15px #27ae604d!important;transition:all .2s ease!important}[_nghost-%COMP%]     .swal2-confirm:hover{transform:translateY(-1px)!important;box-shadow:0 5px 20px #27ae6066!important}[_nghost-%COMP%]     .swal2-icon{border:none!important;margin:10px auto 15px!important}[_nghost-%COMP%]     .swal2-icon.swal2-success{color:#27ae60!important}[_nghost-%COMP%]     .swal2-icon.swal2-success .swal2-success-ring{border-color:#27ae60!important}[_nghost-%COMP%]     .swal2-icon.swal2-success [class^=swal2-success-line]{background-color:#27ae60!important}}']})};export{X as a,ne as b,rT as c,w as d,me as e,pT as f,k as g,Uu as h,$u as i,pt as j,go as k,yo as l,Mt as m,IT as n,DT as o,TT as p,qn as q,Xt as r,PT as s,Yn as t,$a as u,FT as v,LT as w,vo as x,wy as y,VT as z,_o as A,Ku as B,BT as C,HT as D,Zu as E,UT as F,$T as G,WT as H,zT as I,GT as J,qT as K,F as L,Io as M,Z as N,ZT as O,N as P,we as Q,D as R,or as S,Sd as T,je as U,_n as V,tt as W,nt as X,hv as Y,Be as Z,Vo as _,vi as $,er as aa,Ft as ba,hr as ca,Cn as da,Rc as ea,Af as fa,rA as ga,iA as ha,f_ as ia,xf as ja,sA as ka,Ci as la,U as ma,$o as na,zo as oa,ie as pa,Zo as qa,nw as ra,rw as sa,Xf as ta,vt as ua,Vt as va,th as wa,rt as xa,pe as ya,Nx as za,xi as Aa,xx as Ba,dw as Ca,Mi as Da,kx as Ea,Rx as Fa,ae as Ga,S as Ha,R as Ia,ki as Ja,Tn as Ka,Me as La,Ee as Ma,jt as Na,Q as Oa,wr as Pa,rn as Qa,yw as Ra,nM as Sa,vw as Ta,aM as Ua,on as Va,j4 as Wa,fh as Xa,hh as Ya,B4 as Za,Er as _a,LM as $a,gh as ab,Vw as bb,Yc as cb,_h as db,wh as eb,HM as fb,Eh as gb,m7 as hb,Qw as ib,V7 as jb,yk as kb,aE as lb,cE as mb,j9 as nb,B9 as ob,dZ as pb,fZ as qb,ou as rb,mI as sb};
