var QT=Object.create;var Tu=Object.defineProperty,JT=Object.defineProperties,XT=Object.getOwnPropertyDescriptor,e0=Object.getOwnPropertyDescriptors,t0=Object.getOwnPropertyNames,Um=Object.getOwnPropertySymbols,n0=Object.getPrototypeOf,Wm=Object.prototype.hasOwnProperty,r0=Object.prototype.propertyIsEnumerable;var $m=(t,e,n)=>e in t?Tu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J=(t,e)=>{for(var n in e||={})Wm.call(e,n)&&$m(t,n,e[n]);if(Um)for(var n of Um(e))r0.call(e,n)&&$m(t,n,e[n]);return t},te=(t,e)=>JT(t,e0(e));var i0=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var o0=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of t0(e))!Wm.call(t,i)&&i!==n&&Tu(t,i,{get:()=>e[i],enumerable:!(r=XT(e,i))||r.enumerable});return t};var s0=(t,e,n)=>(n=t!=null?QT(n0(t)):{},o0(e||!t||!t.__esModule?Tu(n,"default",{value:t,enumerable:!0}):n,t));var w=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(d){i(d)}},s=l=>{try{a(n.throw(l))}catch(d){i(d)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())});var dE=i0((Bt,Ah)=>{"use strict";(function(t,e){typeof Bt=="object"&&typeof Ah<"u"?Ah.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(Bt,function(){"use strict";function t(c,u,f){if(typeof c=="function"?c===u:c.has(u))return arguments.length<3?u:f;throw new TypeError("Private element is not present on this object")}function e(c,u){if(u.has(c))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(c,u){return c.get(t(c,u))}function r(c,u,f){e(c,u),u.set(c,f)}function i(c,u,f){return c.set(t(c,u),f),f}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},l=c=>new Promise(u=>{if(!c)return u();let f=window.scrollX,g=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),u()},o),window.scrollTo(f,g)}),d="swal2-",h=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((c,u)=>(c[u]=d+u,c),{}),y=["success","warning","info","question","error"].reduce((c,u)=>(c[u]=d+u,c),{}),_="SweetAlert2:",I=c=>c.charAt(0).toUpperCase()+c.slice(1),C=c=>{console.warn(`${_} ${typeof c=="object"?c.join(" "):c}`)},T=c=>{console.error(`${_} ${c}`)},Re=[],Ye=c=>{Re.includes(c)||(Re.push(c),C(c))},Qt=(c,u=null)=>{Ye(`"${c}" is deprecated and will be removed in the next major release.${u?` Use "${u}" instead.`:""}`)},Fn=c=>typeof c=="function"?c():c,Ln=c=>c&&typeof c.toPromise=="function",ln=c=>Ln(c)?c.toPromise():Promise.resolve(c),so=c=>c&&Promise.resolve(c)===c,we=()=>document.body.querySelector(`.${h.container}`),Vn=c=>{let u=we();return u?u.querySelector(c):null},Ke=c=>Vn(`.${c}`),$=()=>Ke(h.popup),jr=()=>Ke(h.icon),wC=()=>Ke(h["icon-content"]),$g=()=>Ke(h.title),au=()=>Ke(h["html-container"]),Wg=()=>Ke(h.image),cu=()=>Ke(h["progress-steps"]),Js=()=>Ke(h["validation-message"]),At=()=>Vn(`.${h.actions} .${h.confirm}`),Br=()=>Vn(`.${h.actions} .${h.cancel}`),jn=()=>Vn(`.${h.actions} .${h.deny}`),EC=()=>Ke(h["input-label"]),Hr=()=>Vn(`.${h.loader}`),ao=()=>Ke(h.actions),Gg=()=>Ke(h.footer),Xs=()=>Ke(h["timer-progress-bar"]),lu=()=>Ke(h.close),bC=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,uu=()=>{let c=$();if(!c)return[];let u=c.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),f=Array.from(u).sort((b,B)=>{let Q=parseInt(b.getAttribute("tabindex")||"0"),ce=parseInt(B.getAttribute("tabindex")||"0");return Q>ce?1:Q<ce?-1:0}),g=c.querySelectorAll(bC),v=Array.from(g).filter(b=>b.getAttribute("tabindex")!=="-1");return[...new Set(f.concat(v))].filter(b=>Le(b))},du=()=>Jt(document.body,h.shown)&&!Jt(document.body,h["toast-shown"])&&!Jt(document.body,h["no-backdrop"]),ea=()=>{let c=$();return c?Jt(c,h.toast):!1},IC=()=>{let c=$();return c?c.hasAttribute("data-loading"):!1},Ze=(c,u)=>{if(c.textContent="",u){let g=new DOMParser().parseFromString(u,"text/html"),v=g.querySelector("head");v&&Array.from(v.childNodes).forEach(B=>{c.appendChild(B)});let b=g.querySelector("body");b&&Array.from(b.childNodes).forEach(B=>{B instanceof HTMLVideoElement||B instanceof HTMLAudioElement?c.appendChild(B.cloneNode(!0)):c.appendChild(B)})}},Jt=(c,u)=>{if(!u)return!1;let f=u.split(/\s+/);for(let g=0;g<f.length;g++)if(!c.classList.contains(f[g]))return!1;return!0},CC=(c,u)=>{Array.from(c.classList).forEach(f=>{!Object.values(h).includes(f)&&!Object.values(y).includes(f)&&!Object.values(u.showClass||{}).includes(f)&&c.classList.remove(f)})},Qe=(c,u,f)=>{if(CC(c,u),!u.customClass)return;let g=u.customClass[f];if(g){if(typeof g!="string"&&!g.forEach){C(`Invalid type of customClass.${f}! Expected string or iterable object, got "${typeof g}"`);return}q(c,g)}},ta=(c,u)=>{if(!u)return null;switch(u){case"select":case"textarea":case"file":return c.querySelector(`.${h.popup} > .${h[u]}`);case"checkbox":return c.querySelector(`.${h.popup} > .${h.checkbox} input`);case"radio":return c.querySelector(`.${h.popup} > .${h.radio} input:checked`)||c.querySelector(`.${h.popup} > .${h.radio} input:first-child`);case"range":return c.querySelector(`.${h.popup} > .${h.range} input`);default:return c.querySelector(`.${h.popup} > .${h.input}`)}},zg=c=>{if(c.focus(),c.type!=="file"){let u=c.value;c.value="",c.value=u}},qg=(c,u,f)=>{!c||!u||(typeof u=="string"&&(u=u.split(/\s+/).filter(Boolean)),u.forEach(g=>{Array.isArray(c)?c.forEach(v=>{f?v.classList.add(g):v.classList.remove(g)}):f?c.classList.add(g):c.classList.remove(g)}))},q=(c,u)=>{qg(c,u,!0)},st=(c,u)=>{qg(c,u,!1)},un=(c,u)=>{let f=Array.from(c.children);for(let g=0;g<f.length;g++){let v=f[g];if(v instanceof HTMLElement&&Jt(v,u))return v}},Bn=(c,u,f)=>{f===`${parseInt(f)}`&&(f=parseInt(f)),f||parseInt(f)===0?c.style.setProperty(u,typeof f=="number"?`${f}px`:f):c.style.removeProperty(u)},Ie=(c,u="flex")=>{c&&(c.style.display=u)},Se=c=>{c&&(c.style.display="none")},fu=(c,u="block")=>{c&&new MutationObserver(()=>{co(c,c.innerHTML,u)}).observe(c,{childList:!0,subtree:!0})},Yg=(c,u,f,g)=>{let v=c.querySelector(u);v&&v.style.setProperty(f,g)},co=(c,u,f="flex")=>{u?Ie(c,f):Se(c)},Le=c=>!!(c&&(c.offsetWidth||c.offsetHeight||c.getClientRects().length)),DC=()=>!Le(At())&&!Le(jn())&&!Le(Br()),hu=c=>c.scrollHeight>c.clientHeight,TC=(c,u)=>{let f=c;for(;f&&f!==u;){if(hu(f))return!0;f=f.parentElement}return!1},Kg=c=>{let u=window.getComputedStyle(c),f=parseFloat(u.getPropertyValue("animation-duration")||"0"),g=parseFloat(u.getPropertyValue("transition-duration")||"0");return f>0||g>0},pu=(c,u=!1)=>{let f=Xs();f&&Le(f)&&(u&&(f.style.transition="none",f.style.width="100%"),setTimeout(()=>{f.style.transition=`width ${c/1e3}s linear`,f.style.width="0%"},10))},SC=()=>{let c=Xs();if(!c)return;let u=parseInt(window.getComputedStyle(c).width);c.style.removeProperty("transition"),c.style.width="100%";let f=parseInt(window.getComputedStyle(c).width),g=u/f*100;c.style.width=`${g}%`},AC=()=>typeof window>"u"||typeof document>"u",NC=`
 <div aria-labelledby="${h.title}" aria-describedby="${h["html-container"]}" class="${h.popup}" tabindex="-1">
   <button type="button" class="${h.close}"></button>
   <ul class="${h["progress-steps"]}"></ul>
   <div class="${h.icon}"></div>
   <img class="${h.image}" />
   <h2 class="${h.title}" id="${h.title}"></h2>
   <div class="${h["html-container"]}" id="${h["html-container"]}"></div>
   <input class="${h.input}" id="${h.input}" />
   <input type="file" class="${h.file}" />
   <div class="${h.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${h.select}" id="${h.select}"></select>
   <div class="${h.radio}"></div>
   <label class="${h.checkbox}">
     <input type="checkbox" id="${h.checkbox}" />
     <span class="${h.label}"></span>
   </label>
   <textarea class="${h.textarea}" id="${h.textarea}"></textarea>
   <div class="${h["validation-message"]}" id="${h["validation-message"]}"></div>
   <div class="${h.actions}">
     <div class="${h.loader}"></div>
     <button type="button" class="${h.confirm}"></button>
     <button type="button" class="${h.deny}"></button>
     <button type="button" class="${h.cancel}"></button>
   </div>
   <div class="${h.footer}"></div>
   <div class="${h["timer-progress-bar-container"]}">
     <div class="${h["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),MC=()=>{let c=we();return c?(c.remove(),st([document.documentElement,document.body],[h["no-backdrop"],h["toast-shown"],h["has-column"]]),!0):!1},Hn=()=>{s.currentInstance.resetValidationMessage()},kC=()=>{let c=$(),u=un(c,h.input),f=un(c,h.file),g=c.querySelector(`.${h.range} input`),v=c.querySelector(`.${h.range} output`),b=un(c,h.select),B=c.querySelector(`.${h.checkbox} input`),Q=un(c,h.textarea);u.oninput=Hn,f.onchange=Hn,b.onchange=Hn,B.onchange=Hn,Q.oninput=Hn,g.oninput=()=>{Hn(),v.value=g.value},g.onchange=()=>{Hn(),v.value=g.value}},xC=c=>typeof c=="string"?document.querySelector(c):c,RC=c=>{let u=$();u.setAttribute("role",c.toast?"alert":"dialog"),u.setAttribute("aria-live",c.toast?"polite":"assertive"),c.toast||u.setAttribute("aria-modal","true")},PC=c=>{window.getComputedStyle(c).direction==="rtl"&&q(we(),h.rtl)},OC=c=>{let u=MC();if(AC()){T("SweetAlert2 requires document to initialize");return}let f=document.createElement("div");f.className=h.container,u&&q(f,h["no-transition"]),Ze(f,NC),f.dataset.swal2Theme=c.theme;let g=xC(c.target);g.appendChild(f),c.topLayer&&(f.setAttribute("popover",""),f.showPopover()),RC(c),PC(g),kC()},gu=(c,u)=>{c instanceof HTMLElement?u.appendChild(c):typeof c=="object"?FC(c,u):c&&Ze(u,c)},FC=(c,u)=>{c.jquery?LC(u,c):Ze(u,c.toString())},LC=(c,u)=>{if(c.textContent="",0 in u)for(let f=0;f in u;f++)c.appendChild(u[f].cloneNode(!0));else c.appendChild(u.cloneNode(!0))},VC=(c,u)=>{let f=ao(),g=Hr();!f||!g||(!u.showConfirmButton&&!u.showDenyButton&&!u.showCancelButton?Se(f):Ie(f),Qe(f,u,"actions"),jC(f,g,u),Ze(g,u.loaderHtml||""),Qe(g,u,"loader"))};function jC(c,u,f){let g=At(),v=jn(),b=Br();!g||!v||!b||(yu(g,"confirm",f),yu(v,"deny",f),yu(b,"cancel",f),BC(g,v,b,f),f.reverseButtons&&(f.toast?(c.insertBefore(b,g),c.insertBefore(v,g)):(c.insertBefore(b,u),c.insertBefore(v,u),c.insertBefore(g,u))))}function BC(c,u,f,g){if(!g.buttonsStyling){st([c,u,f],h.styled);return}q([c,u,f],h.styled),g.confirmButtonColor&&c.style.setProperty("--swal2-confirm-button-background-color",g.confirmButtonColor),g.denyButtonColor&&u.style.setProperty("--swal2-deny-button-background-color",g.denyButtonColor),g.cancelButtonColor&&f.style.setProperty("--swal2-cancel-button-background-color",g.cancelButtonColor),mu(c),mu(u),mu(f)}function mu(c){let u=window.getComputedStyle(c);if(u.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;let f=u.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");c.style.setProperty("--swal2-action-button-focus-box-shadow",u.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${f}`))}function yu(c,u,f){let g=I(u);co(c,f[`show${g}Button`],"inline-block"),Ze(c,f[`${u}ButtonText`]||""),c.setAttribute("aria-label",f[`${u}ButtonAriaLabel`]||""),c.className=h[u],Qe(c,f,`${u}Button`)}let HC=(c,u)=>{let f=lu();f&&(Ze(f,u.closeButtonHtml||""),Qe(f,u,"closeButton"),co(f,u.showCloseButton),f.setAttribute("aria-label",u.closeButtonAriaLabel||""))},UC=(c,u)=>{let f=we();f&&($C(f,u.backdrop),WC(f,u.position),GC(f,u.grow),Qe(f,u,"container"))};function $C(c,u){typeof u=="string"?c.style.background=u:u||q([document.documentElement,document.body],h["no-backdrop"])}function WC(c,u){u&&(u in h?q(c,h[u]):(C('The "position" parameter is not valid, defaulting to "center"'),q(c,h.center)))}function GC(c,u){u&&q(c,h[`grow-${u}`])}var oe={innerParams:new WeakMap,domCache:new WeakMap};let zC=["input","file","range","select","radio","checkbox","textarea"],qC=(c,u)=>{let f=$();if(!f)return;let g=oe.innerParams.get(c),v=!g||u.input!==g.input;zC.forEach(b=>{let B=un(f,h[b]);B&&(ZC(b,u.inputAttributes),B.className=h[b],v&&Se(B))}),u.input&&(v&&YC(u),QC(u))},YC=c=>{if(!c.input)return;if(!fe[c.input]){T(`Unexpected type of input! Expected ${Object.keys(fe).join(" | ")}, got "${c.input}"`);return}let u=Zg(c.input);if(!u)return;let f=fe[c.input](u,c);Ie(u),c.inputAutoFocus&&setTimeout(()=>{zg(f)})},KC=c=>{for(let u=0;u<c.attributes.length;u++){let f=c.attributes[u].name;["id","type","value","style"].includes(f)||c.removeAttribute(f)}},ZC=(c,u)=>{let f=$();if(!f)return;let g=ta(f,c);if(g){KC(g);for(let v in u)g.setAttribute(v,u[v])}},QC=c=>{if(!c.input)return;let u=Zg(c.input);u&&Qe(u,c,"input")},vu=(c,u)=>{!c.placeholder&&u.inputPlaceholder&&(c.placeholder=u.inputPlaceholder)},lo=(c,u,f)=>{if(f.inputLabel){let g=document.createElement("label"),v=h["input-label"];g.setAttribute("for",c.id),g.className=v,typeof f.customClass=="object"&&q(g,f.customClass.inputLabel),g.innerText=f.inputLabel,u.insertAdjacentElement("beforebegin",g)}},Zg=c=>{let u=$();if(u)return un(u,h[c]||h.input)},na=(c,u)=>{["string","number"].includes(typeof u)?c.value=`${u}`:so(u)||C(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof u}"`)},fe={};fe.text=fe.email=fe.password=fe.number=fe.tel=fe.url=fe.search=fe.date=fe["datetime-local"]=fe.time=fe.week=fe.month=(c,u)=>(na(c,u.inputValue),lo(c,c,u),vu(c,u),c.type=u.input,c),fe.file=(c,u)=>(lo(c,c,u),vu(c,u),c),fe.range=(c,u)=>{let f=c.querySelector("input"),g=c.querySelector("output");return na(f,u.inputValue),f.type=u.input,na(g,u.inputValue),lo(f,c,u),c},fe.select=(c,u)=>{if(c.textContent="",u.inputPlaceholder){let f=document.createElement("option");Ze(f,u.inputPlaceholder),f.value="",f.disabled=!0,f.selected=!0,c.appendChild(f)}return lo(c,c,u),c},fe.radio=c=>(c.textContent="",c),fe.checkbox=(c,u)=>{let f=ta($(),"checkbox");f.value="1",f.checked=!!u.inputValue;let g=c.querySelector("span");return Ze(g,u.inputPlaceholder||u.inputLabel),f},fe.textarea=(c,u)=>{na(c,u.inputValue),vu(c,u),lo(c,c,u);let f=g=>parseInt(window.getComputedStyle(g).marginLeft)+parseInt(window.getComputedStyle(g).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let g=parseInt(window.getComputedStyle($()).width),v=()=>{if(!document.body.contains(c))return;let b=c.offsetWidth+f(c);b>g?$().style.width=`${b}px`:Bn($(),"width",u.width)};new MutationObserver(v).observe(c,{attributes:!0,attributeFilter:["style"]})}}),c};let JC=(c,u)=>{let f=au();f&&(fu(f),Qe(f,u,"htmlContainer"),u.html?(gu(u.html,f),Ie(f,"block")):u.text?(f.textContent=u.text,Ie(f,"block")):Se(f),qC(c,u))},XC=(c,u)=>{let f=Gg();f&&(fu(f),co(f,u.footer,"block"),u.footer&&gu(u.footer,f),Qe(f,u,"footer"))},eD=(c,u)=>{let f=oe.innerParams.get(c),g=jr();if(!g)return;if(f&&u.icon===f.icon){Xg(g,u),Qg(g,u);return}if(!u.icon&&!u.iconHtml){Se(g);return}if(u.icon&&Object.keys(y).indexOf(u.icon)===-1){T(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${u.icon}"`),Se(g);return}Ie(g),Xg(g,u),Qg(g,u),q(g,u.showClass&&u.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Jg)},Qg=(c,u)=>{for(let[f,g]of Object.entries(y))u.icon!==f&&st(c,g);q(c,u.icon&&y[u.icon]),rD(c,u),Jg(),Qe(c,u,"icon")},Jg=()=>{let c=$();if(!c)return;let u=window.getComputedStyle(c).getPropertyValue("background-color"),f=c.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let g=0;g<f.length;g++)f[g].style.backgroundColor=u},tD=c=>`
  ${c.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${c.animation?'<div class="swal2-success-fix"></div>':""}
  ${c.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,nD=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Xg=(c,u)=>{if(!u.icon&&!u.iconHtml)return;let f=c.innerHTML,g="";u.iconHtml?g=em(u.iconHtml):u.icon==="success"?(g=tD(u),f=f.replace(/ style=".*?"/g,"")):u.icon==="error"?g=nD:u.icon&&(g=em({question:"?",warning:"!",info:"i"}[u.icon])),f.trim()!==g.trim()&&Ze(c,g)},rD=(c,u)=>{if(u.iconColor){c.style.color=u.iconColor,c.style.borderColor=u.iconColor;for(let f of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Yg(c,f,"background-color",u.iconColor);Yg(c,".swal2-success-ring","border-color",u.iconColor)}},em=c=>`<div class="${h["icon-content"]}">${c}</div>`,iD=(c,u)=>{let f=Wg();if(f){if(!u.imageUrl){Se(f);return}Ie(f,""),f.setAttribute("src",u.imageUrl),f.setAttribute("alt",u.imageAlt||""),Bn(f,"width",u.imageWidth),Bn(f,"height",u.imageHeight),f.className=h.image,Qe(f,u,"image")}},_u=!1,tm=0,nm=0,rm=0,im=0,oD=c=>{c.addEventListener("mousedown",ra),document.body.addEventListener("mousemove",ia),c.addEventListener("mouseup",oa),c.addEventListener("touchstart",ra),document.body.addEventListener("touchmove",ia),c.addEventListener("touchend",oa)},sD=c=>{c.removeEventListener("mousedown",ra),document.body.removeEventListener("mousemove",ia),c.removeEventListener("mouseup",oa),c.removeEventListener("touchstart",ra),document.body.removeEventListener("touchmove",ia),c.removeEventListener("touchend",oa)},ra=c=>{let u=$();if(c.target===u||jr().contains(c.target)){_u=!0;let f=om(c);tm=f.clientX,nm=f.clientY,rm=parseInt(u.style.insetInlineStart)||0,im=parseInt(u.style.insetBlockStart)||0,q(u,"swal2-dragging")}},ia=c=>{let u=$();if(_u){let{clientX:f,clientY:g}=om(c);u.style.insetInlineStart=`${rm+(f-tm)}px`,u.style.insetBlockStart=`${im+(g-nm)}px`}},oa=()=>{let c=$();_u=!1,st(c,"swal2-dragging")},om=c=>{let u=0,f=0;return c.type.startsWith("mouse")?(u=c.clientX,f=c.clientY):c.type.startsWith("touch")&&(u=c.touches[0].clientX,f=c.touches[0].clientY),{clientX:u,clientY:f}},aD=(c,u)=>{let f=we(),g=$();if(!(!f||!g)){if(u.toast){Bn(f,"width",u.width),g.style.width="100%";let v=Hr();v&&g.insertBefore(v,jr())}else Bn(g,"width",u.width);Bn(g,"padding",u.padding),u.color&&(g.style.color=u.color),u.background&&(g.style.background=u.background),Se(Js()),cD(g,u),u.draggable&&!u.toast?(q(g,h.draggable),oD(g)):(st(g,h.draggable),sD(g))}},cD=(c,u)=>{let f=u.showClass||{};c.className=`${h.popup} ${Le(c)?f.popup:""}`,u.toast?(q([document.documentElement,document.body],h["toast-shown"]),q(c,h.toast)):q(c,h.modal),Qe(c,u,"popup"),typeof u.customClass=="string"&&q(c,u.customClass),u.icon&&q(c,h[`icon-${u.icon}`])},lD=(c,u)=>{let f=cu();if(!f)return;let{progressSteps:g,currentProgressStep:v}=u;if(!g||g.length===0||v===void 0){Se(f);return}Ie(f),f.textContent="",v>=g.length&&C("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),g.forEach((b,B)=>{let Q=uD(b);if(f.appendChild(Q),B===v&&q(Q,h["active-progress-step"]),B!==g.length-1){let ce=dD(u);f.appendChild(ce)}})},uD=c=>{let u=document.createElement("li");return q(u,h["progress-step"]),Ze(u,c),u},dD=c=>{let u=document.createElement("li");return q(u,h["progress-step-line"]),c.progressStepsDistance&&Bn(u,"width",c.progressStepsDistance),u},fD=(c,u)=>{let f=$g();f&&(fu(f),co(f,u.title||u.titleText,"block"),u.title&&gu(u.title,f),u.titleText&&(f.innerText=u.titleText),Qe(f,u,"title"))},sm=(c,u)=>{aD(c,u),UC(c,u),lD(c,u),eD(c,u),iD(c,u),fD(c,u),HC(c,u),JC(c,u),VC(c,u),XC(c,u);let f=$();typeof u.didRender=="function"&&f&&u.didRender(f),s.eventEmitter.emit("didRender",f)},hD=()=>Le($()),am=()=>{var c;return(c=At())===null||c===void 0?void 0:c.click()},pD=()=>{var c;return(c=jn())===null||c===void 0?void 0:c.click()},gD=()=>{var c;return(c=Br())===null||c===void 0?void 0:c.click()},Ur=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),cm=c=>{c.keydownTarget&&c.keydownHandlerAdded&&(c.keydownTarget.removeEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!1)},mD=(c,u,f)=>{cm(c),u.toast||(c.keydownHandler=g=>vD(u,g,f),c.keydownTarget=u.keydownListenerCapture?window:$(),c.keydownListenerCapture=u.keydownListenerCapture,c.keydownTarget.addEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!0)},wu=(c,u)=>{var f;let g=uu();if(g.length){c=c+u,c===-2&&(c=g.length-1),c===g.length?c=0:c===-1&&(c=g.length-1),g[c].focus();return}(f=$())===null||f===void 0||f.focus()},lm=["ArrowRight","ArrowDown"],yD=["ArrowLeft","ArrowUp"],vD=(c,u,f)=>{c&&(u.isComposing||u.keyCode===229||(c.stopKeydownPropagation&&u.stopPropagation(),u.key==="Enter"?_D(u,c):u.key==="Tab"?wD(u):[...lm,...yD].includes(u.key)?ED(u.key):u.key==="Escape"&&bD(u,c,f)))},_D=(c,u)=>{if(!Fn(u.allowEnterKey))return;let f=ta($(),u.input);if(c.target&&f&&c.target instanceof HTMLElement&&c.target.outerHTML===f.outerHTML){if(["textarea","file"].includes(u.input))return;am(),c.preventDefault()}},wD=c=>{let u=c.target,f=uu(),g=-1;for(let v=0;v<f.length;v++)if(u===f[v]){g=v;break}c.shiftKey?wu(g,-1):wu(g,1),c.stopPropagation(),c.preventDefault()},ED=c=>{let u=ao(),f=At(),g=jn(),v=Br();if(!u||!f||!g||!v)return;let b=[f,g,v];if(document.activeElement instanceof HTMLElement&&!b.includes(document.activeElement))return;let B=lm.includes(c)?"nextElementSibling":"previousElementSibling",Q=document.activeElement;if(Q){for(let ce=0;ce<u.children.length;ce++){if(Q=Q[B],!Q)return;if(Q instanceof HTMLButtonElement&&Le(Q))break}Q instanceof HTMLButtonElement&&Q.focus()}},bD=(c,u,f)=>{c.preventDefault(),Fn(u.allowEscapeKey)&&f(Ur.esc)};var $r={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let ID=()=>{let c=we();Array.from(document.body.children).forEach(f=>{f.contains(c)||(f.hasAttribute("aria-hidden")&&f.setAttribute("data-previous-aria-hidden",f.getAttribute("aria-hidden")||""),f.setAttribute("aria-hidden","true"))})},um=()=>{Array.from(document.body.children).forEach(u=>{u.hasAttribute("data-previous-aria-hidden")?(u.setAttribute("aria-hidden",u.getAttribute("data-previous-aria-hidden")||""),u.removeAttribute("data-previous-aria-hidden")):u.removeAttribute("aria-hidden")})},dm=typeof window<"u"&&!!window.GestureEvent,CD=()=>{if(dm&&!Jt(document.body,h.iosfix)){let c=document.body.scrollTop;document.body.style.top=`${c*-1}px`,q(document.body,h.iosfix),DD()}},DD=()=>{let c=we();if(!c)return;let u;c.ontouchstart=f=>{u=TD(f)},c.ontouchmove=f=>{u&&(f.preventDefault(),f.stopPropagation())}},TD=c=>{let u=c.target,f=we(),g=au();return!f||!g||SD(c)||AD(c)?!1:u===f||!hu(f)&&u instanceof HTMLElement&&!TC(u,g)&&u.tagName!=="INPUT"&&u.tagName!=="TEXTAREA"&&!(hu(g)&&g.contains(u))},SD=c=>c.touches&&c.touches.length&&c.touches[0].touchType==="stylus",AD=c=>c.touches&&c.touches.length>1,ND=()=>{if(Jt(document.body,h.iosfix)){let c=parseInt(document.body.style.top,10);st(document.body,h.iosfix),document.body.style.top="",document.body.scrollTop=c*-1}},MD=()=>{let c=document.createElement("div");c.className=h["scrollbar-measure"],document.body.appendChild(c);let u=c.getBoundingClientRect().width-c.clientWidth;return document.body.removeChild(c),u},Wr=null,kD=c=>{Wr===null&&(document.body.scrollHeight>window.innerHeight||c==="scroll")&&(Wr=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Wr+MD()}px`)},xD=()=>{Wr!==null&&(document.body.style.paddingRight=`${Wr}px`,Wr=null)};function fm(c,u,f,g){ea()?pm(c,g):(l(f).then(()=>pm(c,g)),cm(s)),dm?(u.setAttribute("style","display:none !important"),u.removeAttribute("class"),u.innerHTML=""):u.remove(),du()&&(xD(),ND(),um()),RD()}function RD(){st([document.documentElement,document.body],[h.shown,h["height-auto"],h["no-backdrop"],h["toast-shown"]])}function dn(c){c=OD(c);let u=$r.swalPromiseResolve.get(this),f=PD(this);this.isAwaitingPromise?c.isDismissed||(uo(this),u(c)):f&&u(c)}let PD=c=>{let u=$();if(!u)return!1;let f=oe.innerParams.get(c);if(!f||Jt(u,f.hideClass.popup))return!1;st(u,f.showClass.popup),q(u,f.hideClass.popup);let g=we();return st(g,f.showClass.backdrop),q(g,f.hideClass.backdrop),FD(c,u,f),!0};function hm(c){let u=$r.swalPromiseReject.get(this);uo(this),u&&u(c)}let uo=c=>{c.isAwaitingPromise&&(delete c.isAwaitingPromise,oe.innerParams.get(c)||c._destroy())},OD=c=>typeof c>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},c),FD=(c,u,f)=>{var g;let v=we(),b=Kg(u);typeof f.willClose=="function"&&f.willClose(u),(g=s.eventEmitter)===null||g===void 0||g.emit("willClose",u),b?LD(c,u,v,f.returnFocus,f.didClose):fm(c,v,f.returnFocus,f.didClose)},LD=(c,u,f,g,v)=>{s.swalCloseEventFinishedCallback=fm.bind(null,c,f,g,v);let b=function(B){if(B.target===u){var Q;(Q=s.swalCloseEventFinishedCallback)===null||Q===void 0||Q.call(s),delete s.swalCloseEventFinishedCallback,u.removeEventListener("animationend",b),u.removeEventListener("transitionend",b)}};u.addEventListener("animationend",b),u.addEventListener("transitionend",b)},pm=(c,u)=>{setTimeout(()=>{var f;typeof u=="function"&&u.bind(c.params)(),(f=s.eventEmitter)===null||f===void 0||f.emit("didClose"),c._destroy&&c._destroy()})},Gr=c=>{let u=$();if(u||new da,u=$(),!u)return;let f=Hr();ea()?Se(jr()):VD(u,c),Ie(f),u.setAttribute("data-loading","true"),u.setAttribute("aria-busy","true"),u.focus()},VD=(c,u)=>{let f=ao(),g=Hr();!f||!g||(!u&&Le(At())&&(u=At()),Ie(f),u&&(Se(u),g.setAttribute("data-button-to-replace",u.className),f.insertBefore(g,u)),q([c,f],h.loading))},jD=(c,u)=>{u.input==="select"||u.input==="radio"?WD(c,u):["text","email","number","tel","textarea"].some(f=>f===u.input)&&(Ln(u.inputValue)||so(u.inputValue))&&(Gr(At()),GD(c,u))},BD=(c,u)=>{let f=c.getInput();if(!f)return null;switch(u.input){case"checkbox":return HD(f);case"radio":return UD(f);case"file":return $D(f);default:return u.inputAutoTrim?f.value.trim():f.value}},HD=c=>c.checked?1:0,UD=c=>c.checked?c.value:null,$D=c=>c.files&&c.files.length?c.getAttribute("multiple")!==null?c.files:c.files[0]:null,WD=(c,u)=>{let f=$();if(!f)return;let g=v=>{u.input==="select"?zD(f,sa(v),u):u.input==="radio"&&qD(f,sa(v),u)};Ln(u.inputOptions)||so(u.inputOptions)?(Gr(At()),ln(u.inputOptions).then(v=>{c.hideLoading(),g(v)})):typeof u.inputOptions=="object"?g(u.inputOptions):T(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof u.inputOptions}`)},GD=(c,u)=>{let f=c.getInput();f&&(Se(f),ln(u.inputValue).then(g=>{f.value=u.input==="number"?`${parseFloat(g)||0}`:`${g}`,Ie(f),f.focus(),c.hideLoading()}).catch(g=>{T(`Error in inputValue promise: ${g}`),f.value="",Ie(f),f.focus(),c.hideLoading()}))};function zD(c,u,f){let g=un(c,h.select);if(!g)return;let v=(b,B,Q)=>{let ce=document.createElement("option");ce.value=Q,Ze(ce,B),ce.selected=gm(Q,f.inputValue),b.appendChild(ce)};u.forEach(b=>{let B=b[0],Q=b[1];if(Array.isArray(Q)){let ce=document.createElement("optgroup");ce.label=B,ce.disabled=!1,g.appendChild(ce),Q.forEach(qr=>v(ce,qr[1],qr[0]))}else v(g,Q,B)}),g.focus()}function qD(c,u,f){let g=un(c,h.radio);if(!g)return;u.forEach(b=>{let B=b[0],Q=b[1],ce=document.createElement("input"),qr=document.createElement("label");ce.type="radio",ce.name=h.radio,ce.value=B,gm(B,f.inputValue)&&(ce.checked=!0);let Du=document.createElement("span");Ze(Du,Q),Du.className=h.label,qr.appendChild(ce),qr.appendChild(Du),g.appendChild(qr)});let v=g.querySelectorAll("input");v.length&&v[0].focus()}let sa=c=>{let u=[];return c instanceof Map?c.forEach((f,g)=>{let v=f;typeof v=="object"&&(v=sa(v)),u.push([g,v])}):Object.keys(c).forEach(f=>{let g=c[f];typeof g=="object"&&(g=sa(g)),u.push([f,g])}),u},gm=(c,u)=>!!u&&u.toString()===c.toString(),YD=c=>{let u=oe.innerParams.get(c);c.disableButtons(),u.input?mm(c,"confirm"):bu(c,!0)},KD=c=>{let u=oe.innerParams.get(c);c.disableButtons(),u.returnInputValueOnDeny?mm(c,"deny"):Eu(c,!1)},ZD=(c,u)=>{c.disableButtons(),u(Ur.cancel)},mm=(c,u)=>{let f=oe.innerParams.get(c);if(!f.input){T(`The "input" parameter is needed to be set when using returnInputValueOn${I(u)}`);return}let g=c.getInput(),v=BD(c,f);f.inputValidator?QD(c,v,u):g&&!g.checkValidity()?(c.enableButtons(),c.showValidationMessage(f.validationMessage||g.validationMessage)):u==="deny"?Eu(c,v):bu(c,v)},QD=(c,u,f)=>{let g=oe.innerParams.get(c);c.disableInput(),Promise.resolve().then(()=>ln(g.inputValidator(u,g.validationMessage))).then(b=>{c.enableButtons(),c.enableInput(),b?c.showValidationMessage(b):f==="deny"?Eu(c,u):bu(c,u)})},Eu=(c,u)=>{let f=oe.innerParams.get(c||void 0);f.showLoaderOnDeny&&Gr(jn()),f.preDeny?(c.isAwaitingPromise=!0,Promise.resolve().then(()=>ln(f.preDeny(u,f.validationMessage))).then(v=>{v===!1?(c.hideLoading(),uo(c)):c.close({isDenied:!0,value:typeof v>"u"?u:v})}).catch(v=>vm(c||void 0,v))):c.close({isDenied:!0,value:u})},ym=(c,u)=>{c.close({isConfirmed:!0,value:u})},vm=(c,u)=>{c.rejectPromise(u)},bu=(c,u)=>{let f=oe.innerParams.get(c||void 0);f.showLoaderOnConfirm&&Gr(),f.preConfirm?(c.resetValidationMessage(),c.isAwaitingPromise=!0,Promise.resolve().then(()=>ln(f.preConfirm(u,f.validationMessage))).then(v=>{Le(Js())||v===!1?(c.hideLoading(),uo(c)):ym(c,typeof v>"u"?u:v)}).catch(v=>vm(c||void 0,v))):ym(c,u)};function aa(){let c=oe.innerParams.get(this);if(!c)return;let u=oe.domCache.get(this);Se(u.loader),ea()?c.icon&&Ie(jr()):JD(u),st([u.popup,u.actions],h.loading),u.popup.removeAttribute("aria-busy"),u.popup.removeAttribute("data-loading"),u.confirmButton.disabled=!1,u.denyButton.disabled=!1,u.cancelButton.disabled=!1}let JD=c=>{let u=c.popup.getElementsByClassName(c.loader.getAttribute("data-button-to-replace"));u.length?Ie(u[0],"inline-block"):DC()&&Se(c.actions)};function _m(){let c=oe.innerParams.get(this),u=oe.domCache.get(this);return u?ta(u.popup,c.input):null}function wm(c,u,f){let g=oe.domCache.get(c);u.forEach(v=>{g[v].disabled=f})}function Em(c,u){let f=$();if(!(!f||!c))if(c.type==="radio"){let g=f.querySelectorAll(`[name="${h.radio}"]`);for(let v=0;v<g.length;v++)g[v].disabled=u}else c.disabled=u}function bm(){wm(this,["confirmButton","denyButton","cancelButton"],!1)}function Im(){wm(this,["confirmButton","denyButton","cancelButton"],!0)}function Cm(){Em(this.getInput(),!1)}function Dm(){Em(this.getInput(),!0)}function Tm(c){let u=oe.domCache.get(this),f=oe.innerParams.get(this);Ze(u.validationMessage,c),u.validationMessage.className=h["validation-message"],f.customClass&&f.customClass.validationMessage&&q(u.validationMessage,f.customClass.validationMessage),Ie(u.validationMessage);let g=this.getInput();g&&(g.setAttribute("aria-invalid","true"),g.setAttribute("aria-describedby",h["validation-message"]),zg(g),q(g,h.inputerror))}function Sm(){let c=oe.domCache.get(this);c.validationMessage&&Se(c.validationMessage);let u=this.getInput();u&&(u.removeAttribute("aria-invalid"),u.removeAttribute("aria-describedby"),st(u,h.inputerror))}let zr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},XD=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],eT={allowEnterKey:void 0},tT=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Am=c=>Object.prototype.hasOwnProperty.call(zr,c),Nm=c=>XD.indexOf(c)!==-1,Mm=c=>eT[c],nT=c=>{Am(c)||C(`Unknown parameter "${c}"`)},rT=c=>{tT.includes(c)&&C(`The parameter "${c}" is incompatible with toasts`)},iT=c=>{let u=Mm(c);u&&Qt(c,u)},km=c=>{c.backdrop===!1&&c.allowOutsideClick&&C('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),c.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(c.theme)&&C(`Invalid theme "${c.theme}"`);for(let u in c)nT(u),c.toast&&rT(u),iT(u)};function xm(c){let u=we(),f=$(),g=oe.innerParams.get(this);if(!f||Jt(f,g.hideClass.popup)){C("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let v=oT(c),b=Object.assign({},g,v);km(b),u.dataset.swal2Theme=b.theme,sm(this,b),oe.innerParams.set(this,b),Object.defineProperties(this,{params:{value:Object.assign({},this.params,c),writable:!1,enumerable:!0}})}let oT=c=>{let u={};return Object.keys(c).forEach(f=>{Nm(f)?u[f]=c[f]:C(`Invalid parameter to update: ${f}`)}),u};function Rm(){let c=oe.domCache.get(this),u=oe.innerParams.get(this);if(!u){Pm(this);return}c.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof u.didDestroy=="function"&&u.didDestroy(),s.eventEmitter.emit("didDestroy"),sT(this)}let sT=c=>{Pm(c),delete c.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},Pm=c=>{c.isAwaitingPromise?(Iu(oe,c),c.isAwaitingPromise=!0):(Iu($r,c),Iu(oe,c),delete c.isAwaitingPromise,delete c.disableButtons,delete c.enableButtons,delete c.getInput,delete c.disableInput,delete c.enableInput,delete c.hideLoading,delete c.disableLoading,delete c.showValidationMessage,delete c.resetValidationMessage,delete c.close,delete c.closePopup,delete c.closeModal,delete c.closeToast,delete c.rejectPromise,delete c.update,delete c._destroy)},Iu=(c,u)=>{for(let f in c)c[f].delete(u)};var aT=Object.freeze({__proto__:null,_destroy:Rm,close:dn,closeModal:dn,closePopup:dn,closeToast:dn,disableButtons:Im,disableInput:Dm,disableLoading:aa,enableButtons:bm,enableInput:Cm,getInput:_m,handleAwaitingPromise:uo,hideLoading:aa,rejectPromise:hm,resetValidationMessage:Sm,showValidationMessage:Tm,update:xm});let cT=(c,u,f)=>{c.toast?lT(c,u,f):(dT(u),fT(u),hT(c,u,f))},lT=(c,u,f)=>{u.popup.onclick=()=>{c&&(uT(c)||c.timer||c.input)||f(Ur.close)}},uT=c=>!!(c.showConfirmButton||c.showDenyButton||c.showCancelButton||c.showCloseButton),ca=!1,dT=c=>{c.popup.onmousedown=()=>{c.container.onmouseup=function(u){c.container.onmouseup=()=>{},u.target===c.container&&(ca=!0)}}},fT=c=>{c.container.onmousedown=u=>{u.target===c.container&&u.preventDefault(),c.popup.onmouseup=function(f){c.popup.onmouseup=()=>{},(f.target===c.popup||f.target instanceof HTMLElement&&c.popup.contains(f.target))&&(ca=!0)}}},hT=(c,u,f)=>{u.container.onclick=g=>{if(ca){ca=!1;return}g.target===u.container&&Fn(c.allowOutsideClick)&&f(Ur.backdrop)}},pT=c=>typeof c=="object"&&c.jquery,Om=c=>c instanceof Element||pT(c),gT=c=>{let u={};return typeof c[0]=="object"&&!Om(c[0])?Object.assign(u,c[0]):["title","html","icon"].forEach((f,g)=>{let v=c[g];typeof v=="string"||Om(v)?u[f]=v:v!==void 0&&T(`Unexpected type of ${f}! Expected "string" or "Element", got ${typeof v}`)}),u};function mT(...c){return new this(...c)}function yT(c){class u extends this{_main(g,v){return super._main(g,Object.assign({},c,v))}}return u}let vT=()=>s.timeout&&s.timeout.getTimerLeft(),Fm=()=>{if(s.timeout)return SC(),s.timeout.stop()},Lm=()=>{if(s.timeout){let c=s.timeout.start();return pu(c),c}},_T=()=>{let c=s.timeout;return c&&(c.running?Fm():Lm())},wT=c=>{if(s.timeout){let u=s.timeout.increase(c);return pu(u,!0),u}},ET=()=>!!(s.timeout&&s.timeout.isRunning()),Vm=!1,Cu={};function bT(c="data-swal-template"){Cu[c]=this,Vm||(document.body.addEventListener("click",IT),Vm=!0)}let IT=c=>{for(let u=c.target;u&&u!==document;u=u.parentNode)for(let f in Cu){let g=u.getAttribute(f);if(g){Cu[f].fire({template:g});return}}};class CT{constructor(){this.events={}}_getHandlersByEventName(u){return typeof this.events[u]>"u"&&(this.events[u]=[]),this.events[u]}on(u,f){let g=this._getHandlersByEventName(u);g.includes(f)||g.push(f)}once(u,f){let g=(...v)=>{this.removeListener(u,g),f.apply(this,v)};this.on(u,g)}emit(u,...f){this._getHandlersByEventName(u).forEach(g=>{try{g.apply(this,f)}catch(v){console.error(v)}})}removeListener(u,f){let g=this._getHandlersByEventName(u),v=g.indexOf(f);v>-1&&g.splice(v,1)}removeAllListeners(u){this.events[u]!==void 0&&(this.events[u].length=0)}reset(){this.events={}}}s.eventEmitter=new CT;var DT=Object.freeze({__proto__:null,argsToParams:gT,bindClickHandler:bT,clickCancel:gD,clickConfirm:am,clickDeny:pD,enableLoading:Gr,fire:mT,getActions:ao,getCancelButton:Br,getCloseButton:lu,getConfirmButton:At,getContainer:we,getDenyButton:jn,getFocusableElements:uu,getFooter:Gg,getHtmlContainer:au,getIcon:jr,getIconContent:wC,getImage:Wg,getInputLabel:EC,getLoader:Hr,getPopup:$,getProgressSteps:cu,getTimerLeft:vT,getTimerProgressBar:Xs,getTitle:$g,getValidationMessage:Js,increaseTimer:wT,isDeprecatedParameter:Mm,isLoading:IC,isTimerRunning:ET,isUpdatableParameter:Nm,isValidParameter:Am,isVisible:hD,mixin:yT,off:(c,u)=>{if(!c){s.eventEmitter.reset();return}u?s.eventEmitter.removeListener(c,u):s.eventEmitter.removeAllListeners(c)},on:(c,u)=>{s.eventEmitter.on(c,u)},once:(c,u)=>{s.eventEmitter.once(c,u)},resumeTimer:Lm,showLoading:Gr,stopTimer:Fm,toggleTimer:_T});class TT{constructor(u,f){this.callback=u,this.remaining=f,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(u){let f=this.running;return f&&this.stop(),this.remaining+=u,f&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let jm=["swal-title","swal-html","swal-footer"],ST=c=>{let u=typeof c.template=="string"?document.querySelector(c.template):c.template;if(!u)return{};let f=u.content;return OT(f),Object.assign(AT(f),NT(f),MT(f),kT(f),xT(f),RT(f),PT(f,jm))},AT=c=>{let u={};return Array.from(c.querySelectorAll("swal-param")).forEach(g=>{Un(g,["name","value"]);let v=g.getAttribute("name"),b=g.getAttribute("value");!v||!b||(typeof zr[v]=="boolean"?u[v]=b!=="false":typeof zr[v]=="object"?u[v]=JSON.parse(b):u[v]=b)}),u},NT=c=>{let u={};return Array.from(c.querySelectorAll("swal-function-param")).forEach(g=>{let v=g.getAttribute("name"),b=g.getAttribute("value");!v||!b||(u[v]=new Function(`return ${b}`)())}),u},MT=c=>{let u={};return Array.from(c.querySelectorAll("swal-button")).forEach(g=>{Un(g,["type","color","aria-label"]);let v=g.getAttribute("type");!v||!["confirm","cancel","deny"].includes(v)||(u[`${v}ButtonText`]=g.innerHTML,u[`show${I(v)}Button`]=!0,g.hasAttribute("color")&&(u[`${v}ButtonColor`]=g.getAttribute("color")),g.hasAttribute("aria-label")&&(u[`${v}ButtonAriaLabel`]=g.getAttribute("aria-label")))}),u},kT=c=>{let u={},f=c.querySelector("swal-image");return f&&(Un(f,["src","width","height","alt"]),f.hasAttribute("src")&&(u.imageUrl=f.getAttribute("src")||void 0),f.hasAttribute("width")&&(u.imageWidth=f.getAttribute("width")||void 0),f.hasAttribute("height")&&(u.imageHeight=f.getAttribute("height")||void 0),f.hasAttribute("alt")&&(u.imageAlt=f.getAttribute("alt")||void 0)),u},xT=c=>{let u={},f=c.querySelector("swal-icon");return f&&(Un(f,["type","color"]),f.hasAttribute("type")&&(u.icon=f.getAttribute("type")),f.hasAttribute("color")&&(u.iconColor=f.getAttribute("color")),u.iconHtml=f.innerHTML),u},RT=c=>{let u={},f=c.querySelector("swal-input");f&&(Un(f,["type","label","placeholder","value"]),u.input=f.getAttribute("type")||"text",f.hasAttribute("label")&&(u.inputLabel=f.getAttribute("label")),f.hasAttribute("placeholder")&&(u.inputPlaceholder=f.getAttribute("placeholder")),f.hasAttribute("value")&&(u.inputValue=f.getAttribute("value")));let g=Array.from(c.querySelectorAll("swal-input-option"));return g.length&&(u.inputOptions={},g.forEach(v=>{Un(v,["value"]);let b=v.getAttribute("value");if(!b)return;let B=v.innerHTML;u.inputOptions[b]=B})),u},PT=(c,u)=>{let f={};for(let g in u){let v=u[g],b=c.querySelector(v);b&&(Un(b,[]),f[v.replace(/^swal-/,"")]=b.innerHTML.trim())}return f},OT=c=>{let u=jm.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(c.children).forEach(f=>{let g=f.tagName.toLowerCase();u.includes(g)||C(`Unrecognized element <${g}>`)})},Un=(c,u)=>{Array.from(c.attributes).forEach(f=>{u.indexOf(f.name)===-1&&C([`Unrecognized attribute "${f.name}" on <${c.tagName.toLowerCase()}>.`,`${u.length?`Allowed attributes are: ${u.join(", ")}`:"To set the value, use HTML within the element."}`])})},Bm=10,FT=c=>{let u=we(),f=$();typeof c.willOpen=="function"&&c.willOpen(f),s.eventEmitter.emit("willOpen",f);let v=window.getComputedStyle(document.body).overflowY;jT(u,f,c),setTimeout(()=>{LT(u,f)},Bm),du()&&(VT(u,c.scrollbarPadding,v),ID()),!ea()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof c.didOpen=="function"&&setTimeout(()=>c.didOpen(f)),s.eventEmitter.emit("didOpen",f),st(u,h["no-transition"])},la=c=>{let u=$();if(c.target!==u)return;let f=we();u.removeEventListener("animationend",la),u.removeEventListener("transitionend",la),f.style.overflowY="auto"},LT=(c,u)=>{Kg(u)?(c.style.overflowY="hidden",u.addEventListener("animationend",la),u.addEventListener("transitionend",la)):c.style.overflowY="auto"},VT=(c,u,f)=>{CD(),u&&f!=="hidden"&&kD(f),setTimeout(()=>{c.scrollTop=0})},jT=(c,u,f)=>{q(c,f.showClass.backdrop),f.animation?(u.style.setProperty("opacity","0","important"),Ie(u,"grid"),setTimeout(()=>{q(u,f.showClass.popup),u.style.removeProperty("opacity")},Bm)):Ie(u,"grid"),q([document.documentElement,document.body],h.shown),f.heightAuto&&f.backdrop&&!f.toast&&q([document.documentElement,document.body],h["height-auto"])};var Hm={email:(c,u)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(c)?Promise.resolve():Promise.resolve(u||"Invalid email address"),url:(c,u)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(c)?Promise.resolve():Promise.resolve(u||"Invalid URL")};function BT(c){c.inputValidator||(c.input==="email"&&(c.inputValidator=Hm.email),c.input==="url"&&(c.inputValidator=Hm.url))}function HT(c){(!c.target||typeof c.target=="string"&&!document.querySelector(c.target)||typeof c.target!="string"&&!c.target.appendChild)&&(C('Target parameter is not valid, defaulting to "body"'),c.target="body")}function UT(c){BT(c),c.showLoaderOnConfirm&&!c.preConfirm&&C(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),HT(c),typeof c.title=="string"&&(c.title=c.title.split(`
`).join("<br />")),OC(c)}let Nt;var ua=new WeakMap;class he{constructor(...u){if(r(this,ua,void 0),typeof window>"u")return;Nt=this;let f=Object.freeze(this.constructor.argsToParams(u));this.params=f,this.isAwaitingPromise=!1,i(ua,this,this._main(Nt.params))}_main(u,f={}){if(km(Object.assign({},f,u)),s.currentInstance){let b=$r.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:B}=s.currentInstance;s.currentInstance._destroy(),B||b({isDismissed:!0}),du()&&um()}s.currentInstance=Nt;let g=WT(u,f);UT(g),Object.freeze(g),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let v=GT(Nt);return sm(Nt,g),oe.innerParams.set(Nt,g),$T(Nt,v,g)}then(u){return n(ua,this).then(u)}finally(u){return n(ua,this).finally(u)}}let $T=(c,u,f)=>new Promise((g,v)=>{let b=B=>{c.close({isDismissed:!0,dismiss:B})};$r.swalPromiseResolve.set(c,g),$r.swalPromiseReject.set(c,v),u.confirmButton.onclick=()=>{YD(c)},u.denyButton.onclick=()=>{KD(c)},u.cancelButton.onclick=()=>{ZD(c,b)},u.closeButton.onclick=()=>{b(Ur.close)},cT(f,u,b),mD(s,f,b),jD(c,f),FT(f),zT(s,f,b),qT(u,f),setTimeout(()=>{u.container.scrollTop=0})}),WT=(c,u)=>{let f=ST(c),g=Object.assign({},zr,u,f,c);return g.showClass=Object.assign({},zr.showClass,g.showClass),g.hideClass=Object.assign({},zr.hideClass,g.hideClass),g.animation===!1&&(g.showClass={backdrop:"swal2-noanimation"},g.hideClass={}),g},GT=c=>{let u={popup:$(),container:we(),actions:ao(),confirmButton:At(),denyButton:jn(),cancelButton:Br(),loader:Hr(),closeButton:lu(),validationMessage:Js(),progressSteps:cu()};return oe.domCache.set(c,u),u},zT=(c,u,f)=>{let g=Xs();Se(g),u.timer&&(c.timeout=new TT(()=>{f("timer"),delete c.timeout},u.timer),u.timerProgressBar&&(Ie(g),Qe(g,u,"timerProgressBar"),setTimeout(()=>{c.timeout&&c.timeout.running&&pu(u.timer)})))},qT=(c,u)=>{if(!u.toast){if(!Fn(u.allowEnterKey)){Qt("allowEnterKey"),ZT();return}YT(c)||KT(c,u)||wu(-1,1)}},YT=c=>{let u=Array.from(c.popup.querySelectorAll("[autofocus]"));for(let f of u)if(f instanceof HTMLElement&&Le(f))return f.focus(),!0;return!1},KT=(c,u)=>u.focusDeny&&Le(c.denyButton)?(c.denyButton.focus(),!0):u.focusCancel&&Le(c.cancelButton)?(c.cancelButton.focus(),!0):u.focusConfirm&&Le(c.confirmButton)?(c.confirmButton.focus(),!0):!1,ZT=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};he.prototype.disableButtons=Im,he.prototype.enableButtons=bm,he.prototype.getInput=_m,he.prototype.disableInput=Dm,he.prototype.enableInput=Cm,he.prototype.hideLoading=aa,he.prototype.disableLoading=aa,he.prototype.showValidationMessage=Tm,he.prototype.resetValidationMessage=Sm,he.prototype.close=dn,he.prototype.closePopup=dn,he.prototype.closeModal=dn,he.prototype.closeToast=dn,he.prototype.rejectPromise=hm,he.prototype.update=xm,he.prototype._destroy=Rm,Object.assign(he,DT),Object.keys(aT).forEach(c=>{he[c]=function(...u){return Nt&&Nt[c]?Nt[c](...u):null}}),he.DismissReason=Ur,he.version="11.23.0";let da=he;return da.default=da,da});typeof Bt<"u"&&Bt.Sweetalert2&&(Bt.swal=Bt.sweetAlert=Bt.Swal=Bt.SweetAlert=Bt.Sweetalert2);typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});var Su;function fa(){return Su}function Mt(t){let e=Su;return Su=t,e}var Gm=Symbol("NotFound");function Yr(t){return t===Gm||t?.name==="\u0275NotFound"}function ya(t,e){return Object.is(t,e)}var Ae=null,ha=!1,Au=1,a0=null,Ne=Symbol("SIGNAL");function x(t){let e=Ae;return Ae=t,e}function va(){return Ae}var Kr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Zr(t){if(ha)throw new Error("");if(Ae===null)return;Ae.consumerOnSignalRead(t);let e=Ae.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=Ae.recomputing;if(r&&(n=e!==void 0?e.nextProducer:Ae.producers,n!==void 0&&n.producer===t)){Ae.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===Ae&&(!r||l0(i,Ae)))return;let o=Jr(Ae),s={producer:t,consumer:Ae,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};Ae.producersTail=s,e!==void 0?e.nextProducer=s:Ae.producers=s,o&&qm(t,s)}function zm(){Au++}function _a(t){if(!(Jr(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Au)){if(!t.producerMustRecompute(t)&&!po(t)){ma(t);return}t.producerRecomputeValue(t),ma(t)}}function Nu(t){if(t.consumers===void 0)return;let e=ha;ha=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||c0(r)}}finally{ha=e}}function Mu(){return Ae?.consumerAllowSignalWrites!==!1}function c0(t){t.dirty=!0,Nu(t),t.consumerMarkedDirty?.(t)}function ma(t){t.dirty=!1,t.lastCleanEpoch=Au}function Qr(t){return t&&(t.producersTail=void 0,t.recomputing=!0),x(t)}function ho(t,e){if(x(e),!t)return;t.recomputing=!1;let n=t.producersTail,r=n!==void 0?n.nextProducer:t.producers;if(r!==void 0){if(Jr(t))do r=ku(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function po(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(_a(n),r!==n.version))return!0}return!1}function go(t){if(Jr(t)){let e=t.producers;for(;e!==void 0;)e=ku(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function qm(t,e){let n=t.consumersTail,r=Jr(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)qm(i.producer,i)}function ku(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Jr(e)){let o=e.producers;for(;o!==void 0;)o=ku(o)}return n}function Jr(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function wa(t){a0?.(t)}function l0(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ea(t,e){let n=Object.create(u0);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(_a(n),Zr(n),n.value===fo)throw n.error;return n.value};return r[Ne]=n,wa(n),r}var pa=Symbol("UNSET"),ga=Symbol("COMPUTING"),fo=Symbol("ERRORED"),u0=te(J({},Kr),{value:pa,dirty:!0,error:null,equal:ya,kind:"computed",producerMustRecompute(t){return t.value===pa||t.value===ga},producerRecomputeValue(t){if(t.value===ga)throw new Error("");let e=t.value;t.value=ga;let n=Qr(t),r,i=!1;try{r=t.computation(),x(null),i=e!==pa&&e!==fo&&r!==fo&&t.equal(e,r)}catch(o){r=fo,t.error=o}finally{ho(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function d0(){throw new Error}var Ym=d0;function Km(t){Ym(t)}function xu(t){Ym=t}var f0=null;function Ru(t,e){let n=Object.create(ba);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Zm(n);return r[Ne]=n,wa(n),[r,s=>Xr(n,s),s=>Pu(n,s)]}function Zm(t){return Zr(t),t.value}function Xr(t,e){Mu()||Km(t),t.equal(t.value,e)||(t.value=e,h0(t))}function Pu(t,e){Mu()||Km(t),Xr(t,e(t.value))}var ba=te(J({},Kr),{equal:ya,value:void 0,kind:"signal"});function h0(t){t.version++,zm(),Nu(t),f0?.(t)}function S(t){return typeof t=="function"}function ei(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ia=ei(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function $n(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ye=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(S(r))try{r()}catch(o){e=o instanceof Ia?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Qm(o)}catch(s){e=e??[],s instanceof Ia?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ia(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Qm(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$n(n,e)}remove(e){let{_finalizers:n}=this;n&&$n(n,e),e instanceof t&&e._removeParent(this)}};ye.EMPTY=(()=>{let t=new ye;return t.closed=!0,t})();var Ou=ye.EMPTY;function Ca(t){return t instanceof ye||t&&"closed"in t&&S(t.remove)&&S(t.add)&&S(t.unsubscribe)}function Qm(t){S(t)?t():t.unsubscribe()}var ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ti={setTimeout(t,e,...n){let{delegate:r}=ti;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ti;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Da(t){ti.setTimeout(()=>{let{onUnhandledError:e}=ht;if(e)e(t);else throw t})}function mo(){}var Jm=Fu("C",void 0,void 0);function Xm(t){return Fu("E",void 0,t)}function ey(t){return Fu("N",t,void 0)}function Fu(t,e,n){return{kind:t,value:e,error:n}}var Wn=null;function ni(t){if(ht.useDeprecatedSynchronousErrorHandling){let e=!Wn;if(e&&(Wn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Wn;if(Wn=null,n)throw r}}else t()}function ty(t){ht.useDeprecatedSynchronousErrorHandling&&Wn&&(Wn.errorThrown=!0,Wn.error=t)}var Gn=class extends ye{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ca(e)&&e.add(this)):this.destination=m0}static create(e,n,r){return new ri(e,n,r)}next(e){this.isStopped?Vu(ey(e),this):this._next(e)}error(e){this.isStopped?Vu(Xm(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Vu(Jm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},p0=Function.prototype.bind;function Lu(t,e){return p0.call(t,e)}var ju=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ta(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ta(r)}else Ta(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ta(n)}}},ri=class extends Gn{constructor(e,n,r){super();let i;if(S(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ht.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Lu(e.next,o),error:e.error&&Lu(e.error,o),complete:e.complete&&Lu(e.complete,o)}):i=e}this.destination=new ju(i)}};function Ta(t){ht.useDeprecatedSynchronousErrorHandling?ty(t):Da(t)}function g0(t){throw t}function Vu(t,e){let{onStoppedNotification:n}=ht;n&&ti.setTimeout(()=>n(t,e))}var m0={closed:!0,next:mo,error:g0,complete:mo};var ii=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Je(t){return t}function y0(...t){return Bu(t)}function Bu(t){return t.length===0?Je:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var R=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=_0(n)?n:new ri(n,r,i);return ni(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ny(r),new r((i,o)=>{let s=new ri({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ii](){return this}pipe(...n){return Bu(n)(this)}toPromise(n){return n=ny(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function ny(t){var e;return(e=t??ht.Promise)!==null&&e!==void 0?e:Promise}function v0(t){return t&&S(t.next)&&S(t.error)&&S(t.complete)}function _0(t){return t&&t instanceof Gn||v0(t)&&Ca(t)}function Hu(t){return S(t?.lift)}function U(t){return e=>{if(Hu(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function j(t,e,n,r,i){return new Uu(t,e,n,r,i)}var Uu=class extends Gn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function $u(){return U((t,e)=>{let n=null;t._refCount++;let r=j(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Wu=class extends R{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Hu(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ye;let n=this.getSubject();e.add(this.source.subscribe(j(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ye.EMPTY)}return e}refCount(){return $u()(this)}};var ry=ei(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pt=(()=>{class t extends R{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Sa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ry}next(n){ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ou:(this.currentObservers=null,o.push(n),new ye(()=>{this.currentObservers=null,$n(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new R;return n.source=this,n}}return t.create=(e,n)=>new Sa(e,n),t})(),Sa=class extends pt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ou}};var yo=class extends pt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Gu={now(){return(Gu.delegate||Date).now()},delegate:void 0};var Aa=class extends ye{constructor(e,n){super()}schedule(e,n=0){return this}};var vo={setInterval(t,e,...n){let{delegate:r}=vo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=vo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var oi=class extends Aa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return vo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&vo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$n(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var si=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};si.now=Gu.now;var ai=class extends si{constructor(e,n=si.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var zu=new ai(oi);var Na=class extends oi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ma=class extends ai{};var qu=new Ma(Na);var _o=new R(t=>t.complete());function iy(t){return t&&S(t.schedule)}function oy(t){return t[t.length-1]}function ka(t){return S(oy(t))?t.pop():void 0}function fn(t){return iy(oy(t))?t.pop():void 0}function Yu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ay(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(h){s(h)}}function l(p){try{d(r.throw(p))}catch(h){s(h)}}function d(p){p.done?o(p.value):i(p.value).then(a,l)}d((r=r.apply(t,e||[])).next())})}function sy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zn(t){return this instanceof zn?(this.v=t,this):new zn(t)}function cy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(_){return Promise.resolve(_).then(y,h)}}function a(y,_){r[y]&&(i[y]=function(I){return new Promise(function(C,T){o.push([y,I,C,T])>1||l(y,I)})},_&&(i[y]=_(i[y])))}function l(y,_){try{d(r[y](_))}catch(I){m(o[0][3],I)}}function d(y){y.value instanceof zn?Promise.resolve(y.value.v).then(p,h):m(o[0][2],y)}function p(y){l("next",y)}function h(y){l("throw",y)}function m(y,_){y(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function ly(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof sy=="function"?sy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var xa=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ra(t){return S(t?.then)}function Pa(t){return S(t[ii])}function Oa(t){return Symbol.asyncIterator&&S(t?.[Symbol.asyncIterator])}function Fa(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function w0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var La=w0();function Va(t){return S(t?.[La])}function ja(t){return cy(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield zn(n.read());if(i)return yield zn(void 0);yield yield zn(r)}}finally{n.releaseLock()}})}function Ba(t){return S(t?.getReader)}function ve(t){if(t instanceof R)return t;if(t!=null){if(Pa(t))return E0(t);if(xa(t))return b0(t);if(Ra(t))return I0(t);if(Oa(t))return uy(t);if(Va(t))return C0(t);if(Ba(t))return D0(t)}throw Fa(t)}function E0(t){return new R(e=>{let n=t[ii]();if(S(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function b0(t){return new R(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function I0(t){return new R(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Da)})}function C0(t){return new R(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function uy(t){return new R(e=>{T0(t,e).catch(n=>e.error(n))})}function D0(t){return uy(ja(t))}function T0(t,e){var n,r,i,o;return ay(this,void 0,void 0,function*(){try{for(n=ly(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ve(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function hn(t,e=0){return U((n,r)=>{n.subscribe(j(r,i=>Ve(r,t,()=>r.next(i),e),()=>Ve(r,t,()=>r.complete(),e),i=>Ve(r,t,()=>r.error(i),e)))})}function pn(t,e=0){return U((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function dy(t,e){return ve(t).pipe(pn(e),hn(e))}function fy(t,e){return ve(t).pipe(pn(e),hn(e))}function hy(t,e){return new R(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function py(t,e){return new R(n=>{let r;return Ve(n,e,()=>{r=t[La](),Ve(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>S(r?.return)&&r.return()})}function Ha(t,e){if(!t)throw new Error("Iterable cannot be null");return new R(n=>{Ve(n,e,()=>{let r=t[Symbol.asyncIterator]();Ve(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function gy(t,e){return Ha(ja(t),e)}function my(t,e){if(t!=null){if(Pa(t))return dy(t,e);if(xa(t))return hy(t,e);if(Ra(t))return fy(t,e);if(Oa(t))return Ha(t,e);if(Va(t))return py(t,e);if(Ba(t))return gy(t,e)}throw Fa(t)}function kt(t,e){return e?my(t,e):ve(t)}function S0(...t){let e=fn(t);return kt(t,e)}function A0(t,e){let n=S(t)?t:()=>t,r=i=>i.error(n());return new R(e?i=>e.schedule(r,0,i):r)}function N0(t){return!!t&&(t instanceof R||S(t.lift)&&S(t.subscribe))}var qn=ei(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Xt(t,e){return U((n,r)=>{let i=0;n.subscribe(j(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:M0}=Array;function k0(t,e){return M0(e)?t(...e):t(e)}function Ua(t){return Xt(e=>k0(t,e))}var{isArray:x0}=Array,{getPrototypeOf:R0,prototype:P0,keys:O0}=Object;function $a(t){if(t.length===1){let e=t[0];if(x0(e))return{args:e,keys:null};if(F0(e)){let n=O0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function F0(t){return t&&typeof t=="object"&&R0(t)===P0}function Wa(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function L0(...t){let e=fn(t),n=ka(t),{args:r,keys:i}=$a(t);if(r.length===0)return kt([],e);let o=new R(V0(r,e,i?s=>Wa(i,s):Je));return n?o.pipe(Ua(n)):o}function V0(t,e,n=Je){return r=>{yy(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)yy(e,()=>{let d=kt(t[l],e),p=!1;d.subscribe(j(r,h=>{o[l]=h,p||(p=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function yy(t,e,n){t?Ve(n,t,e):e()}function vy(t,e,n,r,i,o,s,a){let l=[],d=0,p=0,h=!1,m=()=>{h&&!l.length&&!d&&e.complete()},y=I=>d<r?_(I):l.push(I),_=I=>{o&&e.next(I),d++;let C=!1;ve(n(I,p++)).subscribe(j(e,T=>{i?.(T),o?y(T):e.next(T)},()=>{C=!0},void 0,()=>{if(C)try{for(d--;l.length&&d<r;){let T=l.shift();s?Ve(e,s,()=>_(T)):_(T)}m()}catch(T){e.error(T)}}))};return t.subscribe(j(e,y,()=>{h=!0,m()})),()=>{a?.()}}function Yn(t,e,n=1/0){return S(e)?Yn((r,i)=>Xt((o,s)=>e(r,o,i,s))(ve(t(r,i))),n):(typeof e=="number"&&(n=e),U((r,i)=>vy(r,i,t,n)))}function _y(t=1/0){return Yn(Je,t)}function wy(){return _y(1)}function Ga(...t){return wy()(kt(t,fn(t)))}function j0(t){return new R(e=>{ve(t()).subscribe(e)})}function Ku(...t){let e=ka(t),{args:n,keys:r}=$a(t),i=new R(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let p=0;p<s;p++){let h=!1;ve(n[p]).subscribe(j(o,m=>{h||(h=!0,d--),a[p]=m},()=>l--,void 0,()=>{(!l||!h)&&(d||o.next(r?Wa(r,a):a),o.complete())}))}});return e?i.pipe(Ua(e)):i}function wo(t,e){return U((n,r)=>{let i=0;n.subscribe(j(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ey(t){return U((e,n)=>{let r=null,i=!1,o;r=e.subscribe(j(n,void 0,void 0,s=>{o=ve(t(s,Ey(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function by(t,e,n,r,i){return(o,s)=>{let a=n,l=e,d=0;o.subscribe(j(s,p=>{let h=d++;l=a?t(l,p,h):(a=!0,p),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function B0(t,e){return S(e)?Yn(t,e,1):Yn(t,1)}function Eo(t){return U((e,n)=>{let r=!1;e.subscribe(j(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Zu(t){return t<=0?()=>_o:U((e,n)=>{let r=0;e.subscribe(j(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function za(t=H0){return U((e,n)=>{let r=!1;e.subscribe(j(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function H0(){return new qn}function U0(t){return U((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function $0(t,e){let n=arguments.length>=2;return r=>r.pipe(t?wo((i,o)=>t(i,o,r)):Je,Zu(1),n?Eo(e):za(()=>new qn))}function Qu(t){return t<=0?()=>_o:U((e,n)=>{let r=[];e.subscribe(j(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function W0(t,e){let n=arguments.length>=2;return r=>r.pipe(t?wo((i,o)=>t(i,o,r)):Je,Qu(1),n?Eo(e):za(()=>new qn))}function G0(t,e){return U(by(t,e,arguments.length>=2,!0))}function z0(...t){let e=fn(t);return U((n,r)=>{(e?Ga(t,n,e):Ga(t,n)).subscribe(r)})}function q0(t,e){return U((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(j(r,l=>{i?.unsubscribe();let d=0,p=o++;ve(t(l,p)).subscribe(i=j(r,h=>r.next(e?e(l,h,p,d++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Y0(t){return U((e,n)=>{ve(t).subscribe(j(n,()=>n.complete(),mo)),!n.closed&&e.subscribe(n)})}function K0(t,e,n){let r=S(t)||e||n?{next:t,error:e,complete:n}:t;return r?U((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(j(o,l=>{var d;(d=r.next)===null||d===void 0||d.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,l),o.error(l)},()=>{var l,d;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Je}function Iy(t){let e=x(null);try{return t()}finally{x(e)}}var Qa="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",P=class extends Error{code;constructor(e,n){super(To(e,n)),this.code=e}};function Z0(t){return`NG0${Math.abs(t)}`}function To(t,e){return`${Z0(t)}${e?": "+e:""}`}function K(t){for(let e in t)if(t[e]===K)return e;throw Error("")}function Ty(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function tn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(tn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function ud(t,e){return t?e?`${t} ${e}`:t:e||""}var Q0=K({__forward_ref__:K});function tr(t){return t.__forward_ref__=tr,t.toString=function(){return tn(this())},t}function De(t){return dd(t)?t():t}function dd(t){return typeof t=="function"&&t.hasOwnProperty(Q0)&&t.__forward_ref__===tr}function Sy(t,e){t==null&&fd(e,t,null,"!=")}function fd(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function Z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function nr(t){return{providers:t.providers||[],imports:t.imports||[]}}function So(t){return X0(t,Ja)}function J0(t){return So(t)!==null}function X0(t,e){return t.hasOwnProperty(e)&&t[e]||null}function eS(t){let e=t?.[Ja]??null;return e||null}function Xu(t){return t&&t.hasOwnProperty(Ya)?t[Ya]:null}var Ja=K({\u0275prov:K}),Ya=K({\u0275inj:K}),A=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function hd(t){return t&&!!t.\u0275providers}var pd=K({\u0275cmp:K}),gd=K({\u0275dir:K}),md=K({\u0275pipe:K}),yd=K({\u0275mod:K}),Co=K({\u0275fac:K}),rr=K({__NG_ELEMENT_ID__:K}),Cy=K({__NG_ENV_ID__:K});function li(t){return typeof t=="string"?t:t==null?"":String(t)}function Ka(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():li(t)}var vd=K({ngErrorCode:K}),Ay=K({ngErrorMessage:K}),Io=K({ngTokenPath:K});function _d(t,e){return Ny("",-200,e)}function Xa(t,e){throw new P(-201,!1)}function tS(t,e){t[Io]??=[];let n=t[Io],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(Sy(e.provide,"Token with multi: true should have a provide property"),r=Ka(e.provide)):r=Ka(e),n[0]!==r&&t[Io].unshift(r)}function nS(t,e){let n=t[Io],r=t[vd],i=t[Ay]||t.message;return t.message=iS(i,r,n,e),t}function Ny(t,e,n){let r=new P(e,t);return r[vd]=e,r[Ay]=t,n&&(r[Io]=n),r}function rS(t){return t[vd]}function iS(t,e,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return To(e,`${t}${o}${i}`)}var ed;function My(){return ed}function Xe(t){let e=ed;return ed=t,e}function wd(t,e,n){let r=So(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Xa(t,"Injector")}var oS={},Kn=oS,td="__NG_DI_FLAG__",nd=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Zn(n)||0;try{return this.injector.get(e,r&8?null:Kn,r)}catch(i){if(Yr(i))return i;throw i}}};function sS(t,e=0){let n=fa();if(n===void 0)throw new P(-203,!1);if(n===null)return wd(t,void 0,e);{let r=aS(e),i=n.retrieve(t,r);if(Yr(i)){if(r.optional)return null;throw i}return i}}function Ee(t,e=0){return(My()||sS)(De(t),e)}function D(t,e){return Ee(t,Zn(e))}function Zn(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function aS(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function rd(t){let e=[];for(let n=0;n<t.length;n++){let r=De(t[n]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=cS(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(Ee(i,o))}else e.push(Ee(r))}return e}function ky(t,e){return t[td]=e,t.prototype[td]=e,t}function cS(t){return t[td]}function Qn(t,e){let n=t.hasOwnProperty(Co);return n?t[Co]:null}function ec(t,e){t.forEach(n=>Array.isArray(n)?ec(n,e):e(n))}function Ed(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ao(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function xy(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Ry(t,e,n){let r=ui(t,e);return r>=0?t[r|1]=n:(r=~r,xy(t,r,e,n)),r}function tc(t,e){let n=ui(t,e);if(n>=0)return t[n|1]}function ui(t,e){return lS(t,e,1)}function lS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var yn={},et=[],ir=new A(""),bd=new A("",-1),Id=new A(""),Do=class{get(e,n=Kn){if(n===Kn){let i=Ny("",-201);throw i.name="\u0275NotFound",i}return n}};function Cd(t){return t[yd]||null}function vn(t){return t[pd]||null}function Dd(t){return t[gd]||null}function Py(t){return t[md]||null}function di(t){return{\u0275providers:t}}function Oy(...t){return{\u0275providers:Td(!0,t),\u0275fromNgModule:!0}}function Td(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return ec(e,s=>{let a=s;Za(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Fy(i,o),n}function Fy(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Sd(i,o=>{e(o,r)})}}function Za(t,e,n,r){if(t=De(t),!t)return!1;let i=null,o=Xu(t),s=!o&&vn(t);if(!o&&!s){let l=t.ngModule;if(o=Xu(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)Za(d,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{ec(o.imports,p=>{Za(p,e,n,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&Fy(d,e)}if(!a){let d=Qn(i)||(()=>new i);e({provide:i,useFactory:d,deps:et},i),e({provide:Id,useValue:i,multi:!0},i),e({provide:ir,useValue:()=>Ee(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let d=t;Sd(l,p=>{e(p,d)})}}else return!1;return i!==t&&t.providers!==void 0}function Sd(t,e){for(let n of t)hd(n)&&(n=n.\u0275providers),Array.isArray(n)?Sd(n,e):e(n)}var uS=K({provide:String,useValue:K});function Ly(t){return t!==null&&typeof t=="object"&&uS in t}function dS(t){return!!(t&&t.useExisting)}function fS(t){return!!(t&&t.useFactory)}function Jn(t){return typeof t=="function"}function Vy(t){return!!t.useClass}var Ad=new A(""),qa={},Dy={},Ju;function No(){return Ju===void 0&&(Ju=new Do),Ju}var je=class{},Xn=class extends je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,od(e,s=>this.processProvider(s)),this.records.set(bd,ci(void 0,this)),i.has("environment")&&this.records.set(je,ci(void 0,this));let o=this.records.get(Ad);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Id,et,{self:!0}))}retrieve(e,n){let r=Zn(n)||0;try{return this.get(e,Kn,r)}catch(i){if(Yr(i))return i;throw i}}destroy(){bo(this),this._destroyed=!0;let e=x(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),x(e)}}onDestroy(e){return bo(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){bo(this);let n=Mt(this),r=Xe(void 0),i;try{return e()}finally{Mt(n),Xe(r)}}get(e,n=Kn,r){if(bo(this),e.hasOwnProperty(Cy))return e[Cy](this);let i=Zn(r),o,s=Mt(this),a=Xe(void 0);try{if(!(i&4)){let d=this.records.get(e);if(d===void 0){let p=yS(e)&&So(e);p&&this.injectableDefInScope(p)?d=ci(id(e),qa):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,i)}let l=i&2?No():this.parent;return n=i&8&&n===Kn?null:n,l.get(e,n)}catch(l){let d=rS(l);throw d===-200||d===-201?new P(d,null):l}finally{Xe(a),Mt(s)}}resolveInjectorInitializers(){let e=x(null),n=Mt(this),r=Xe(void 0),i;try{let o=this.get(ir,et,{self:!0});for(let s of o)s()}finally{Mt(n),Xe(r),x(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(tn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=De(e);let n=Jn(e)?e:De(e&&e.provide),r=pS(e);if(!Jn(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ci(void 0,qa,!0),i.factory=()=>rd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=x(null);try{if(n.value===Dy)throw _d(tn(e));return n.value===qa&&(n.value=Dy,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&mS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{x(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=De(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function id(t){let e=So(t),n=e!==null?e.factory:Qn(t);if(n!==null)return n;if(t instanceof A)throw new P(204,!1);if(t instanceof Function)return hS(t);throw new P(204,!1)}function hS(t){if(t.length>0)throw new P(204,!1);let n=eS(t);return n!==null?()=>n.factory(t):()=>new t}function pS(t){if(Ly(t))return ci(void 0,t.useValue);{let e=Nd(t);return ci(e,qa)}}function Nd(t,e,n){let r;if(Jn(t)){let i=De(t);return Qn(i)||id(i)}else if(Ly(t))r=()=>De(t.useValue);else if(fS(t))r=()=>t.useFactory(...rd(t.deps||[]));else if(dS(t))r=(i,o)=>Ee(De(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=De(t&&(t.useClass||t.provide));if(gS(t))r=()=>new i(...rd(t.deps));else return Qn(i)||id(i)}return r}function bo(t){if(t.destroyed)throw new P(205,!1)}function ci(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function gS(t){return!!t.deps}function mS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function yS(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function od(t,e){for(let n of t)Array.isArray(n)?od(n,e):n&&hd(n)?od(n.\u0275providers,e):e(n)}function _n(t,e){let n;t instanceof Xn?(bo(t),n=t):n=new nd(t);let r,i=Mt(n),o=Xe(void 0);try{return e()}finally{Mt(i),Xe(o)}}function jy(){return My()!==void 0||fa()!=null}var gt=0,M=1,N=2,Te=3,at=4,ct=5,Mo=6,fi=7,Me=8,or=9,xt=10,le=11,hi=12,Md=13,sr=14,lt=15,ar=16,cr=17,lr=18,ko=19,kd=20,en=21,nc=22,xo=23,tt=24,rc=25,He=26,By=1;var wn=7,Ro=8,Po=9,Ue=10;function Rt(t){return Array.isArray(t)&&typeof t[By]=="object"}function mt(t){return Array.isArray(t)&&t[By]===!0}function xd(t){return(t.flags&4)!==0}function En(t){return t.componentOffset>-1}function pi(t){return(t.flags&1)===1}function Pt(t){return!!t.template}function gi(t){return(t[N]&512)!==0}function ur(t){return(t[N]&256)===256}var Hy="svg",Uy="math";function ut(t){for(;Array.isArray(t);)t=t[gt];return t}function Rd(t,e){return ut(e[t])}function Ot(t,e){return ut(e[t.index])}function ic(t,e){return t.data[e]}function dt(t,e){let n=e[t];return Rt(n)?n:n[gt]}function oc(t){return(t[N]&128)===128}function $y(t){return mt(t[Te])}function Oo(t,e){return e==null?null:t[e]}function Pd(t){t[cr]=0}function Od(t){t[N]&1024||(t[N]|=1024,oc(t)&&Lo(t))}function Wy(t,e){for(;t>0;)e=e[sr],t--;return e}function Fo(t){return!!(t[N]&9216||t[tt]?.dirty)}function sc(t){t[xt].changeDetectionScheduler?.notify(8),t[N]&64&&(t[N]|=1024),Fo(t)&&Lo(t)}function Lo(t){t[xt].changeDetectionScheduler?.notify(0);let e=gn(t);for(;e!==null&&!(e[N]&8192||(e[N]|=8192,!oc(e)));)e=gn(e)}function Fd(t,e){if(ur(t))throw new P(911,!1);t[en]===null&&(t[en]=[]),t[en].push(e)}function Gy(t,e){if(t[en]===null)return;let n=t[en].indexOf(e);n!==-1&&t[en].splice(n,1)}function gn(t){let e=t[Te];return mt(e)?e[Te]:e}function zy(t){return t[fi]??=[]}function qy(t){return t.cleanup??=[]}var L={lFrame:lv(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Vo=(function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t})(Vo||{}),vS=0,sd=!1;function Yy(){return L.lFrame.elementDepthCount}function Ky(){L.lFrame.elementDepthCount++}function Zy(){L.lFrame.elementDepthCount--}function ac(){return L.bindingsEnabled}function Qy(){return L.skipHydrationRootTNode!==null}function Jy(t){return L.skipHydrationRootTNode===t}function Xy(){L.skipHydrationRootTNode=null}function ne(){return L.lFrame.lView}function nt(){return L.lFrame.tView}function $e(t){return L.lFrame.contextLView=t,t[Me]}function We(t){return L.lFrame.contextLView=null,t}function Pe(){let t=Ld();for(;t!==null&&t.type===64;)t=t.parent;return t}function Ld(){return L.lFrame.currentTNode}function ev(){let t=L.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function mi(t,e){let n=L.lFrame;n.currentTNode=t,n.isParent=e}function Vd(){return L.lFrame.isParent}function tv(){L.lFrame.isParent=!1}function jd(t){fd("Must never be called in production mode"),vS=t}function Bd(){return sd}function Hd(t){let e=sd;return sd=t,e}function nv(){return L.lFrame.bindingIndex}function rv(t){return L.lFrame.bindingIndex=t}function cc(){return L.lFrame.bindingIndex++}function Ud(t){let e=L.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function iv(){return L.lFrame.inI18n}function ov(t,e){let n=L.lFrame;n.bindingIndex=n.bindingRootIndex=t,lc(e)}function sv(){return L.lFrame.currentDirectiveIndex}function lc(t){L.lFrame.currentDirectiveIndex=t}function av(t){let e=L.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function $d(t){L.lFrame.currentQueryIndex=t}function _S(t){let e=t[M];return e.type===2?e.declTNode:e.type===1?t[ct]:null}function Wd(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=_S(o),i===null||(o=o[sr],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=L.lFrame=cv();return r.currentTNode=e,r.lView=t,!0}function uc(t){let e=cv(),n=t[M];L.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function cv(){let t=L.lFrame,e=t===null?null:t.child;return e===null?lv(t):e}function lv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function uv(){let t=L.lFrame;return L.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Gd=uv;function dc(){let t=uv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function dv(t){return(L.lFrame.contextLView=Wy(t,L.lFrame.contextLView))[Me]}function bn(){return L.lFrame.selectedIndex}function In(t){L.lFrame.selectedIndex=t}function zd(){let t=L.lFrame;return ic(t.tView,t.selectedIndex)}function fv(){return L.lFrame.currentNamespace}var hv=!0;function fc(){return hv}function jo(t){hv=t}var wS={elements:void 0};function pv(){return wS}function ad(t,e=null,n=null,r){let i=qd(t,e,n,r);return i.resolveInjectorInitializers(),i}function qd(t,e=null,n=null,r,i=new Set){let o=[n||et,Oy(t)];return r=r||(typeof t=="object"?void 0:tn(t)),new Xn(o,e||No(),r||null,i)}var Be=class t{static THROW_IF_NOT_FOUND=Kn;static NULL=new Do;static create(e,n){if(Array.isArray(e))return ad({name:""},n,e,"");{let r=e.name??"";return ad({name:r},e.parent,e.providers,r)}}static \u0275prov=Z({token:t,providedIn:"any",factory:()=>Ee(bd)});static __NG_ELEMENT_ID__=-1},Bo=new A(""),yi=(()=>{class t{static __NG_ELEMENT_ID__=ES;static __NG_ENV_ID__=n=>n}return t})(),cd=class extends yi{_lView;constructor(e){super(),this._lView=e}get destroyed(){return ur(this._lView)}onDestroy(e){let n=this._lView;return Fd(n,e),()=>Gy(n,e)}};function ES(){return new cd(ne())}var er=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ft=new A("",{providedIn:"root",factory:()=>{let t=D(je),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(er),e.handleError(n))}}}),gv={provide:ir,useValue:()=>void D(er),multi:!0};function Yd(t){return typeof t=="function"&&t[Ne]!==void 0}function dr(t,e){let[n,r,i]=Ru(t,e?.equal),o=n,s=o[Ne];return o.set=r,o.update=i,o.asReadonly=mv.bind(o),o}function mv(){let t=this[Ne];if(t.readonlyFn===void 0){let e=()=>this();e[Ne]=t,t.readonlyFn=e}return t.readonlyFn}function Kd(t){return Yd(t)&&typeof t.set=="function"}var mn=class{},hc=new A("",{providedIn:"root",factory:()=>!1});var Zd=new A(""),Qd=new A("");var Cn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new yo(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new R(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new t})}return t})(),vi=(()=>{class t{internalPendingTasks=D(Cn);scheduler=D(mn);errorHandler=D(Ft);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ho(...t){}var Jd=(()=>{class t{static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new ld})}return t})(),ld=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Ti(t){return{toString:t}.toString()}var pc="__parameters__";function RS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function PS(t,e,n){return Ti(()=>{let r=RS(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,d,p){let h=l.hasOwnProperty(pc)?l[pc]:Object.defineProperty(l,pc,{value:[]})[pc];for(;h.length<=p;)h.push(null);return(h[p]=h[p]||[]).push(s),l}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var nn=ky(PS("Optional"),8);function OS(t){return typeof t=="function"}var _c=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function zv(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Pc=(()=>{let t=()=>qv;return t.ngInherit=!0,t})();function qv(t){return t.type.prototype.ngOnChanges&&(t.setInput=LS),FS}function FS(){let t=Kv(this),e=t?.current;if(e){let n=t.previous;if(n===yn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function LS(t,e,n,r,i){let o=this.declaredInputs[r],s=Kv(t)||VS(t,{previous:yn,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new _c(d&&d.currentValue,n,l===yn),zv(t,e,i,n)}var Yv="__ngSimpleChanges__";function Kv(t){return t[Yv]||null}function VS(t,e){return t[Yv]=e}var yv=[];var re=function(t,e=null,n){for(let r=0;r<yv.length;r++){let i=yv[r];i(t,e,n)}};function jS(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=qv(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Zv(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function mc(t,e,n){Qv(t,e,3,n)}function yc(t,e,n,r){(t[N]&3)===n&&Qv(t,e,n,r)}function Xd(t,e){let n=t[N];(n&3)===e&&(n&=16383,n+=1,t[N]=n)}function Qv(t,e,n,r){let i=r!==void 0?t[cr]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[cr]+=65536),(a<o||o==-1)&&(BS(t,n,e,l),t[cr]=(t[cr]&4294901760)+l+2),l++}function vv(t,e){re(4,t,e);let n=x(null);try{e.call(t)}finally{x(n),re(5,t,e)}}function BS(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[N]>>14<t[cr]>>16&&(t[N]&3)===e&&(t[N]+=16384,vv(a,o)):vv(a,o)}var wi=-1,hr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function HS(t){return(t.flags&8)!==0}function US(t){return(t.flags&16)!==0}function $S(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];GS(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function WS(t){return t===3||t===4||t===6}function GS(t){return t.charCodeAt(0)===64}function Wo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?_v(t,n,i,null,e[++r]):_v(t,n,i,null,null))}}return t}function _v(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function Jv(t){return t!==wi}function wc(t){return t&32767}function zS(t){return t>>16}function Ec(t,e){let n=zS(t),r=e;for(;n>0;)r=r[sr],n--;return r}var uf=!0;function wv(t){let e=uf;return uf=t,e}var qS=256,Xv=qS-1,e_=5,YS=0,Lt={};function KS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(rr)&&(r=n[rr]),r==null&&(r=n[rr]=YS++);let i=r&Xv,o=1<<i;e.data[t+(i>>e_)]|=o}function bc(t,e){let n=t_(t,e);if(n!==-1)return n;let r=e[M];r.firstCreatePass&&(t.injectorIndex=e.length,ef(r.data,t),ef(e,null),ef(r.blueprint,null));let i=Nf(t,e),o=t.injectorIndex;if(Jv(i)){let s=wc(i),a=Ec(i,e),l=a[M].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|l[s+d]}return e[o+8]=i,o}function ef(t,e){t.push(0,0,0,0,0,0,0,0,e)}function t_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Nf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=s_(i),r===null)return wi;if(n++,i=i[sr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return wi}function df(t,e,n){KS(t,e,n)}function n_(t,e,n){if(n&8||t!==void 0)return t;Xa(e,"NodeInjector")}function r_(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[or],o=Xe(void 0);try{return i?i.get(e,r,n&8):wd(e,r,n&8)}finally{Xe(o)}}return n_(r,e,n)}function i_(t,e,n,r=0,i){if(t!==null){if(e[N]&2048&&!(r&2)){let s=eA(t,e,n,r,Lt);if(s!==Lt)return s}let o=o_(t,e,n,r,Lt);if(o!==Lt)return o}return r_(e,n,r,i)}function o_(t,e,n,r,i){let o=JS(n);if(typeof o=="function"){if(!Wd(e,t,r))return r&1?n_(i,n,r):r_(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Xa(n);else return s}finally{Gd()}}else if(typeof o=="number"){let s=null,a=t_(t,e),l=wi,d=r&1?e[lt][ct]:null;for((a===-1||r&4)&&(l=a===-1?Nf(t,e):e[a+8],l===wi||!bv(r,!1)?a=-1:(s=e[M],a=wc(l),e=Ec(l,e)));a!==-1;){let p=e[M];if(Ev(o,a,p.data)){let h=ZS(a,e,n,s,r,d);if(h!==Lt)return h}l=e[a+8],l!==wi&&bv(r,e[M].data[a+8]===d)&&Ev(o,a,e)?(s=p,a=wc(l),e=Ec(l,e)):a=-1}}return i}function ZS(t,e,n,r,i,o){let s=e[M],a=s.data[t+8],l=r==null?En(a)&&uf:r!=s&&(a.type&3)!==0,d=i&1&&o===a,p=QS(a,s,n,l,d);return p!==null?Ic(e,s,p,a,i):Lt}function QS(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,d=t.directiveEnd,p=o>>20,h=r?a:a+p,m=i?a+p:d;for(let y=h;y<m;y++){let _=s[y];if(y<l&&n===_||y>=l&&_.type===n)return y}if(i){let y=s[l];if(y&&Pt(y)&&y.type===n)return l}return null}function Ic(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof hr){let a=o;if(a.resolving){let y=Ka(s[n]);throw _d(y)}let l=wv(a.canSeeViewProviders);a.resolving=!0;let d=s[n].type||s[n],p,h=a.injectImpl?Xe(a.injectImpl):null,m=Wd(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&jS(n,s[n],e)}finally{h!==null&&Xe(h),wv(l),a.resolving=!1,Gd()}}return o}function JS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(rr)?t[rr]:void 0;return typeof e=="number"?e>=0?e&Xv:XS:e}function Ev(t,e,n){let r=1<<t;return!!(n[e+(t>>e_)]&r)}function bv(t,e){return!(t&2)&&!(t&1&&e)}var fr=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return i_(this._tNode,this._lView,e,Zn(r),n)}};function XS(){return new fr(Pe(),ne())}function Mf(t){return Ti(()=>{let e=t.prototype.constructor,n=e[Co]||ff(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Co]||ff(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ff(t){return dd(t)?()=>{let e=ff(De(t));return e&&e()}:Qn(t)}function eA(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[N]&2048&&!gi(s);){let a=o_(o,s,n,r|2,Lt);if(a!==Lt)return a;let l=o.parent;if(!l){let d=s[kd];if(d){let p=d.get(n,Lt,r);if(p!==Lt)return p}l=s_(s),s=s[sr]}o=l}return i}function s_(t){let e=t[M],n=e.type;return n===2?e.declTNode:n===1?t[ct]:null}function tA(){return Oc(Pe(),ne())}function Oc(t,e){return new mr(Ot(t,e))}var mr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=tA}return t})();function a_(t){return(t.flags&128)===128}var kf=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(kf||{}),c_=new Map,nA=0;function rA(){return nA++}function iA(t){c_.set(t[ko],t)}function hf(t){c_.delete(t[ko])}var Iv="__ngContext__";function Ei(t,e){Rt(e)?(t[Iv]=e[ko],iA(e)):t[Iv]=e}function l_(t){return d_(t[hi])}function u_(t){return d_(t[at])}function d_(t){for(;t!==null&&!mt(t);)t=t[at];return t}var pf;function oA(t){pf=t}function f_(){if(pf!==void 0)return pf;if(typeof document<"u")return document;throw new P(210,!1)}var sA=new A("",{providedIn:"root",factory:()=>aA}),aA="ng",h_=new A(""),xf=new A("",{providedIn:"platform",factory:()=>"unknown"});var cA=new A("",{providedIn:"root",factory:()=>f_().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var lA="h",uA="b";var p_=!1,g_=new A("",{providedIn:"root",factory:()=>p_});var dA=(t,e,n,r)=>{};function fA(t,e,n,r){dA(t,e,n,r)}function Rf(t){return(t.flags&32)===32}var hA=()=>null;function m_(t,e,n=!1){return hA(t,e,n)}function y_(t,e){let n=t.contentQueries;if(n!==null){let r=x(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];$d(o),a.contentQueries(2,e[s],s)}}}finally{x(r)}}}function gf(t,e,n){$d(0);let r=x(null);try{e(t,n)}finally{x(r)}}function Pf(t,e,n){if(xd(e)){let r=x(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{x(r)}}}var bi=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(bi||{});var Cc=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qa})`}};function Of(t){return t instanceof Cc?t.changingThisBreaksApplicationSecurity:t}function v_(t,e){let n=__(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Qa})`)}return n===e}function __(t){return t instanceof Cc&&t.getTypeName()||null}var pA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function w_(t){return t=String(t),t.match(pA)?t:"unsafe:"+t}var Ff=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Ff||{});function Si(t){let e=gA();return e?e.sanitize(Ff.URL,t)||"":v_(t,"URL")?Of(t):w_(li(t))}function gA(){let t=ne();return t&&t[xt].sanitizer}var mA=/^>|^->|<!--|-->|--!>|<!-$/g,yA=/(<|>)/g,vA="\u200B$1\u200B";function _A(t){return t.replace(mA,e=>e.replace(yA,vA))}function E_(t){return t instanceof Function?t():t}function wA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var b_="ng-template";function EA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&wA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Lf(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Lf(t){return t.type===4&&t.value!==b_}function bA(t,e,n){let r=t.type===4&&!n?b_:t.value;return e===r}function IA(t,e,n){let r=4,i=t.attrs,o=i!==null?TA(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!yt(r)&&!yt(l))return!1;if(s&&yt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!bA(t,l,n)||l===""&&e.length===1){if(yt(r))return!1;s=!0}}else if(r&8){if(i===null||!EA(t,i,l,n)){if(yt(r))return!1;s=!0}}else{let d=e[++a],p=CA(l,i,Lf(t),n);if(p===-1){if(yt(r))return!1;s=!0;continue}if(d!==""){let h;if(p>o?h="":h=i[p+1].toLowerCase(),r&2&&d!==h){if(yt(r))return!1;s=!0}}}}return yt(r)||s}function yt(t){return(t&1)===0}function CA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return SA(e,t)}function DA(t,e,n=!1){for(let r=0;r<e.length;r++)if(IA(t,e[r],n))return!0;return!1}function TA(t){for(let e=0;e<t.length;e++){let n=t[e];if(WS(n))return e}return t.length}function SA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Cv(t,e){return t?":not("+e.trim()+")":e}function AA(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!yt(s)&&(e+=Cv(o,i),i=""),r=s,o=o||!yt(r);n++}return i!==""&&(e+=Cv(o,i)),e}function NA(t){return t.map(AA).join(",")}function MA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!yt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Vt={};function kA(t,e){return t.createText(e)}function xA(t,e,n){t.setValue(e,n)}function RA(t,e){return t.createComment(_A(e))}function I_(t,e,n){return t.createElement(e,n)}function Dc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function C_(t,e,n){t.appendChild(e,n)}function Dv(t,e,n,r,i){r!==null?Dc(t,e,n,r,i):C_(t,e,n)}function PA(t,e,n){t.removeChild(null,e,n)}function OA(t,e,n){t.setAttribute(e,"style",n)}function FA(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function D_(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&$S(t,e,r),i!==null&&FA(t,e,i),o!==null&&OA(t,e,o)}function Vf(t,e,n,r,i,o,s,a,l,d,p){let h=He+r,m=h+i,y=LA(h,m),_=typeof d=="function"?d():d;return y[M]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:p}}function LA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Vt);return n}function VA(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Vf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function jf(t,e,n,r,i,o,s,a,l,d,p){let h=e.blueprint.slice();return h[gt]=i,h[N]=r|4|128|8|64|1024,(d!==null||t&&t[N]&2048)&&(h[N]|=2048),Pd(h),h[Te]=h[sr]=t,h[Me]=n,h[xt]=s||t&&t[xt],h[le]=a||t&&t[le],h[or]=l||t&&t[or]||null,h[ct]=o,h[ko]=rA(),h[Mo]=p,h[kd]=d,h[lt]=e.type==2?t[lt]:h,h}function jA(t,e,n){let r=Ot(e,t),i=VA(n),o=t[xt].rendererFactory,s=Bf(t,jf(t,i,null,T_(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function T_(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function S_(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Bf(t,e){return t[hi]?t[Md][at]=e:t[hi]=e,t[Md]=e,e}function W(t=1){A_(nt(),ne(),bn()+t,!1)}function A_(t,e,n,r){if(!r)if((e[N]&3)===3){let o=t.preOrderCheckHooks;o!==null&&mc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&yc(e,o,0,n)}In(n)}var Fc=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Fc||{});function mf(t,e,n,r){let i=x(null);try{let[o,s,a]=t.inputs[n],l=null;(s&Fc.SignalBased)!==0&&(l=e[o][Ne]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,o):zv(e,l,o,r)}finally{x(i)}}var Go=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Go||{}),BA;function Hf(t,e){return BA(t,e)}function _i(t,e,n,r,i){if(r!=null){let o,s=!1;mt(r)?o=r:Rt(r)&&(s=!0,r=r[gt]);let a=ut(r);t===0&&n!==null?i==null?C_(e,n,a):Dc(e,n,a,i||null,!0):t===1&&n!==null?Dc(e,n,a,i||null,!0):t===2?PA(e,a,s):t===3&&e.destroyNode(a),o!=null&&JA(e,t,o,n,i)}}function HA(t,e){N_(t,e),e[gt]=null,e[ct]=null}function UA(t,e,n,r,i,o){r[gt]=i,r[ct]=e,Lc(t,r,n,1,i,o)}function N_(t,e){e[xt].changeDetectionScheduler?.notify(9),Lc(t,e,e[le],2,null,null)}function $A(t){let e=t[hi];if(!e)return tf(t[M],t);for(;e;){let n=null;if(Rt(e))n=e[hi];else{let r=e[Ue];r&&(n=r)}if(!n){for(;e&&!e[at]&&e!==t;)Rt(e)&&tf(e[M],e),e=e[Te];e===null&&(e=t),Rt(e)&&tf(e[M],e),n=e&&e[at]}e=n}}function Uf(t,e){let n=t[Po],r=n.indexOf(e);n.splice(r,1)}function M_(t,e){if(ur(e))return;let n=e[le];n.destroyNode&&Lc(t,e,n,3,null,null),$A(e)}function tf(t,e){if(ur(e))return;let n=x(null);try{e[N]&=-129,e[N]|=256,e[tt]&&go(e[tt]),GA(t,e),WA(t,e),e[M].type===1&&e[le].destroy();let r=e[ar];if(r!==null&&mt(e[Te])){r!==e[Te]&&Uf(r,e);let i=e[lr];i!==null&&i.detachView(t)}hf(e)}finally{x(n)}}function WA(t,e){let n=t.cleanup,r=e[fi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[fi]=null);let i=e[en];if(i!==null){e[en]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[xo];if(o!==null){e[xo]=null;for(let s of o)s.destroy()}}function GA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof hr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];re(4,a,l);try{l.call(a)}finally{re(5,a,l)}}else{re(4,i,o);try{o.call(i)}finally{re(5,i,o)}}}}}function zA(t,e,n){return qA(t,e.parent,n)}function qA(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[gt];if(En(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===bi.None||i===bi.Emulated)return null}return Ot(r,n)}function YA(t,e,n){return ZA(t,e,n)}function KA(t,e,n){return t.type&40?Ot(t,n):null}var ZA=KA,Tv;function $f(t,e,n,r){let i=zA(t,r,e),o=e[le],s=r.parent||e[ct],a=YA(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Dv(o,i,n[l],a,!1);else Dv(o,i,n,a,!1);Tv!==void 0&&Tv(o,r,e,n,i)}function Uo(t,e){if(e!==null){let n=e.type;if(n&3)return Ot(e,t);if(n&4)return yf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Uo(t,r);{let i=t[e.index];return mt(i)?yf(-1,i):ut(i)}}else{if(n&128)return Uo(t,e.next);if(n&32)return Hf(e,t)()||ut(t[e.index]);{let r=k_(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=gn(t[lt]);return Uo(i,r)}else return Uo(t,e.next)}}}return null}function k_(t,e){if(e!==null){let r=t[lt][ct],i=e.projection;return r.projection[i]}return null}function yf(t,e){let n=Ue+t+1;if(n<e.length){let r=e[n],i=r[M].firstChild;if(i!==null)return Uo(r,i)}return e[wn]}function Wf(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&e===0&&(a&&Ei(ut(a),r),n.flags|=2),!Rf(n))if(l&8)Wf(t,e,n.child,r,i,o,!1),_i(e,t,i,a,o);else if(l&32){let d=Hf(n,r),p;for(;p=d();)_i(e,t,i,p,o);_i(e,t,i,a,o)}else l&16?QA(t,e,r,n,i,o):_i(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Lc(t,e,n,r,i,o){Wf(n,r,t.firstChild,e,i,o,!1)}function QA(t,e,n,r,i,o){let s=n[lt],l=s[ct].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let p=l[d];_i(e,t,i,p,o)}else{let d=l,p=s[Te];a_(r)&&(d.flags|=128),Wf(t,e,d,p,i,o,!0)}}function JA(t,e,n,r,i){let o=n[wn],s=ut(n);o!==s&&_i(e,t,r,o,i);for(let a=Ue;a<n.length;a++){let l=n[a];Lc(l[M],l,t,e,r,o)}}function XA(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Go.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Go.Important),t.setStyle(n,r,i,o))}}function x_(t,e,n,r,i){let o=bn(),s=r&2;try{In(-1),s&&e.length>He&&A_(t,e,He,!1),re(s?2:0,i,n),n(r,i)}finally{In(o),re(s?3:1,i,n)}}function Vc(t,e,n){sN(t,e,n),(n.flags&64)===64&&aN(t,e,n)}function Gf(t,e,n=Ot){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function eN(t,e,n,r){let o=r.get(g_,p_)||n===bi.ShadowDom,s=t.selectRootElement(e,o);return tN(s),s}function tN(t){nN(t)}var nN=()=>null;function rN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function R_(t,e,n,r,i,o){let s=e[M];if(qf(t,s,e,n,r)){En(t)&&oN(e,t.index);return}t.type&3&&(n=rN(n)),iN(t,e,n,r,i,o)}function iN(t,e,n,r,i,o){if(t.type&3){let s=Ot(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function oN(t,e){let n=dt(e,t);n[N]&16||(n[N]|=64)}function sN(t,e,n){let r=n.directiveStart,i=n.directiveEnd;En(n)&&jA(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||bc(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],l=Ic(e,t,s,n);if(Ei(l,e),o!==null&&lN(e,s-r,l,a,n,o),Pt(a)){let d=dt(n.index,e);d[Me]=Ic(e,t,s,n)}}}function aN(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=sv();try{In(o);for(let a=r;a<i;a++){let l=t.data[a],d=e[a];lc(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&cN(l,d)}}finally{In(-1),lc(s)}}function cN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function zf(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];DA(e,o.selectors,!1)&&(r??=[],Pt(o)?r.unshift(o):r.push(o))}return r}function lN(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],d=s[a+1];mf(r,n,l,d)}}function P_(t,e,n,r,i){let o=He+n,s=e[M],a=i(s,e,t,r,n);e[o]=a,mi(t,!0);let l=t.type===2;return l?(D_(e[le],a,t),(Yy()===0||pi(t))&&Ei(a,e),Ky()):Ei(a,e),fc()&&(!l||!Rf(t))&&$f(s,e,a,t),t}function O_(t){let e=t;return Vd()?tv():(e=e.parent,mi(e,!1)),e}function uN(t,e){let n=t[or];if(!n)return;let r;try{r=n.get(Ft,null)}catch{r=null}r?.(e)}function qf(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let d=s[l],p=s[l+1],h=e.data[d];mf(h,n[d],p,i),a=!0}if(o)for(let l of o){let d=n[l],p=e.data[l];mf(p,d,r,i),a=!0}return a}function dN(t,e){let n=dt(e,t),r=n[M];fN(r,n);let i=n[gt];i!==null&&n[Mo]===null&&(n[Mo]=m_(i,n[or])),re(18),Yf(r,n,n[Me]),re(19,n[Me])}function fN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Yf(t,e,n){uc(e);try{let r=t.viewQuery;r!==null&&gf(1,r,n);let i=t.template;i!==null&&x_(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[lr]?.finishViewCreation(t),t.staticContentQueries&&y_(t,e),t.staticViewQueries&&gf(2,t.viewQuery,n);let o=t.components;o!==null&&hN(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[N]&=-5,dc()}}function hN(t,e){for(let n=0;n<e.length;n++)dN(t,e[n])}function pN(t,e,n,r){let i=x(null);try{let o=e.tView,a=t[N]&4096?4096:16,l=jf(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];l[ar]=d;let p=t[lr];return p!==null&&(l[lr]=p.createEmbeddedView(o)),Yf(o,l,n),l}finally{x(i)}}function Sv(t,e){return!e||e.firstChild===null||a_(t)}var Av=!1,gN=new A("");function zo(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(ut(o)),mt(o)&&F_(o,r);let s=n.type;if(s&8)zo(t,e,n.child,r);else if(s&32){let a=Hf(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=k_(e,n);if(Array.isArray(a))r.push(...a);else{let l=gn(e[lt]);zo(l[M],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function F_(t,e){for(let n=Ue;n<t.length;n++){let r=t[n],i=r[M].firstChild;i!==null&&zo(r[M],r,i,e)}t[wn]!==t[gt]&&e.push(t[wn])}function L_(t){if(t[rc]!==null){for(let e of t[rc])e.impl.addSequence(e);t[rc].length=0}}var V_=[];function mN(t){return t[tt]??yN(t)}function yN(t){let e=V_.pop()??Object.create(_N);return e.lView=t,e}function vN(t){t.lView[tt]!==t&&(t.lView=null,V_.push(t))}var _N=te(J({},Kr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Lo(t.lView)},consumerOnSignalRead(){this.lView[tt]=this}});function wN(t){let e=t[tt]??Object.create(EN);return e.lView=t,e}var EN=te(J({},Kr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=gn(t.lView);for(;e&&!j_(e[M]);)e=gn(e);e&&Od(e)},consumerOnSignalRead(){this.lView[tt]=this}});function j_(t){return t.type!==2}function B_(t){if(t[xo]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[xo])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[N]&8192)}}var bN=100;function Kf(t,e=0){let r=t[xt].rendererFactory,i=!1;i||r.begin?.();try{IN(t,e)}finally{i||r.end?.()}}function IN(t,e){let n=Bd();try{Hd(!0),vf(t,e);let r=0;for(;Fo(t);){if(r===bN)throw new P(103,!1);r++,vf(t,1)}}finally{Hd(n)}}function H_(t,e){jd(e?Vo.Exhaustive:Vo.OnlyDirtyViews);try{Kf(t)}finally{jd(Vo.Off)}}function CN(t,e,n,r){if(ur(e))return;let i=e[N],o=!1,s=!1;uc(e);let a=!0,l=null,d=null;o||(j_(t)?(d=mN(e),l=Qr(d)):va()===null?(a=!1,d=wN(e),l=Qr(d)):e[tt]&&(go(e[tt]),e[tt]=null));try{Pd(e),rv(t.bindingStartIndex),n!==null&&x_(t,e,n,2,r);let p=(i&3)===3;if(!o)if(p){let y=t.preOrderCheckHooks;y!==null&&mc(e,y,null)}else{let y=t.preOrderHooks;y!==null&&yc(e,y,0,null),Xd(e,0)}if(s||DN(e),B_(e),U_(e,0),t.contentQueries!==null&&y_(t,e),!o)if(p){let y=t.contentCheckHooks;y!==null&&mc(e,y)}else{let y=t.contentHooks;y!==null&&yc(e,y,1),Xd(e,1)}SN(t,e);let h=t.components;h!==null&&W_(e,h,0);let m=t.viewQuery;if(m!==null&&gf(2,m,r),!o)if(p){let y=t.viewCheckHooks;y!==null&&mc(e,y)}else{let y=t.viewHooks;y!==null&&yc(e,y,2),Xd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[nc]){for(let y of e[nc])y();e[nc]=null}o||(L_(e),e[N]&=-73)}catch(p){throw o||Lo(e),p}finally{d!==null&&(ho(d,l),a&&vN(d)),dc()}}function U_(t,e){for(let n=l_(t);n!==null;n=u_(n))for(let r=Ue;r<n.length;r++){let i=n[r];$_(i,e)}}function DN(t){for(let e=l_(t);e!==null;e=u_(e)){if(!(e[N]&2))continue;let n=e[Po];for(let r=0;r<n.length;r++){let i=n[r];Od(i)}}}function TN(t,e,n){re(18);let r=dt(e,t);$_(r,n),re(19,r[Me])}function $_(t,e){oc(t)&&vf(t,e)}function vf(t,e){let r=t[M],i=t[N],o=t[tt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&po(o)),s||=!1,o&&(o.dirty=!1),t[N]&=-9217,s)CN(r,t,r.template,t[Me]);else if(i&8192){let a=x(null);try{B_(t),U_(t,1);let l=r.components;l!==null&&W_(t,l,1),L_(t)}finally{x(a)}}}function W_(t,e,n){for(let r=0;r<e.length;r++)TN(t,e[r],n)}function SN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)In(~i);else{let o=i,s=n[++r],a=n[++r];ov(s,o);let l=e[o];re(24,l),a(2,l),re(25,l)}}}finally{In(-1)}}function Zf(t,e){let n=Bd()?64:1088;for(t[xt].changeDetectionScheduler?.notify(e);t;){t[N]|=n;let r=gn(t);if(gi(t)&&!r)return t;t=r}return null}function G_(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function AN(t,e,n,r=!0){let i=e[M];if(NN(i,e,t,n),r){let s=yf(n,t),a=e[le],l=a.parentNode(t[wn]);l!==null&&UA(i,t[ct],a,e,l,s)}let o=e[Mo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function _f(t,e){if(t.length<=Ue)return;let n=Ue+e,r=t[n];if(r){let i=r[ar];i!==null&&i!==t&&Uf(i,r),e>0&&(t[n-1][at]=r[at]);let o=Ao(t,Ue+e);HA(r[M],r);let s=o[lr];s!==null&&s.detachView(o[M]),r[Te]=null,r[at]=null,r[N]&=-129}return r}function NN(t,e,n,r){let i=Ue+r,o=n.length;r>0&&(n[i-1][at]=e),r<o-Ue?(e[at]=n[i],Ed(n,Ue+r,e)):(n.push(e),e[at]=null),e[Te]=n;let s=e[ar];s!==null&&n!==s&&z_(s,e);let a=e[lr];a!==null&&a.insertView(t),sc(e),e[N]|=128}function z_(t,e){let n=t[Po],r=e[Te];if(Rt(r))t[N]|=2;else{let i=r[Te][lt];e[lt]!==i&&(t[N]|=2)}n===null?t[Po]=[e]:n.push(e)}var Dn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[M];return zo(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Me]}set context(e){this._lView[Me]=e}get destroyed(){return ur(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Te];if(mt(e)){let n=e[Ro],r=n?n.indexOf(this):-1;r>-1&&(_f(e,r),Ao(n,r))}this._attachedToViewContainer=!1}M_(this._lView[M],this._lView)}onDestroy(e){Fd(this._lView,e)}markForCheck(){Zf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[N]&=-129}reattach(){sc(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,Kf(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=gi(this._lView),n=this._lView[ar];n!==null&&!e&&Uf(n,this._lView),N_(this._lView[M],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e;let n=gi(this._lView),r=this._lView[ar];r!==null&&!n&&z_(r,this._lView),sc(this._lView)}};var Zo=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=MN;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=pN(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Dn(o)}}return t})();function MN(){return kN(Pe(),ne())}function kN(t,e){return t.type&4?new Zo(e,t,Oc(t,e)):null}function Qf(t,e,n,r,i){let o=t.data[e];if(o===null)o=xN(t,e,n,r,i),iv()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=ev();o.injectorIndex=s===null?-1:s.injectorIndex}return mi(o,!0),o}function xN(t,e,n,r,i){let o=Ld(),s=Vd(),a=s?o:o&&o.parent,l=t.data[e]=PN(t,a,n,e,r,i);return RN(t,l,o,s),l}function RN(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function PN(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Qy()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var V3=new RegExp(`^(\\d+)*(${uA}|${lA})*(.*)`);var ON=()=>null;function Nv(t,e){return ON(t,e)}var q_=class{},jc=class{},wf=class{resolveComponentFactory(e){throw new P(917,!1)}},Qo=class{static NULL=new wf},qo=class{},Ai=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>FN()}return t})();function FN(){let t=ne(),e=Pe(),n=dt(e.index,t);return(Rt(n)?n:t)[le]}var Y_=(()=>{class t{static \u0275prov=Z({token:t,providedIn:"root",factory:()=>null})}return t})();var vc={},Ef=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,vc,r);return i!==vc||n===vc?i:this.parentInjector.get(e,n,r)}};function Mv(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ud(i,a);else if(o==2){let l=a,d=e[++s];r=ud(r,l+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ie(t,e=0){let n=ne();if(n===null)return Ee(t,e);let r=Pe();return i_(r,n,De(t),e)}function K_(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,l=null,d=null;for(let p of s)if(p.resolveHostDirectives!==null){[a,l,d]=p.resolveHostDirectives(s);break}jN(t,e,n,a,o,l,d)}o!==null&&r!==null&&LN(n,r,o)}function LN(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new P(-301,!1);r.push(e[i],o)}}function VN(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function jN(t,e,n,r,i,o,s){let a=r.length,l=!1;for(let m=0;m<a;m++){let y=r[m];!l&&Pt(y)&&(l=!0,VN(t,n,m)),df(bc(n,e),t,y.type)}GN(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let d=!1,p=!1,h=S_(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=Wo(n.mergedAttrs,y.hostAttrs),HN(t,n,e,h,y),WN(h,y,i),s!==null&&s.has(y)){let[I,C]=s.get(y);n.directiveToIndex.set(y.type,[h,I+n.directiveStart,C+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,h);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let _=y.type.prototype;!d&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!p&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),p=!0),h++}BN(t,n,o)}function BN(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))kv(0,e,i,r),kv(1,e,i,r),Rv(e,r,!1);else{let o=n.get(i);xv(0,e,o,r),xv(1,e,o,r),Rv(e,r,!0)}}}function kv(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Z_(e,o)}}function xv(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Z_(e,s)}}function Z_(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Rv(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Lf(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let d=i[l];for(let p of d)if(p===e){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let d=o[l];for(let p=0;p<d.length;p+=2)if(d[p]===e){s??=[],s.push(d[p+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function HN(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Qn(i.type,!0)),s=new hr(o,Pt(i),ie,null);t.blueprint[r]=s,n[r]=s,UN(t,e,r,S_(t,n,i.hostVars,Vt),i)}function UN(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;$N(s)!=a&&s.push(a),s.push(n,r,o)}}function $N(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function WN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Pt(e)&&(n[""]=t)}}function GN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Jf(t,e,n,r,i,o,s,a){let l=e[M],d=l.consts,p=Oo(d,s),h=Qf(l,t,n,r,p);return o&&K_(l,e,h,Oo(d,a),i),h.mergedAttrs=Wo(h.mergedAttrs,h.attrs),h.attrs!==null&&Mv(h,h.attrs,!1),h.mergedAttrs!==null&&Mv(h,h.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,h),h}function Xf(t,e){Zv(t,e),xd(e)&&t.queries.elementEnd(e)}function eh(t){return J_(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Q_(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function J_(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Ii(t,e,n){if(n===Vt)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function zN(t,e,n,r){let i=Ii(t,e,n);return Ii(t,e+1,r)||i}function nf(t,e,n){return function r(i){let o=En(t)?dt(t.index,e):e;Zf(o,5);let s=e[Me],a=Pv(e,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=Pv(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function Pv(t,e,n,r){let i=x(null);try{return re(6,e,n),n(r)!==!1}catch(o){return uN(t,o),!1}finally{re(7,e,n),x(i)}}function qN(t,e,n,r,i,o,s,a){let l=pi(t),d=!1,p=null;if(!r&&l&&(p=YN(e,n,o,t.index)),p!==null){let h=p.__ngLastListenerFn__||p;h.__ngNextListenerFn__=s,p.__ngLastListenerFn__=s,d=!0}else{let h=Ot(t,n),m=r?r(h):h;fA(n,m,o,a);let y=i.listen(m,o,a),_=r?I=>r(ut(I[t.index])):t.index;X_(_,e,n,o,a,y,!1)}return d}function YN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[fi],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function X_(t,e,n,r,i,o,s){let a=e.firstCreatePass?qy(e):null,l=zy(n),d=l.length;l.push(i,o),a&&a.push(r,t,d,(d+1)*(s?-1:1))}function Ov(t,e,n,r,i,o){let s=e[n],a=e[M],d=a.data[n].outputs[r],h=s[d].subscribe(o);X_(t.index,a,e,i,o,h,!0)}var bf=Symbol("BINDING");var Tc=class extends Qo{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=vn(e);return new Ci(n,this.ngModule)}};function KN(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Fc.SignalBased)!==0};return i&&(o.transform=i),o})}function ZN(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function QN(t,e,n){let r=e instanceof je?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Ef(n,r):n}function JN(t){let e=t.get(qo,null);if(e===null)throw new P(407,!1);let n=t.get(Y_,null),r=t.get(mn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function XN(t,e){let n=ew(t);return I_(e,n,n==="svg"?Hy:n==="math"?Uy:null)}function ew(t){return(t.selectors[0][0]||"div").toLowerCase()}var Ci=class extends jc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=KN(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=ZN(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=NA(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){re(22);let a=x(null);try{let l=this.componentDef,d=eM(r,l,s,o),p=QN(l,i||this.ngModule,e),h=JN(p),m=h.rendererFactory.createRenderer(null,l),y=r?eN(m,r,l.encapsulation,p):XN(l,m),_=s?.some(Fv)||o?.some(T=>typeof T!="function"&&T.bindings.some(Fv)),I=jf(null,d,null,512|T_(l),null,null,h,m,p,null,m_(y,p,!0));I[He]=y,uc(I);let C=null;try{let T=Jf(He,I,2,"#host",()=>d.directiveRegistry,!0,0);y&&(D_(m,y,T),Ei(y,I)),Vc(d,I,T),Pf(d,T,I),Xf(d,T),n!==void 0&&nM(T,this.ngContentSelectors,n),C=dt(T.index,I),I[Me]=C[Me],Yf(d,I,null)}catch(T){throw C!==null&&hf(C),hf(I),T}finally{re(23),dc()}return new Sc(this.componentType,I,!!_)}finally{x(a)}}};function eM(t,e,n,r){let i=t?["ng-version","20.2.4"]:MA(e.selectors[0]),o=null,s=null,a=0;if(n)for(let p of n)a+=p[bf].requiredVars,p.create&&(p.targetIdx=0,(o??=[]).push(p)),p.update&&(p.targetIdx=0,(s??=[]).push(p));if(r)for(let p=0;p<r.length;p++){let h=r[p];if(typeof h!="function")for(let m of h.bindings){a+=m[bf].requiredVars;let y=p+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let l=[e];if(r)for(let p of r){let h=typeof p=="function"?p:p.type,m=Dd(h);l.push(m)}return Vf(0,null,tM(o,s),1,a,l,null,null,null,[i],null)}function tM(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function Fv(t){let e=t[bf].kind;return e==="input"||e==="twoWay"}var Sc=class extends q_{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=ic(n[M],He),this.location=Oc(this._tNode,n),this.instance=dt(this._tNode.index,n)[Me],this.hostView=this.changeDetectorRef=new Dn(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=qf(r,i[M],i,e,n);this.previousInputValues.set(e,n);let s=dt(r.index,i);Zf(s,1)}get injector(){return new fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function nM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Jo=(()=>{class t{static __NG_ELEMENT_ID__=rM}return t})();function rM(){let t=Pe();return oM(t,ne())}var iM=Jo,tw=class extends iM{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Oc(this._hostTNode,this._hostLView)}get injector(){return new fr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Nf(this._hostTNode,this._hostLView);if(Jv(e)){let n=Ec(e,this._hostLView),r=wc(e),i=n[M].data[r+8];return new fr(i,n)}else return new fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Lv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ue}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Nv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Sv(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let l=e&&!OS(e),d;if(l)d=n;else{let C=n||{};d=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef,s=C.directives,a=C.bindings}let p=l?e:new Ci(vn(e)),h=r||this.parentInjector;if(!o&&p.ngModule==null){let T=(l?h:this.parentInjector).get(je,null);T&&(o=T)}let m=vn(p.componentType??{}),y=Nv(this._lContainer,m?.id??null),_=y?.firstChild??null,I=p.create(h,i,_,o,s,a);return this.insertImpl(I.hostView,d,Sv(this._hostTNode,y)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if($y(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Te],d=new tw(l,l[ct],l[Te]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return AN(s,i,o,r),e.attachToViewContainerRef(),Ed(rf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Lv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=_f(this._lContainer,n);r&&(Ao(rf(this._lContainer),n),M_(r[M],r))}detach(e){let n=this._adjustIndex(e,-1),r=_f(this._lContainer,n);return r&&Ao(rf(this._lContainer),n)!=null?new Dn(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Lv(t){return t[Ro]}function rf(t){return t[Ro]||(t[Ro]=[])}function oM(t,e){let n,r=e[t.index];return mt(r)?n=r:(n=G_(r,e,null,t),e[t.index]=n,Bf(e,n)),aM(n,e,t,r),new tw(n,t,e)}function sM(t,e){let n=t[le],r=n.createComment(""),i=Ot(e,t),o=n.parentNode(i);return Dc(n,o,r,n.nextSibling(i),!1),r}var aM=uM,cM=()=>!1;function lM(t,e,n){return cM(t,e,n)}function uM(t,e,n,r){if(t[wn])return;let i;n.type&8?i=ut(r):i=sM(e,n),t[wn]=i}var Vv=new Set;function nw(t){Vv.has(t)||(Vv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var pr=class{},rw=class{};var Ac=class extends pr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Tc(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Cd(e);this._bootstrapComponents=E_(o.bootstrap),this._r3Injector=qd(e,n,[{provide:pr,useValue:this},{provide:Qo,useValue:this.componentFactoryResolver},...r],tn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Nc=class extends rw{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ac(this.moduleType,e,[])}};var Yo=class extends pr{injector;componentFactoryResolver=new Tc(this);instance=null;constructor(e){super();let n=new Xn([...e.providers,{provide:pr,useValue:this},{provide:Qo,useValue:this.componentFactoryResolver}],e.parent||No(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function iw(t,e,n=null){return new Yo({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var dM=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Td(!1,n.type),i=r.length>0?iw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Z({token:t,providedIn:"environment",factory:()=>new t(Ee(je))})}return t})();function th(t){return Ti(()=>{let e=ow(t),n=te(J({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===kf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(dM).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||bi.Emulated,styles:t.styles||et,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&nw("NgStandalone"),sw(n);let r=t.dependencies;return n.directiveDefs=jv(r,fM),n.pipeDefs=jv(r,Py),n.id=gM(n),n})}function fM(t){return vn(t)||Dd(t)}function Ni(t){return Ti(()=>({type:t.type,bootstrap:t.bootstrap||et,declarations:t.declarations||et,imports:t.imports||et,exports:t.exports||et,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function hM(t,e){if(t==null)return yn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Fc.None,l=null),n[o]=[r,a,l],e[o]=s}return n}function pM(t){if(t==null)return yn;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function vt(t){return Ti(()=>{let e=ow(t);return sw(e),e})}function ow(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||yn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||et,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:hM(t.inputs,e),outputs:pM(t.outputs),debugInfo:null}}function sw(t){t.features?.forEach(e=>e(t))}function jv(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function gM(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function mM(t){return Object.getPrototypeOf(t.prototype).constructor}function yr(t){let e=mM(t.type),n=!0,r=[t];for(;e;){let i;if(Pt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=of(t.inputs),s.declaredInputs=of(t.declaredInputs),s.outputs=of(t.outputs);let a=i.hostBindings;a&&EM(t,a);let l=i.viewQuery,d=i.contentQueries;if(l&&_M(t,l),d&&wM(t,d),yM(t,i),Ty(t.outputs,i.outputs),Pt(i)&&i.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===yr&&(n=!1)}}e=Object.getPrototypeOf(e)}vM(r)}function yM(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function vM(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wo(i.hostAttrs,n=Wo(n,i.hostAttrs))}}function of(t){return t===yn?{}:t===et?[]:t}function _M(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function wM(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function EM(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function bM(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=Wo(t.mergedAttrs,t.attrs);let p=t.tView=Vf(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),p.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),mi(t,!1);let l=CM(n,e,t,r);fc()&&$f(n,e,l,t),Ei(l,e);let d=G_(l,e,l,t);e[r+He]=d,Bf(e,d),lM(d,t,e)}function IM(t,e,n,r,i,o,s,a,l,d,p){let h=n+He,m;return e.firstCreatePass?(m=Qf(e,h,4,s||null,a||null),ac()&&K_(e,t,m,Oo(e.consts,d),zf),Zv(e,m)):m=e.data[h],bM(m,t,e,n,r,i,o,l),pi(m)&&Vc(e,t,m),d!=null&&Gf(t,m,p),m}function jt(t,e,n,r,i,o,s,a){let l=ne(),d=nt(),p=Oo(d.consts,o);return IM(l,d,t,e,n,r,i,p,void 0,s,a),jt}var CM=DM;function DM(t,e,n,r){return jo(!0),e[le].createComment("")}var nh=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(nh||{}),rh=new A(""),aw=!1,If=class extends pt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,jy()&&(this.destroyRef=D(yi,{optional:!0})??void 0,this.pendingTasks=D(Cn,{optional:!0})??void 0)}emit(e){let n=x(null);try{super.next(e)}finally{x(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ye&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},rt=If;function cw(t){let e,n;function r(){t=Ho;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Bv(t){return queueMicrotask(()=>t()),()=>{t=Ho}}var ih="isAngularZone",Mc=ih+"_ID",TM=0,pe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new rt(!1);onMicrotaskEmpty=new rt(!1);onStable=new rt(!1);onError=new rt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=aw}=e;if(typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,NM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ih)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new P(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,SM,Ho,Ho);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},SM={};function oh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function AM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){cw(()=>{t.callbackScheduled=!1,Cf(t),t.isCheckStableRunning=!0,oh(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Cf(t)}function NM(t){let e=()=>{AM(t)},n=TM++;t._inner=t._inner.fork({name:"angular",properties:{[ih]:!0,[Mc]:n,[Mc+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(MM(l))return r.invokeTask(o,s,a,l);try{return Hv(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Uv(t)}},onInvoke:(r,i,o,s,a,l,d)=>{try{return Hv(t),r.invoke(o,s,a,l,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!kM(l)&&e(),Uv(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Cf(t),oh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Cf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Hv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Uv(t){t._nesting--,oh(t)}var kc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new rt;onMicrotaskEmpty=new rt;onStable=new rt;onError=new rt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function MM(t){return lw(t,"__ignore_ng_zone__")}function kM(t){return lw(t,"__scheduler_tick__")}function lw(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var uw=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new t})}return t})();var xM=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var dw=new A("");function Mi(t){return!!t&&typeof t.then=="function"}function sh(t){return!!t&&typeof t.subscribe=="function"}var fw=new A("");var ah=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=D(fw,{optional:!0})??[];injector=D(Be);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=_n(this.injector,i);if(Mi(o))n.push(o);else if(sh(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hw=new A("");function pw(){xu(()=>{let t="";throw new P(600,t)})}function gw(t){return t.isBoundToModule}var RM=10;var ki=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=D(Ft);afterRenderManager=D(uw);zonelessEnabled=D(hc);rootEffectScheduler=D(Jd);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new pt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=D(Cn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Xt(n=>!n))}constructor(){D(rh,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=D(je);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Be.NULL){return this._injector.get(pe).run(()=>{re(10);let s=n instanceof jc;if(!this._injector.get(ah).done){let _="";throw new P(405,_)}let l;s?l=n:l=this._injector.get(Qo).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let d=gw(l)?void 0:this._injector.get(pr),p=r||l.selector,h=l.create(i,[],p,d),m=h.location.nativeElement,y=h.injector.get(dw,null);return y?.registerApplication(m),h.onDestroy(()=>{this.detachView(h.hostView),$o(this.components,h),y?.unregisterApplication(m)}),this._loadComponent(h),re(11,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){re(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(nh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new P(101,!1);let n=x(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,x(n),this.afterTick.next(),re(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(qo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<RM;)re(14),this.synchronizeOnce(),re(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Fo(i))continue;let o=r&&!this.zonelessEnabled?0:1;Kf(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Fo(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;$o(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(hw,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>$o(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new P(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $o(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var PM=new A("",{providedIn:"root",factory:()=>!1}),OM=new A("",{providedIn:"root",factory:()=>FM}),FM=4e3;var G3=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function ae(t,e,n){let r=ne(),i=cc();if(Ii(r,i,e)){let o=nt(),s=zd();R_(s,r,t,e,r[le],n)}return ae}function $v(t,e,n,r,i){qf(e,t,n,i?"class":"style",r)}function H(t,e,n,r){let i=ne(),o=i[M],s=t+He,a=o.firstCreatePass?Jf(s,i,2,e,zf,ac(),n,r):o.data[s];if(P_(a,i,t,e,LM),pi(a)){let l=i[M];Vc(l,i,a),Pf(l,a,i)}return r!=null&&Gf(i,a),H}function G(){let t=nt(),e=Pe(),n=O_(e);return t.firstCreatePass&&Xf(t,n),Jy(n)&&Xy(),Zy(),n.classesWithoutHost!=null&&HS(n)&&$v(t,n,ne(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&US(n)&&$v(t,n,ne(),n.stylesWithoutHost,!1),G}function xi(t,e,n,r){return H(t,e,n,r),G(),xi}var LM=(t,e,n,r,i)=>(jo(!0),I_(e[le],r,fv()));function Xo(t,e,n){let r=ne(),i=r[M],o=t+He,s=i.firstCreatePass?Jf(o,r,8,"ng-container",zf,ac(),e,n):i.data[o];if(P_(s,r,t,"ng-container",VM),pi(s)){let a=r[M];Vc(a,r,s),Pf(a,s,r)}return n!=null&&Gf(r,s),Xo}function es(){let t=nt(),e=Pe(),n=O_(e);return t.firstCreatePass&&Xf(t,n),es}var VM=(t,e,n,r,i)=>(jo(!0),RA(e[le],""));function Tn(){return ne()}var ts="en-US";var jM=ts;function mw(t){typeof t=="string"&&(jM=t.toLowerCase().replace(/_/g,"-"))}function ke(t,e,n){let r=ne(),i=nt(),o=Pe();return yw(i,r,r[le],o,t,e,n),ke}function yw(t,e,n,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=nf(r,e,o),qN(r,t,e,s,n,i,o,l)&&(a=!1)),a){let d=r.outputs?.[i],p=r.hostDirectiveOutputs?.[i];if(p&&p.length)for(let h=0;h<p.length;h+=2){let m=p[h],y=p[h+1];l??=nf(r,e,o),Ov(r,e,m,y,i,l)}if(d&&d.length)for(let h of d)l??=nf(r,e,o),Ov(r,e,h,i,i,l)}}function ge(t=1){return dv(t)}function gc(t,e){return t<<17|e<<2}function gr(t){return t>>17&32767}function BM(t){return(t&2)==2}function HM(t,e){return t&131071|e<<17}function Df(t){return t|2}function Di(t){return(t&131068)>>2}function sf(t,e){return t&-131069|e<<2}function UM(t){return(t&1)===1}function Tf(t){return t|1}function $M(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=gr(s),l=Di(s);t[r]=n;let d=!1,p;if(Array.isArray(n)){let h=n;p=h[1],(p===null||ui(h,p)>0)&&(d=!0)}else p=n;if(i)if(l!==0){let m=gr(t[a+1]);t[r+1]=gc(m,a),m!==0&&(t[m+1]=sf(t[m+1],r)),t[a+1]=HM(t[a+1],r)}else t[r+1]=gc(a,0),a!==0&&(t[a+1]=sf(t[a+1],r)),a=r;else t[r+1]=gc(l,0),a===0?a=r:t[l+1]=sf(t[l+1],r),l=r;d&&(t[r+1]=Df(t[r+1])),Wv(t,p,r,!0),Wv(t,p,r,!1),WM(e,p,t,r,o),s=gc(a,l),o?e.classBindings=s:e.styleBindings=s}function WM(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ui(o,e)>=0&&(n[r+1]=Tf(n[r+1]))}function Wv(t,e,n,r){let i=t[n+1],o=e===null,s=r?gr(i):Di(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],d=t[s+1];GM(l,e)&&(a=!0,t[s+1]=r?Tf(d):Df(d)),s=r?gr(d):Di(d)}a&&(t[n+1]=r?Df(i):Tf(i))}function GM(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ui(t,e)>=0:!1}function Bc(t,e,n){return vw(t,e,n,!1),Bc}function rn(t,e){return vw(t,e,null,!0),rn}function vw(t,e,n,r){let i=ne(),o=nt(),s=Ud(2);if(o.firstUpdatePass&&qM(o,t,s,r),e!==Vt&&Ii(i,s,e)){let a=o.data[bn()];JM(o,a,i,i[le],t,i[s+1]=XM(e,n),r,s)}}function zM(t,e){return e>=t.expandoStartIndex}function qM(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[bn()],s=zM(t,n);ek(o,r)&&e===null&&!s&&(e=!1),e=YM(i,o,e,r),$M(i,o,e,n,s,r)}}function YM(t,e,n,r){let i=av(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=af(null,t,e,n,r),n=Ko(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=af(i,t,e,n,r),o===null){let l=KM(t,e,r);l!==void 0&&Array.isArray(l)&&(l=af(null,t,e,l[1],r),l=Ko(l,e.attrs,r),ZM(t,e,r,l))}else o=QM(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function KM(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Di(r)!==0)return t[gr(r)]}function ZM(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[gr(i)]=r}function QM(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ko(r,s,n)}return Ko(r,e.attrs,n)}function af(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ko(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ko(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ry(t,s,n?!0:e[++o]))}return t===void 0?null:t}function JM(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,d=l[a+1],p=UM(d)?Gv(l,e,n,i,Di(d),s):void 0;if(!xc(p)){xc(o)||BM(d)&&(o=Gv(l,null,n,i,a,s));let h=Rd(bn(),n);XA(r,s,h,i,o)}}function Gv(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],d=Array.isArray(l),p=d?l[1]:l,h=p===null,m=n[i+1];m===Vt&&(m=h?et:void 0);let y=h?tc(m,r):p===r?m:void 0;if(d&&!xc(y)&&(y=tc(l,r)),xc(y)&&(a=y,s))return a;let _=t[i+1];i=s?gr(_):Di(_)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=tc(l,r))}return a}function xc(t){return t!==void 0}function XM(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=tn(Of(t)))),t}function ek(t,e){return(t.flags&(e?8:16))!==0}function ue(t,e=""){let n=ne(),r=nt(),i=t+He,o=r.firstCreatePass?Qf(r,i,1,e,null):r.data[i],s=tk(r,n,o,e,t);n[i]=s,fc()&&$f(r,n,s,o),mi(o,!1)}var tk=(t,e,n,r,i)=>(jo(!0),kA(e[le],r));function nk(t,e,n,r=""){return Ii(t,cc(),n)?e+li(n)+r:Vt}function rk(t,e,n,r,i,o=""){let s=nv(),a=zN(t,s,n,i);return Ud(2),a?e+li(n)+r+li(i)+o:Vt}function Ri(t){return Sn("",t),Ri}function Sn(t,e,n){let r=ne(),i=nk(r,t,e,n);return i!==Vt&&_w(r,bn(),i),Sn}function Hc(t,e,n,r,i){let o=ne(),s=rk(o,t,e,n,r,i);return s!==Vt&&_w(o,bn(),s),Hc}function _w(t,e,n){let r=Rd(e,t);xA(t[le],r,n)}function ww(t,e,n){Kd(e)&&(e=e());let r=ne(),i=cc();if(Ii(r,i,e)){let o=nt(),s=zd();R_(s,r,t,e,r[le],n)}return ww}function ik(t,e){let n=Kd(t);return n&&t.set(e),n}function Ew(t,e){let n=ne(),r=nt(),i=Pe();return yw(r,n,n[le],i,t,e),Ew}function ok(t,e,n){let r=nt();if(r.firstCreatePass){let i=Pt(t);Sf(n,r.data,r.blueprint,i,!0),Sf(e,r.data,r.blueprint,i,!1)}}function Sf(t,e,n,r,i){if(t=De(t),Array.isArray(t))for(let o=0;o<t.length;o++)Sf(t[o],e,n,r,i);else{let o=nt(),s=ne(),a=Pe(),l=Jn(t)?t:De(t.provide),d=Nd(t),p=a.providerIndexes&1048575,h=a.directiveStart,m=a.providerIndexes>>20;if(Jn(t)||!t.multi){let y=new hr(d,i,ie,null),_=lf(l,e,i?p:p+m,h);_===-1?(df(bc(a,s),o,l),cf(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[_]=y,s[_]=y)}else{let y=lf(l,e,p+m,h),_=lf(l,e,p,p+m),I=y>=0&&n[y],C=_>=0&&n[_];if(i&&!C||!i&&!I){df(bc(a,s),o,l);let T=ck(i?ak:sk,n.length,i,r,d,t);!i&&C&&(n[_].providerFactory=T),cf(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else{let T=bw(n[i?_:y],d,!i&&r);cf(o,t,y>-1?y:_,T)}!i&&r&&C&&n[_].componentProviders++}}}function cf(t,e,n,r){let i=Jn(e),o=Vy(e);if(i||o){let l=(o?De(e.useClass):e).prototype.ngOnDestroy;if(l){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(n);p===-1?d.push(n,[r,l]):d[p+1].push(r,l)}else d.push(n,l)}}}function bw(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function lf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function sk(t,e,n,r,i){return Af(this.multi,[])}function ak(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Ic(r,r[M],this.providerFactory.index,i);s=l.slice(0,a),Af(o,s);for(let d=a;d<l.length;d++)s.push(l[d])}else s=[],Af(o,s);return s}function Af(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function ck(t,e,n,r,i,o){let s=new hr(t,n,ie,null);return s.multi=[],s.index=e,s.componentProviders=0,bw(s,i,r&&!n),s}function Uc(t,e=[]){return n=>{n.providersResolver=(r,i)=>ok(r,i?i(t):t,e)}}var Rc=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},lk=(()=>{class t{compileModuleSync(n){return new Nc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Cd(n),o=E_(i.declarations).reduce((s,a)=>{let l=vn(a);return l&&s.push(new Ci(l)),s},[]);return new Rc(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var uk=(()=>{class t{zone=D(pe);changeDetectionScheduler=D(mn);applicationRef=D(ki);applicationErrorHandler=D(Ft);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Iw({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new pe(te(J({},Cw()),{scheduleInRootZone:n})),[{provide:pe,useFactory:t},{provide:ir,multi:!0,useFactory:()=>{let r=D(uk,{optional:!0});return()=>r.initialize()}},{provide:ir,multi:!0,useFactory:()=>{let r=D(dk);return()=>{r.initialize()}}},e===!0?{provide:Zd,useValue:!0}:[],{provide:Qd,useValue:n??aw},{provide:Ft,useFactory:()=>{let r=D(pe),i=D(je),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(er),o.handleError(s))})}}}]}function Cw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var dk=(()=>{class t{subscription=new ye;initialized=!1;zone=D(pe);pendingTasks=D(Cn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Dw=(()=>{class t{applicationErrorHandler=D(Ft);appRef=D(ki);taskService=D(Cn);ngZone=D(pe);zonelessEnabled=D(hc);tracing=D(rh,{optional:!0});disableScheduling=D(Zd,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ye;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Mc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(Qd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof kc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Bv:cw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Mc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Bv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fk(){return typeof $localize<"u"&&$localize.locale||ts}var $c=new A("",{providedIn:"root",factory:()=>D($c,{optional:!0,skipSelf:!0})||fk()});function on(t){return Iy(t)}function ns(t,e){return Ea(t,e?.equal)}var Tw=class{[Ne];constructor(e){this[Ne]=e}destroy(){this[Ne].destroy()}};var Mw=Symbol("InputSignalNode#UNSET"),Tk=te(J({},ba),{transformFn:void 0,applyValueToInputSignal(t,e){Xr(t,e)}});function kw(t,e){let n=Object.create(Tk);n.value=t,n.transformFn=e?.transform;function r(){if(Zr(n),n.value===Mw){let i=null;throw new P(-950,i)}return n.value}return r[Ne]=n,r}var Sk=new A("");Sk.__NG_ELEMENT_ID__=t=>{let e=Pe();if(e===null)throw new P(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new P(204,!1)};function Sw(t,e){return kw(t,e)}function Ak(t){return kw(Mw,t)}var P4=(Sw.required=Ak,Sw);var Pi=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},xw=new Pi("20.2.4");var ch=new A(""),Nk=new A("");function rs(t){return!t.moduleRef}function Mk(t){let e=rs(t)?t.r3Injector:t.moduleRef.injector,n=e.get(pe);return n.run(()=>{rs(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Ft),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),rs(t)){let o=()=>e.destroy(),s=t.platformInjector.get(ch);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(ch);s.add(o),t.moduleRef.onDestroy(()=>{$o(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return xk(r,n,()=>{let o=e.get(Cn),s=o.add(),a=e.get(ah);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get($c,ts);if(mw(l||ts),!e.get(Nk,!0))return rs(t)?e.get(ki):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(rs(t)){let p=e.get(ki);return t.rootComponent!==void 0&&p.bootstrap(t.rootComponent),p}else return kk?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var kk;function xk(t,e,n){try{let r=n();return Mi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Wc=null;function Rk(t=[],e){return Be.create({name:e,providers:[{provide:Ad,useValue:"platform"},{provide:ch,useValue:new Set([()=>Wc=null])},...t]})}function Pk(t=[]){if(Wc)return Wc;let e=Rk(t);return Wc=e,pw(),Ok(e),e}function Ok(t){let e=t.get(h_,null);_n(t,()=>{e?.forEach(n=>n())})}function hh(){return!1}var ph=(()=>{class t{static __NG_ELEMENT_ID__=Fk}return t})();function Fk(t){return Lk(Pe(),ne(),(t&16)===16)}function Lk(t,e,n){if(En(t)&&!n){let r=dt(t.index,e);return new Dn(r,r)}else if(t.type&175){let r=e[lt];return new Dn(r,e)}return null}var lh=class{constructor(){}supports(e){return eh(e)}create(e){return new uh(e)}},Vk=(t,e)=>e,uh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Vk}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Aw(r,i,o)?n:r,a=Aw(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,p=l-i;if(d!=p){for(let m=0;m<d;m++){let y=m<o.length?o[m]:o[m]=0,_=y+m;p<=_&&_<d&&(o[m]=y+1)}let h=s.previousIndex;o[h]=p-d}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!eh(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Q_(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new dh(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Gc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Gc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},dh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},fh=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Gc=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new fh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Aw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Nw(){return new gh([new lh])}var gh=(()=>{class t{factories;static \u0275prov=Z({token:t,providedIn:"root",factory:Nw});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=D(t,{optional:!0,skipSelf:!0});return t.create(n,r||Nw())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new P(901,!1)}}return t})();function O4(t){re(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Pk(r),o=[Iw({}),{provide:mn,useExisting:Dw},gv,...n||[]],s=new Yo({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Mk({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{re(9)}}function Rw(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Fw=null;function vr(){return Fw}function jk(t){Fw??=t}var mh=class{},yh=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>D(Lw),providedIn:"platform"})}return t})();var Lw=(()=>{class t extends yh{_location;_history;_doc=D(Bo);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vr().getBaseHref(this._doc)}onPopState(n){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Vw(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Pw(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function An(t){return t&&t[0]!=="?"?`?${t}`:t}var zc=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:()=>D(Bw),providedIn:"root"})}return t})(),jw=new A(""),Bw=(()=>{class t extends zc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??D(Bo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Vw(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+An(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+An(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+An(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Ee(yh),Ee(jw,8))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hw=(()=>{class t{_subject=new pt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Uk(Pw(Ow(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+An(r))}normalize(n){return t.stripTrailingSlash(Hk(this._basePath,Ow(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+An(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+An(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=An;static joinWithSlash=Vw;static stripTrailingSlash=Pw;static \u0275fac=function(r){return new(r||t)(Ee(zc))};static \u0275prov=Z({token:t,factory:()=>Bk(),providedIn:"root"})}return t})();function Bk(){return new Hw(Ee(zc))}function Hk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Ow(t){return t.replace(/\/index.html$/,"")}function Uk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var vh=/\s+/,Uw=[],_h=(()=>{class t{_ngEl;_renderer;initialClasses=Uw;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(vh):Uw}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(vh):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(vh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(ie(mr),ie(Ai))};static \u0275dir=vt({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var qc=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Kc=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new qc(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),$w(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);$w(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(ie(Jo),ie(Zo),ie(gh))};static \u0275dir=vt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function $w(t,e){t.context.$implicit=e.item}var wh=(()=>{class t{_viewContainer;_context=new Yc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Ww(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Ww(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(ie(Jo),ie(Zo))};static \u0275dir=vt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Yc=class{$implicit=null;ngIf=null};function Ww(t,e){if(t&&!t.createEmbeddedView)throw new P(2020,!1)}var Eh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ni({type:t});static \u0275inj=nr({})}return t})();function $k(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var bh=class{};var d7="browser";var Jw=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(ie(Ai),ie(mr))};static \u0275dir=vt({type:t})}return t})(),Gk=(()=>{class t extends Jw{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Mf(t)))(i||t)}})();static \u0275dir=vt({type:t,features:[yr]})}return t})(),Xw=new A("");var zk={provide:Xw,useExisting:tr(()=>eE),multi:!0};function qk(){let t=vr()?vr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Yk=new A(""),eE=(()=>{class t extends Jw{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!qk())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(ie(Ai),ie(mr),ie(Yk,8))};static \u0275dir=vt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ke("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Uc([zk]),yr]})}return t})();var Kk=new A(""),Zk=new A("");function tE(t){return t!=null}function nE(t){return Mi(t)?kt(t):t}function rE(t){let e={};return t.forEach(n=>{e=n!=null?J(J({},e),n):e}),Object.keys(e).length===0?null:e}function iE(t,e){return e.map(n=>n(t))}function Qk(t){return!t.validate}function oE(t){return t.map(e=>Qk(e)?e:n=>e.validate(n))}function Jk(t){if(!t)return null;let e=t.filter(tE);return e.length==0?null:function(n){return rE(iE(n,e))}}function sE(t){return t!=null?Jk(oE(t)):null}function Xk(t){if(!t)return null;let e=t.filter(tE);return e.length==0?null:function(n){let r=iE(n,e).map(nE);return Ku(r).pipe(Xt(rE))}}function aE(t){return t!=null?Xk(oE(t)):null}function Gw(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ex(t){return t._rawValidators}function tx(t){return t._rawAsyncValidators}function Ih(t){return t?Array.isArray(t)?t:[t]:[]}function Qc(t,e){return Array.isArray(t)?t.includes(e):t===e}function zw(t,e){let n=Ih(e);return Ih(t).forEach(i=>{Qc(n,i)||n.push(i)}),n}function qw(t,e){return Ih(e).filter(n=>!Qc(t,n))}var Jc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=aE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ch=class extends Jc{name;get formDirective(){return null}get path(){return null}},cs=class extends Jc{_parent=null;name=null;valueAccessor=null},Dh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},nx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},x7=te(J({},nx),{"[class.ng-submitted]":"isSubmitted"}),R7=(()=>{class t extends Dh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ie(cs,2))};static \u0275dir=vt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&rn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[yr]})}return t})();var is="VALID",Zc="INVALID",Fi="PENDING",os="DISABLED",Vi=class{},Xc=class extends Vi{value;source;constructor(e,n){super(),this.value=e,this.source=n}},ss=class extends Vi{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},as=class extends Vi{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Li=class extends Vi{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function rx(t){return(el(t)?t.validators:t)||null}function ix(t){return Array.isArray(t)?sE(t):t||null}function ox(t,e){return(el(e)?e.asyncValidators:t)||null}function sx(t){return Array.isArray(t)?aE(t):t||null}function el(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Th=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return on(this.statusReactive)}set status(e){on(()=>this.statusReactive.set(e))}_status=ns(()=>this.statusReactive());statusReactive=dr(void 0);get valid(){return this.status===is}get invalid(){return this.status===Zc}get pending(){return this.status==Fi}get disabled(){return this.status===os}get enabled(){return this.status!==os}errors;get pristine(){return on(this.pristineReactive)}set pristine(e){on(()=>this.pristineReactive.set(e))}_pristine=ns(()=>this.pristineReactive());pristineReactive=dr(!0);get dirty(){return!this.pristine}get touched(){return on(this.touchedReactive)}set touched(e){on(()=>this.touchedReactive.set(e))}_touched=ns(()=>this.touchedReactive());touchedReactive=dr(!1);get untouched(){return!this.touched}_events=new pt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(zw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qw(e,this._rawAsyncValidators))}hasValidator(e){return Qc(this._rawValidators,e)}hasAsyncValidator(e){return Qc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(te(J({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new as(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new as(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(te(J({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ss(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ss(!0,r))}markAsPending(e={}){this.status=Fi;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Li(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(te(J({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=os,this.errors=null,this._forEachChild(i=>{i.disable(te(J({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xc(this.value,r)),this._events.next(new Li(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(J({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=is,this._forEachChild(r=>{r.enable(te(J({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(te(J({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===is||this.status===Fi)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xc(this.value,n)),this._events.next(new Li(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(te(J({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?os:is}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Fi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=nE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Li(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new rt,this.statusChanges=new rt}_calculateStatus(){return this._allControlsDisabled()?os:this.errors?Zc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fi)?Fi:this._anyControlsHaveStatus(Zc)?Zc:is}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ss(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new as(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){el(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=ix(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=sx(this._rawAsyncValidators)}};var cE=new A("",{providedIn:"root",factory:()=>Sh}),Sh="always";function ax(t,e){return[...e.path,t]}function cx(t,e,n=Sh){ux(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),dx(t,e),hx(t,e),fx(t,e),lx(t,e)}function Yw(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function lx(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function ux(t,e){let n=ex(t);e.validator!==null?t.setValidators(Gw(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=tx(t);e.asyncValidator!==null?t.setAsyncValidators(Gw(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Yw(e._rawValidators,i),Yw(e._rawAsyncValidators,i)}function dx(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&lE(t,e)})}function fx(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&lE(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function lE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function hx(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function px(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function gx(t){return Object.getPrototypeOf(t.constructor)===Gk}function mx(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===eE?n=o:gx(o)?r=o:i=o}),i||r||n||null}function Kw(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Zw(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var yx=class extends Th{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(rx(n),ox(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),el(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Zw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Kw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Kw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Zw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var vx={provide:cs,useExisting:tr(()=>_x)},Qw=Promise.resolve(),_x=(()=>{class t extends cs{_changeDetectorRef;callSetDisabledState;control=new yx;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new rt;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=mx(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),px(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){cx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Qw.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Rw(r);Qw.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?ax(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(ie(Ch,9),ie(Kk,10),ie(Zk,10),ie(Xw,10),ie(ph,8),ie(cE,8))};static \u0275dir=vt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Uc([vx]),yr,Pc]})}return t})();var wx=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ni({type:t});static \u0275inj=nr({})}return t})();var uE=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:cE,useValue:n.callSetDisabledState??Sh}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ni({type:t});static \u0275inj=nr({imports:[wx]})}return t})();var Qs=s0(dE());var fE=()=>{};var Mh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var E=function(t,e){if(!t)throw _r(e)},_r=function(t){return new Error("Firebase Database ("+Mh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var gE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ex=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Hi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,d=l?t[i+2]:0,p=o>>2,h=(o&3)<<4|a>>4,m=(a&15)<<2|d>>6,y=d&63;l||(y=64,s||(m=64)),r.push(n[p],n[h],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ex(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||d==null||h==null)throw new kh;let m=o<<2|a>>4;if(r.push(m),d!==64){let y=a<<4&240|d>>2;if(r.push(y),h!==64){let _=d<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},kh=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Rh=function(t){let e=gE(t);return Hi.encodeByteArray(e,!0)},us=function(t){return Rh(t).replace(/\./g,"")},ji=function(t){try{return Hi.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mE(t){return yE(void 0,t)}function yE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!bx(n)||(t[n]=yE(t[n],e[n]));return t}function bx(t){return t!=="__proto__"}function vE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Ix=()=>vE().__FIREBASE_DEFAULTS__,Cx=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Dx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ji(t[1]);return e&&JSON.parse(e)},Ph=()=>{try{return fE()||Ix()||Cx()||Dx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_E=t=>{var e,n;return(n=(e=Ph())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wE=t=>{let e=_E(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Oh=()=>{var t;return(t=Ph())===null||t===void 0?void 0:t.config},EE=t=>{var e;return(e=Ph())===null||e===void 0?void 0:e[`_${t}`]};var _t=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function wr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function Fh(t){return w(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function bE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[us(JSON.stringify(n)),us(JSON.stringify(s)),""].join(".")}var ls={};function Tx(){let t={prod:[],emulator:[]};for(let e of Object.keys(ls))ls[e]?t.emulator.push(e):t.prod.push(e);return t}function Sx(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var hE=!1;function Lh(t,e){if(typeof window>"u"||typeof document>"u"||!wr(window.location.host)||ls[t]===e||ls[t]||hE)return;ls[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=Tx().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{hE=!0,s()},m}function p(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){let m=Sx(r),y=n("text"),_=document.getElementById(y)||document.createElement("span"),I=n("learnmore"),C=document.getElementById(I)||document.createElement("a"),T=n("preprendIcon"),Re=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Ye=m.element;a(Ye),p(C,I);let Qt=d();l(Re,T),Ye.append(Re,_,C,Qt),document.body.appendChild(Ye)}o?(_.innerText="Preview backend disconnected.",Re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ds(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function IE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CE(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nl(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ut(){return Mh.NODE_CLIENT===!0||Mh.NODE_ADMIN===!0}function rl(){try{return typeof indexedDB=="object"}catch{return!1}}function DE(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var Ax="FirebaseError",Ht=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ax,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}},wt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Nx(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ht(i,a,r)}};function Nx(t,e){return t.replace(Mx,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Mx=/\{\$([^}]+)}/g;function Bi(t){return JSON.parse(t)}function _e(t){return JSON.stringify(t)}var TE=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=Bi(ji(o[0])||""),n=Bi(ji(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var SE=function(t){let e=TE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},AE=function(t){let e=TE(t).claims;return typeof e=="object"&&e.admin===!0};function $t(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Er(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function il(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fs(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function br(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(pE(o)&&pE(s)){if(!br(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function pE(t){return t!==null&&typeof t=="object"}function hs(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var tl=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){let m=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(m<<1|m>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],d,p;for(let h=0;h<80;h++){h<40?h<20?(d=a^o&(s^a),p=1518500249):(d=o^s^a,p=1859775393):h<60?(d=o&s|a&(o|s),p=2400959708):(d=o^s^a,p=3395469782);let m=(i<<5|i>>>27)+d+l+p+r[h]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=m}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function NE(t,e){let n=new xh(t,e);return n.subscribe.bind(n)}var xh=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Nh),i.error===void 0&&(i.error=Nh),i.complete===void 0&&(i.complete=Nh);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function kx(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nh(){}function ol(t,e){return`${t} failed: ${e} argument `}var ME=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,E(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ps=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var j7=14400*1e3;function it(t){return t&&t._delegate?t._delegate:t}var Oe=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ir="[DEFAULT]";var sl=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new _t;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Rx(e))try{this.getOrInitializeService({instanceIdentifier:Ir})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ir){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ir){return this.instances.has(e)}getOptions(e=Ir){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ir){return this.component?this.component.multipleInstances?e:Ir:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function xx(t){return t===Ir?void 0:t}function Rx(t){return t.instantiationMode==="EAGER"}var gs=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new sl(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Px=[],X=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(X||{}),Ox={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},Fx=X.INFO,Lx={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},Vx=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Lx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Wt=class{constructor(e){this.name=e,this._logLevel=Fx,this._logHandler=Vx,this._userLogHandler=null,Px.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in X))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ox[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...e),this._logHandler(this,X.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...e),this._logHandler(this,X.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,X.INFO,...e),this._logHandler(this,X.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,X.WARN,...e),this._logHandler(this,X.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...e),this._logHandler(this,X.ERROR,...e)}};var jx=(t,e)=>e.some(n=>t instanceof n),kE,xE;function Bx(){return kE||(kE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hx(){return xE||(xE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var RE=new WeakMap,jh=new WeakMap,PE=new WeakMap,Vh=new WeakMap,Hh=new WeakMap;function Ux(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Gt(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&RE.set(n,t)}).catch(()=>{}),Hh.set(e,t),e}function $x(t){if(jh.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});jh.set(t,e)}var Bh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OE(t){Bh=t(Bh)}function Wx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(al(this),e,...n);return PE.set(r,e.sort?e.sort():[e]),Gt(r)}:Hx().includes(t)?function(...e){return t.apply(al(this),e),Gt(RE.get(this))}:function(...e){return Gt(t.apply(al(this),e))}}function Gx(t){return typeof t=="function"?Wx(t):(t instanceof IDBTransaction&&$x(t),jx(t,Bx())?new Proxy(t,Bh):t)}function Gt(t){if(t instanceof IDBRequest)return Ux(t);if(Vh.has(t))return Vh.get(t);let e=Gx(t);return e!==t&&(Vh.set(t,e),Hh.set(e,t)),e}var al=t=>Hh.get(t);function LE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Gt(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Gt(s.result),l.oldVersion,l.newVersion,Gt(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var zx=["get","getKey","getAll","getAllKeys","count"],qx=["put","add","delete","clear"],Uh=new Map;function FE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uh.get(e))return Uh.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=qx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zx.includes(n)))return;let o=function(s,...a){return w(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),d=l.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[n](...a),i&&l.done]))[0]})};return Uh.set(e,o),o}OE(t=>te(J({},t),{get:(e,n,r)=>FE(e,n)||t.get(e,n,r),has:(e,n)=>!!FE(e,n)||t.has(e,n)}));var Wh=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Yx(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Yx(t){let e=t.getComponent();return e?.type==="VERSION"}var Gh="@firebase/app",VE="0.13.2";var sn=new Wt("@firebase/app"),Kx="@firebase/app-compat",Zx="@firebase/analytics-compat",Qx="@firebase/analytics",Jx="@firebase/app-check-compat",Xx="@firebase/app-check",eR="@firebase/auth",tR="@firebase/auth-compat",nR="@firebase/database",rR="@firebase/data-connect",iR="@firebase/database-compat",oR="@firebase/functions",sR="@firebase/functions-compat",aR="@firebase/installations",cR="@firebase/installations-compat",lR="@firebase/messaging",uR="@firebase/messaging-compat",dR="@firebase/performance",fR="@firebase/performance-compat",hR="@firebase/remote-config",pR="@firebase/remote-config-compat",gR="@firebase/storage",mR="@firebase/storage-compat",yR="@firebase/firestore",vR="@firebase/ai",_R="@firebase/firestore-compat",wR="firebase",ER="11.10.0";var zh="[DEFAULT]",bR={[Gh]:"fire-core",[Kx]:"fire-core-compat",[Qx]:"fire-analytics",[Zx]:"fire-analytics-compat",[Xx]:"fire-app-check",[Jx]:"fire-app-check-compat",[eR]:"fire-auth",[tR]:"fire-auth-compat",[nR]:"fire-rtdb",[rR]:"fire-data-connect",[iR]:"fire-rtdb-compat",[oR]:"fire-fn",[sR]:"fire-fn-compat",[aR]:"fire-iid",[cR]:"fire-iid-compat",[lR]:"fire-fcm",[uR]:"fire-fcm-compat",[dR]:"fire-perf",[fR]:"fire-perf-compat",[hR]:"fire-rc",[pR]:"fire-rc-compat",[gR]:"fire-gcs",[mR]:"fire-gcs-compat",[yR]:"fire-fst",[_R]:"fire-fst-compat",[vR]:"fire-vertex","fire-js":"fire-js",[wR]:"fire-js-all"};var ms=new Map,IR=new Map,qh=new Map;function jE(t,e){try{t.container.addComponent(e)}catch(n){sn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bt(t){let e=t.name;if(qh.has(e))return sn.debug(`There were multiple attempts to register component ${e}.`),!1;qh.set(e,t);for(let n of ms.values())jE(n,t);for(let n of IR.values())jE(n,t);return!0}function cl(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function an(t){return t==null?!1:t.settings!==void 0}var CR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nn=new wt("app","Firebase",CR);var Yh=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nn.create("app-deleted",{appName:this._name})}};var Ui=ER;function Qh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:zh,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Nn.create("bad-app-name",{appName:String(i)});if(n||(n=Oh()),!n)throw Nn.create("no-options");let o=ms.get(i);if(o){if(br(n,o.options)&&br(r,o.config))return o;throw Nn.create("duplicate-app",{appName:i})}let s=new gs(i);for(let l of qh.values())s.addComponent(l);let a=new Yh(n,r,s);return ms.set(i,a),a}function $i(t=zh){let e=ms.get(t);if(!e&&t===zh&&Oh())return Qh();if(!e)throw Nn.create("no-app",{appName:t});return e}function ll(){return Array.from(ms.values())}function me(t,e,n){var r;let i=(r=bR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sn.warn(a.join(" "));return}bt(new Oe(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var DR="firebase-heartbeat-database",TR=1,ys="firebase-heartbeat-store",$h=null;function $E(){return $h||($h=LE(DR,TR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ys)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nn.create("idb-open",{originalErrorMessage:t.message})})),$h}function SR(t){return w(this,null,function*(){try{let n=(yield $E()).transaction(ys),r=yield n.objectStore(ys).get(WE(t));return yield n.done,r}catch(e){if(e instanceof Ht)sn.warn(e.message);else{let n=Nn.create("idb-get",{originalErrorMessage:e?.message});sn.warn(n.message)}}})}function BE(t,e){return w(this,null,function*(){try{let r=(yield $E()).transaction(ys,"readwrite");yield r.objectStore(ys).put(e,WE(t)),yield r.done}catch(n){if(n instanceof Ht)sn.warn(n.message);else{let r=Nn.create("idb-set",{originalErrorMessage:n?.message});sn.warn(r.message)}}})}function WE(t){return`${t.name}!${t.options.appId}`}var AR=1024,NR=30,Kh=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Zh(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=HE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>NR){let s=kR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){sn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=HE(),{heartbeatsToSend:r,unsentEntries:i}=MR(this._heartbeatsCache.heartbeats),o=us(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return sn.warn(n),""}})}};function HE(){return new Date().toISOString().substring(0,10)}function MR(t,e=AR){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),UE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),UE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Zh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return rl()?DE().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield SR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return BE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return BE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function UE(t){return us(JSON.stringify({version:2,heartbeats:t})).length}function kR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function xR(t){bt(new Oe("platform-logger",e=>new Wh(e),"PRIVATE")),bt(new Oe("heartbeat",e=>new Kh(e),"PRIVATE")),me(Gh,VE,t),me(Gh,VE,"esm2017"),me("fire-js","")}xR("");var RR="firebase",PR="11.10.0";me(RR,PR,"app");function GE(t){t===void 0&&(t=D(Be));let e=t.get(vi);return n=>new R(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Dr=new Pi("ANGULARFIRE2_VERSION");function dl(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Gi=(t,e)=>{let n=e?[e]:ll(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Wi=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(Wi||{}),zE=hh()&&typeof Zone<"u"?Wi.WARN:Wi.SILENT;var ul=class{zone;delegate;constructor(e,n=qu){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Tr=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=D(pe);this.outsideAngular=n.runOutsideAngular(()=>new ul(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new ul(typeof Zone>"u"?void 0:Zone.current,zu))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qE=!1;function OR(t,e){!qE&&(zE>Wi.SILENT||hh())&&(qE=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),zE>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function FR(t){let e=D(pe,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Cr(t){let e=D(pe,{optional:!0});return e?e.run(()=>t()):t()}var LR=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),_n(n,()=>Cr(()=>t.apply(void 0,r)))),It=(t,e,n)=>(n||=e?Wi.WARN:Wi.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=D(Tr),s=D(vi),a=D(je)}catch{return OR(t,n),t.apply(this,i)}for(let d=0;d<arguments.length;d++)typeof i[d]=="function"&&(e&&(r||=Cr(()=>s.add())),i[d]=LR(i[d],r,a));let l=FR(()=>t.apply(this,i));return e?l instanceof R?l.pipe(pn(o.outsideAngular),hn(o.insideAngular),GE(a)):l instanceof Promise?Cr(()=>{let d=s.add();return new Promise((p,h)=>{l.then(m=>_n(a,()=>Cr(()=>p(m))),m=>_n(a,()=>Cr(()=>h(m)))).finally(d)})}):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:Cr(()=>l):l instanceof R?l.pipe(pn(o.outsideAngular),hn(o.insideAngular)):Cr(()=>l)});var Sr=class{constructor(e){return e}},vs=class{constructor(){return ll()}};function VR(t){return t&&t.length===1?t[0]:new Sr($i())}var Jh=new A("angularfire2._apps"),jR={provide:Sr,useFactory:VR,deps:[[new nn,Jh]]},BR={provide:vs,deps:[[new nn,Jh]]};function HR(t){return(e,n)=>{let r=n.get(xf);me("angularfire",Dr.full,"core"),me("angularfire",Dr.full,"app"),me("angular",xw.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Sr(i)}}function P9(t,...e){return di([jR,BR,{provide:Jh,useFactory:HR(t),multi:!0,deps:[pe,Be,Tr,...e]}])}var O9=It(Qh,!0);var UR=new Map,$R={activated:!1,tokenObservers:[]},WR={initialized:!1,enabled:!1};function Ct(t){return UR.get(t)||Object.assign({},$R)}function QE(){return WR}var GR="https://content-firebaseappcheck.googleapis.com/v1";var zR="exchangeDebugToken",YE={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},W9=1440*60*1e3;var tp=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return w(this,null,function*(){this.stop();try{this.pending=new _t,this.pending.promise.catch(n=>{}),yield qR(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new _t,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function qR(t){return new Promise(e=>{setTimeout(e,t)})}var YR={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Mn=new wt("appCheck","AppCheck",YR);function JE(t){if(!Ct(t).activated)throw Mn.create("use-before-activation",{appName:t.name})}function XE(r,i){return w(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(t,a)}catch(y){throw Mn.create("fetch-network-error",{originalErrorMessage:y?.message})}if(l.status!==200)throw Mn.create("fetch-status-error",{httpStatus:l.status});let d;try{d=yield l.json()}catch(y){throw Mn.create("fetch-parse-error",{originalErrorMessage:y?.message})}let p=d.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Mn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});let h=Number(p[1])*1e3,m=Date.now();return{token:d.token,expireTimeMillis:m+h,issuedAtTimeMillis:m}})}function eb(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${GR}/projects/${n}/apps/${r}:${zR}?key=${i}`,body:{debug_token:e}}}var KR="firebase-app-check-database",ZR=1,np="firebase-app-check-store";var fl=null;function QR(){return fl||(fl=new Promise((t,e)=>{try{let n=indexedDB.open(KR,ZR);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Mn.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(np,{keyPath:"compositeKey"})}}}catch(n){e(Mn.create("storage-open",{originalErrorMessage:n?.message}))}}),fl)}function JR(t,e){return XR(eP(t),e)}function XR(t,e){return w(this,null,function*(){let r=(yield QR()).transaction(np,"readwrite"),o=r.objectStore(np).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var d;a(Mn.create("storage-set",{originalErrorMessage:(d=l.target.error)===null||d===void 0?void 0:d.message}))}})})}function eP(t){return`${t.options.appId}-${t.name}`}var _s=new Wt("@firebase/app-check");function Xh(t,e){return rl()?JR(t,e).catch(n=>{_s.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function tb(){return QE().enabled}function nb(){return w(this,null,function*(){let t=QE();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var tP={error:"UNKNOWN_ERROR"};function nP(t){return Hi.encodeString(JSON.stringify(t),!1)}function rp(t,e=!1,n=!1){return w(this,null,function*(){let r=t.app;JE(r);let i=Ct(r),o=i.token,s;if(o&&!ws(o)&&(i.token=void 0,o=void 0),!o){let d=yield i.cachedTokenPromise;d&&(ws(d)?o=d:yield Xh(r,void 0))}if(!e&&o&&ws(o))return{token:o.token};let a=!1;if(tb())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=XE(eb(r,yield nb()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let d=yield i.exchangeTokenPromise;return yield Xh(r,d),i.token=d,{token:d.token}}catch(d){return d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?_s.warn(d.message):n&&_s.error(d),ep(d)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Ct(r).exchangeTokenPromise}catch(d){d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?_s.warn(d.message):n&&_s.error(d),s=d}let l;return o?s?ws(o)?l={token:o.token,internalError:s}:l=ep(s):(l={token:o.token},i.token=o,yield Xh(r,o)):l=ep(s),a&&sP(r,l),l})}function rP(t){return w(this,null,function*(){let e=t.app;JE(e);let{provider:n}=Ct(e);if(tb()){let r=yield nb(),{token:i}=yield XE(eb(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function iP(t,e,n,r){let{app:i}=t,o=Ct(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ws(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),KE(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>KE(t))}function rb(t,e){let n=Ct(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function KE(t){let{app:e}=t,n=Ct(e),r=n.tokenRefresher;r||(r=oP(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function oP(t){let{app:e}=t;return new tp(()=>w(null,null,function*(){let n=Ct(e),r;if(n.token?r=yield rp(t,!0):r=yield rp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Ct(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},YE.RETRIAL_MIN_WAIT,YE.RETRIAL_MAX_WAIT)}function sP(t,e){let n=Ct(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ws(t){return t.expireTimeMillis-Date.now()>0}function ep(t){return{token:nP(tP),error:t}}var ip=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Ct(this.app);for(let n of e)rb(this.app,n.next);return Promise.resolve()}};function aP(t,e){return new ip(t,e)}function cP(t){return{getToken:e=>rp(t,e),getLimitedUseToken:()=>rP(t),addTokenListener:e=>iP(t,"INTERNAL",e),removeTokenListener:e=>rb(t.app,e)}}var lP="@firebase/app-check",uP="0.10.1";var dP="app-check",ZE="app-check-internal";function fP(){bt(new Oe(dP,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return aP(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(ZE).initialize()})),bt(new Oe(ZE,t=>{let e=t.getProvider("app-check").getImmediate();return cP(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),me(lP,uP)}fP();var hP="app-check";var hl=class{constructor(){return Gi(hP)}};var pP=["localhost","0.0.0.0","127.0.0.1"],rY=typeof window<"u"&&pP.includes(window.location.hostname);function db(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var fb=db,hb=new wt("auth","Firebase",db());var yl=new Wt("@firebase/auth");function gP(t,...e){yl.logLevel<=X.WARN&&yl.warn(`Auth (${Ui}): ${t}`,...e)}function gl(t,...e){yl.logLevel<=X.ERROR&&yl.error(`Auth (${Ui}): ${t}`,...e)}function ib(t,...e){throw mp(t,...e)}function gp(t,...e){return mp(t,...e)}function pb(t,e,n){let r=Object.assign(Object.assign({},fb()),{[e]:n});return new wt("auth","Firebase",r).create(e,{appName:t.name})}function ml(t){return pb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mp(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hb.create(t,...e)}function Y(t,e,...n){if(!t)throw mp(e,...n)}function Es(t){let e="INTERNAL ASSERTION FAILED: "+t;throw gl(e),new Error(e)}function vl(t,e){t||Es(e)}function mP(){return ob()==="http:"||ob()==="https:"}function ob(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function yP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mP()||CE()||"connection"in navigator)?navigator.onLine:!0}function vP(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Mr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,vl(n>e,"Short delay should be less than long delay!"),this.isMobile=ds()||nl()}get(){return yP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function _P(t,e){vl(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var _l=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var wP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var EP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bP=new Mr(3e4,6e4);function gb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Cl(o,s,a,l){return w(this,arguments,function*(t,e,n,r,i={}){return mb(t,i,()=>w(null,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let h=hs(Object.assign({key:t.config.apiKey},p)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},d);return IE()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&wr(t.emulatorConfig.host)&&(y.credentials="include"),_l.fetch()(yield yb(t,t.config.apiHost,n,h),y)}))})}function mb(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},wP),e);try{let i=new ap(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw pl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw pl(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw pl(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw pl(t,"user-disabled",s);let p=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw pb(t,p,d);ib(t,p)}}catch(i){if(i instanceof Ht)throw i;ib(t,"network-request-failed",{message:String(i)})}})}function yb(t,e,n,r){return w(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?_P(t.config,i):`${t.config.apiScheme}://${i}`;return EP.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var ap=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gp(this.auth,"network-request-failed")),bP.get())})}};function pl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=gp(t,e,r);return i.customData._tokenResponse=n,i}function IP(t,e){return w(this,null,function*(){return Cl(t,"POST","/v1/accounts:delete",e)})}function wl(t,e){return w(this,null,function*(){return Cl(t,"POST","/v1/accounts:lookup",e)})}function bs(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yp(t,e=!1){return w(this,null,function*(){let n=it(t),r=yield n.getIdToken(e),i=vb(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:bs(op(i.auth_time)),issuedAtTime:bs(op(i.iat)),expirationTime:bs(op(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function op(t){return Number(t)*1e3}function vb(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gl("JWT malformed, contained fewer than 3 sections"),null;try{let i=ji(n);return i?JSON.parse(i):(gl("Failed to decode base64 JWT payload"),null)}catch(i){return gl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function sb(t){let e=vb(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function cp(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ht&&CP(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function CP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var lp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Cs=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bs(this.lastLoginAt),this.creationTime=bs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function El(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield cp(t,wl(n,{idToken:r}));Y(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?_b(o.providerUserInfo):[],a=DP(t.providerData,s),l=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!a?.length,p=l?d:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Cs(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,h)})}function vp(t){return w(this,null,function*(){let e=it(t);yield El(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function DP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _b(t){return t.map(e=>{var{providerId:n}=e,r=Yu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function TP(t,e){return w(this,null,function*(){let n=yield mb(t,{},()=>w(null,null,function*(){let r=hs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield yb(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:r};return t.emulatorConfig&&wr(t.emulatorConfig.host)&&(l.credentials="include"),_l.fetch()(s,l)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function SP(t,e){return w(this,null,function*(){return Cl(t,"POST","/v2/accounts:revokeToken",gb(t,e))})}var Is=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");let n=sb(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield TP(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Es("not implemented")}};function kn(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ar=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Yu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cs(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield cp(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return yp(this,e)}reload(){return vp(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield El(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(an(this.auth.app))return Promise.reject(ml(this.auth));let e=yield this.getIdToken();return yield cp(this,IP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,d,p;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(s=n.photoURL)!==null&&s!==void 0?s:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(d=n.createdAt)!==null&&d!==void 0?d:void 0,Re=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:Ye,emailVerified:Qt,isAnonymous:Fn,providerData:Ln,stsTokenManager:ln}=n;Y(Ye&&ln,e,"internal-error");let so=Is.fromJSON(this.name,ln);Y(typeof Ye=="string",e,"internal-error"),kn(h,e.name),kn(m,e.name),Y(typeof Qt=="boolean",e,"internal-error"),Y(typeof Fn=="boolean",e,"internal-error"),kn(y,e.name),kn(_,e.name),kn(I,e.name),kn(C,e.name),kn(T,e.name),kn(Re,e.name);let we=new t({uid:Ye,auth:e,email:m,emailVerified:Qt,displayName:h,isAnonymous:Fn,photoURL:_,phoneNumber:y,tenantId:I,stsTokenManager:so,createdAt:T,lastLoginAt:Re});return Ln&&Array.isArray(Ln)&&(we.providerData=Ln.map(Vn=>Object.assign({},Vn))),C&&(we._redirectEventId=C),we}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Is;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield El(o),o})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];Y(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?_b(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Is;a.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Cs(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,d),l})}};var ab=new Map;function Nr(t){vl(t instanceof Function,"Expected a class definition");let e=ab.get(t);return e?(vl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ab.set(t,e),e)}var AP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),up=AP;function sp(t,e,n){return`firebase:${t}:${e}:${n}`}var bl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=sp(this.userKey,i.apiKey,o),this.fullPersistenceKey=sp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield wl(this.auth,{idToken:e}).catch(()=>{});return n?Ar._fromGetAccountInfoResponse(this.auth,n,e):null}return Ar._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Nr(up),e,r);let i=(yield Promise.all(n.map(d=>w(null,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||Nr(up),s=sp(r,e.config.apiKey,e.name),a=null;for(let d of n)try{let p=yield d._get(s);if(p){let h;if(typeof p=="string"){let m=yield wl(e,{idToken:p}).catch(()=>{});if(!m)break;h=yield Ar._fromGetAccountInfoResponse(e,m,p)}else h=Ar._fromJSON(e,p);d!==o&&(a=h),o=d;break}}catch{}let l=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new t(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(d=>w(null,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new t(o,e,r))})}};function cb(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PP(e))return"Blackberry";if(OP(e))return"Webos";if(MP(e))return"Safari";if((e.includes("chrome/")||kP(e))&&!e.includes("edge/"))return"Chrome";if(RP(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function NP(t=Et()){return/firefox\//i.test(t)}function MP(t=Et()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kP(t=Et()){return/crios\//i.test(t)}function xP(t=Et()){return/iemobile/i.test(t)}function RP(t=Et()){return/android/i.test(t)}function PP(t=Et()){return/blackberry/i.test(t)}function OP(t=Et()){return/webos/i.test(t)}function wb(t,e=[]){let n;switch(t){case"Browser":n=cb(Et());break;case"Worker":n=`${cb(Et())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ui}/${r}`}var dp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function FP(n){return w(this,arguments,function*(t,e={}){return Cl(t,"GET","/v2/passwordPolicy",gb(t,e))})}var LP=6,fp=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:LP,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var hp=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Il(this),this.idTokenSubscription=new Il(this),this.beforeStateQueue=new dp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield bl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield wl(this,{idToken:e}),r=yield Ar._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(an(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield El(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=vP()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(an(this.app))return Promise.reject(ml(this));let n=e?it(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return an(this.app)?Promise.reject(ml(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return an(this.app)?Promise.reject(ml(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Nr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield FP(this),n=new fp(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield SP(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Nr(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=yield bl.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(n);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&gP(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function VP(t){return it(t)}var Il=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=NE(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var jP={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BP(t){jP=t}function HP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function UP(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Nr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var gY=HP("rcb"),mY=new Mr(3e4,6e4);var yY=new Mr(2e3,1e4);var vY=600*1e3;var _Y=new Mr(3e4,6e4);var wY=new Mr(5e3,15e3);var EY=encodeURIComponent("fac");var lb="@firebase/auth",ub="1.10.8";var pp=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $P(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WP(t){bt(new Oe("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wb(t)},d=new hp(r,i,o,l);return UP(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bt(new Oe("auth-internal",e=>{let n=VP(e.getProvider("auth").getImmediate());return(r=>new pp(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),me(lb,ub,$P(t)),me(lb,ub,"esm2017")}var GP=300,bY=EE("authIdTokenMaxAge")||GP;function zP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}BP({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=gp("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",zP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WP("Browser");var WO="auth";var Dl=class{constructor(){return Gi(WO)}};var Eb="@firebase/database",bb="1.0.20";var _g="";function GO(t){_g=t}var Tp=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),_e(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Bi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Sp=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return $t(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var Xb=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Tp(e)}}catch{}return new Sp},xr=Xb("localStorage"),Ap=Xb("sessionStorage");var Yi=new Wt("@firebase/database"),zO=(function(){let t=1;return function(){return t++}})(),eI=function(t){let e=ME(t),n=new tl;n.update(e);let r=n.digest();return Hi.encodeByteArray(r)},Gs=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Gs.apply(null,r):typeof r=="object"?e+=_e(r):e+=r,e+=" "}return e},Pr=null,Ib=!0,qO=function(t,e){E(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Yi.logLevel=X.VERBOSE,Pr=Yi.log.bind(Yi),e&&Ap.set("logging_enabled",!0)):typeof t=="function"?Pr=t:(Pr=null,Ap.remove("logging_enabled"))},xe=function(...t){if(Ib===!0&&(Ib=!1,Pr===null&&Ap.get("logging_enabled")===!0&&qO(!0)),Pr){let e=Gs.apply(null,t);Pr(e)}},zs=function(t){return function(...e){xe(t,...e)}},Np=function(...t){let e="FIREBASE INTERNAL ERROR: "+Gs(...t);Yi.error(e)},cn=function(...t){let e=`FIREBASE FATAL ERROR: ${Gs(...t)}`;throw Yi.error(e),new Error(e)},Ge=function(...t){let e="FIREBASE WARNING: "+Gs(...t);Yi.warn(e)},YO=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ge("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},tI=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},KO=function(t){if(Ut()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Zi="[MIN_NAME]",Or="[MAX_NAME]",ro=function(t,e){if(t===e)return 0;if(t===Zi||e===Or)return-1;if(e===Zi||t===Or)return 1;{let n=Cb(t),r=Cb(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},ZO=function(t,e){return t===e?0:t<e?-1:1},Ds=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+_e(e))},wg=function(t){if(typeof t!="object"||t===null)return _e(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=_e(e[r]),n+=":",n+=wg(t[e[r]]);return n+="}",n},nI=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ze(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var rI=function(t){E(!tI(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let d=[];for(l=n;l;l-=1)d.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(i?1:0),d.reverse();let p=d.join(""),h="";for(l=0;l<64;l+=8){let m=parseInt(p.substr(l,8),2).toString(16);m.length===1&&(m="0"+m),h=h+m}return h.toLowerCase()},QO=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},JO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function XO(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var e1=new RegExp("^-?(0*)\\d{1,10}$"),t1=-2147483648,n1=2147483647,Cb=function(t){if(e1.test(t)){let e=Number(t);if(e>=t1&&e<=n1)return e}return null},io=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Ge("Exception was thrown by user callback.",n),e},Math.floor(0))}},r1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ms=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Mp=class{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,an(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ge(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var kp=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(xe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ge(e)}},ks=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Sl="5",iI="v",oI="s",sI="r",aI="f",cI=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,lI="ls",uI="p",xp="ac",dI="websocket",fI="long_polling";var Al=class{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1,d=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&xr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function i1(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function hI(t,e,n){E(typeof e=="string","typeof type must == string"),E(typeof n=="object","typeof params must == object");let r;if(e===dI)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===fI)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);i1(t)&&(n.ns=t.namespace);let i=[];return ze(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Rp=class{constructor(){this.counters_={}}incrementCounter(e,n=1){$t(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return mE(this.counters_)}};var _p={},wp={};function Eg(t){let e=t.toString();return _p[e]||(_p[e]=new Rp),_p[e]}function o1(t,e){let n=t.toString();return wp[n]||(wp[n]=e()),wp[n]}var Pp=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&io(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var Db="start",s1="close",a1="pLPCommand",c1="pRTLPCB",pI="id",gI="pw",mI="ser",l1="cb",u1="seg",d1="ts",f1="d",h1="dframe",yI=1870,vI=30,p1=yI-vI,g1=25e3,m1=3e4,Op=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zs(e),this.stats_=Eg(n),this.urlFn=l=>(this.appCheckToken&&(l[xp]=this.appCheckToken),hI(n,fI,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Pp(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(m1)),KO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fp((...o)=>{let[s,a,l,d,p]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Db)this.id=a,this.password=l;else if(s===s1)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[Db]="t",r[mI]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[l1]=this.scriptTagHolder.uniqueCallbackIdentifier),r[iI]=Sl,this.transportSessionId&&(r[oI]=this.transportSessionId),this.lastSessionId&&(r[lI]=this.lastSessionId),this.applicationId&&(r[uI]=this.applicationId),this.appCheckToken&&(r[xp]=this.appCheckToken),typeof location<"u"&&location.hostname&&cI.test(location.hostname)&&(r[sI]=aI);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Ut()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!QO()&&!JO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=_e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Rh(n),i=nI(r,p1);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Ut())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[h1]="t",r[pI]=e,r[gI]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=_e(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Fp=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Ut())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=zO(),window[a1+this.uniqueCallbackIdentifier]=e,window[c1+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){xe("frame writing exception"),a.stack&&xe(a.stack),xe(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||xe("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[pI]=this.myID,e[gI]=this.myPW,e[mI]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+vI+r.length<=yI;){let s=this.pendingSegs.shift();r=r+"&"+u1+i+"="+s.seg+"&"+d1+i+"="+s.ts+"&"+f1+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(g1)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){Ut()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{xe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var y1=16384,v1=45e3,Nl=null;typeof MozWebSocket<"u"?Nl=MozWebSocket:typeof WebSocket<"u"&&(Nl=WebSocket);var Ts=(()=>{class t{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zs(this.connId),this.stats_=Eg(r),this.connURL=t.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[iI]=Sl,!Ut()&&typeof location<"u"&&location.hostname&&cI.test(location.hostname)&&(a[sI]=aI),r&&(a[oI]=r),i&&(a[lI]=i),o&&(a[xp]=o),s&&(a[uI]=s),hI(n,dI,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xr.set("previous_websocket_failure",!0);try{let i;if(Ut()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Sl}/${_g}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Nl(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Nl!==null&&!t.forceDisallow_}static previouslyFailed(){return xr.isInMemoryStorage||xr.get("previous_websocket_failure")===!0}markConnectionHealthy(){xr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Bi(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(E(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=_e(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=nI(r,y1);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(v1))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),_1=(()=>{class t{static get ALL_TRANSPORTS(){return[Op,Ts]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=Ts&&Ts.isAvailable(),i=r&&!Ts.previouslyFailed();if(n.webSocketOnly&&(r||Ge("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ts];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),w1=6e4,E1=5e3,b1=10*1024,I1=100*1024,Ep="t",Tb="d",C1="s",Sb="r",D1="e",Ab="o",Nb="a",Mb="n",kb="p",T1="h",Lp=class{constructor(e,n,r,i,o,s,a,l,d,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=d,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zs("c:"+this.id+":"),this.transportManager_=new _1(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ms(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>I1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>b1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ep in e){let n=e[Ep];n===Nb?this.upgradeIfSecondaryHealthy_():n===Sb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ab&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Ds("t",e),r=Ds("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:kb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Nb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Mb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Ds("t",e),r=Ds("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Ds(Ep,e);if(Tb in e){let r=e[Tb];if(n===T1){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Mb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===C1?this.onConnectionShutdown_(r):n===Sb?this.onReset_(r):n===D1?Np("Server Error: "+r):n===Ab?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Np("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Sl!==r&&Ge("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ms(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(w1))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ms(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(E1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:kb,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Ml=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var kl=class{constructor(e){this.allowedEvents_=e,this.listeners_={},E(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){E(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var xl=class t extends kl{static getInstance(){return new t}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ds()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return E(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var xb=32,Rb=768,ee=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function z(){return new ee("")}function O(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Pn(t){return t.pieces_.length-t.pieceNum_}function se(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ee(t.pieces_,e)}function _I(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function S1(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function wI(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function EI(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ee(e,0)}function be(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ee)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ee(n,0)}function V(t){return t.pieceNum_>=t.pieces_.length}function Fe(t,e){let n=O(t),r=O(e);if(n===null)return e;if(n===r)return Fe(se(t),se(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function bg(t,e){if(Pn(t)!==Pn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Tt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Pn(t)>Pn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Vp=class{constructor(e,n){this.errorPrefix_=n,this.parts_=wI(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ps(this.parts_[r]);bI(this)}};function A1(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ps(e),bI(t)}function N1(t){let e=t.parts_.pop();t.byteLength_-=ps(e),t.parts_.length>0&&(t.byteLength_-=1)}function bI(t){if(t.byteLength_>Rb)throw new Error(t.errorPrefix_+"has a key path longer than "+Rb+" bytes ("+t.byteLength_+").");if(t.parts_.length>xb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+xb+") or object contains a cycle "+kr(t))}function kr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var jp=class t extends kl{static getInstance(){return new t}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return E(e==="visible","Unknown event type: "+e),[this.visible_]}};var Ss=1e3,M1=300*1e3,Pb=30*1e3,k1=1.3,x1=3e4,R1="server_kill",Ob=3,Ig=(()=>{class t extends Ml{constructor(n,r,i,o,s,a,l,d){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=d,this.id=t.nextPersistentConnectionId_++,this.log_=zs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ss,this.maxReconnectDelay_=M1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!Ut())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jp.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&xl.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(_e(s)),E(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new _t,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),E(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),E(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let d=l.d,p=l.s;t.warnOnListenWarnings_(d,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),p!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(p,d))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&$t(n,"w")){let i=Er(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Ge(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||AE(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Pb)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=SE(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),E(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+_e(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Np("Unrecognized action received from server: "+_e(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){E(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ss,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ss,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>x1&&(this.reconnectDelay_=Ss),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*k1)}this.onConnectStatus_(!1)}establishConnection_(){return w(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,d=function(){l?l.close():(a=!0,i())},p=function(m){E(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(m)};this.realtime_={close:d,sendRequest:p};let h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[m,y]=yield Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?xe("getToken() completed but was canceled"):(xe("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,l=new Lp(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,_=>{Ge(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(R1)},s))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&Ge(m),d())}}})}interrupt(n){xe("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){xe("Resuming connection for reason: "+n),delete this.interruptReasons_[n],il(this.interruptReasons_)&&(this.reconnectDelay_=Ss,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>wg(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new ee(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){xe("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ob&&(this.reconnectDelay_=Pb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){xe("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ob&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Ut()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+_g.replace(/\./g,"-")]=1,ds()?n["framework.cordova"]=1:nl()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=xl.getInstance().currentlyOnline();return il(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),F=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Qi=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new F(Zi,e),i=new F(Zi,n);return this.compare(r,i)!==0}minPost(){return F.MIN}};var Tl,Rl=class extends Qi{static get __EMPTY_NODE(){return Tl}static set __EMPTY_NODE(e){Tl=e}compare(e,n){return ro(e.name,n.name)}isDefinedOn(e){throw _r("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return F.MIN}maxPost(){return new F(Or,Tl)}makePost(e,n){return E(typeof e=="string","KeyIndex indexValue must always be a string."),new F(e,Tl)}toString(){return".key"}},Ki=new Rl;var qi=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Dt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??ft.EMPTY_NODE,this.right=s??ft.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ft.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return ft.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Bp=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new Dt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},ft=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Dt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Dt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new qi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new qi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new qi(this.root_,null,this.comparator_,!0,e)}};ft.EMPTY_NODE=new Bp;function P1(t,e){return ro(t.name,e.name)}function Cg(t,e){return ro(t,e)}var Hp;function O1(t){Hp=t}var II=function(t){return typeof t=="number"?"number:"+rI(t):"string:"+t},CI=function(t){if(t.isLeafNode()){let e=t.val();E(typeof e=="string"||typeof e=="number"||typeof e=="object"&&$t(e,".sv"),"Priority must be a string or number.")}else E(t===Hp||t.isEmpty(),"priority of unexpected type.");E(t===Hp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Fb,Ji=(()=>{class t{static set __childrenNodeConstructor(n){Fb=n}static get __childrenNodeConstructor(){return Fb}constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,E(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),CI(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return V(n)?this:O(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=O(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(E(i!==".priority"||Pn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(se(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+II(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=rI(this.value_):n+=this.value_,this.lazyHash_=eI(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(E(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return E(o>=0,"Unknown leaf type: "+r),E(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),DI,TI;function F1(t){DI=t}function L1(t){TI=t}var Up=class extends Qi{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?ro(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return F.MIN}maxPost(){return new F(Or,new Ji("[PRIORITY-POST]",TI))}makePost(e,n){let r=DI(e);return new F(n,new Ji("[PRIORITY-POST]",r))}toString(){return".priority"}},de=new Up;var V1=Math.log(2),$p=class{constructor(e){let n=o=>parseInt(Math.log(o)/V1,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Pl=function(t,e,n,r){t.sort(e);let i=function(l,d){let p=d-l,h,m;if(p===0)return null;if(p===1)return h=t[l],m=n?n(h):h,new Dt(m,h.node,Dt.BLACK,null,null);{let y=parseInt(p/2,10)+l,_=i(l,y),I=i(y+1,d);return h=t[y],m=n?n(h):h,new Dt(m,h.node,Dt.BLACK,_,I)}},o=function(l){let d=null,p=null,h=t.length,m=function(_,I){let C=h-_,T=h;h-=_;let Re=i(C+1,T),Ye=t[C],Qt=n?n(Ye):Ye;y(new Dt(Qt,Ye.node,I,null,Re))},y=function(_){d?(d.left=_,d=_):(p=_,d=_)};for(let _=0;_<l.count;++_){let I=l.nextBitIsOne(),C=Math.pow(2,l.count-(_+1));I?m(C,Dt.BLACK):(m(C,Dt.BLACK),m(C,Dt.RED))}return p},s=new $p(t.length),a=o(s);return new ft(r||e,a)};var bp,zi={},Xi=class t{static get Default(){return E(zi&&de,"ChildrenNode.ts has not been loaded"),bp=bp||new t({".priority":zi},{".priority":de}),bp}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){let n=Er(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ft?n:null}hasIndex(e){return $t(this.indexSet_,e.toString())}addIndex(e,n){E(e!==Ki,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(F.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Pl(r,e.getCompare()):a=zi;let l=e.toString(),d=Object.assign({},this.indexSet_);d[l]=e;let p=Object.assign({},this.indexes_);return p[l]=a,new t(p,d)}addToIndexes(e,n){let r=fs(this.indexes_,(i,o)=>{let s=Er(this.indexSet_,o);if(E(s,"Missing index implementation for "+o),i===zi)if(s.isDefinedOn(e.node)){let a=[],l=n.getIterator(F.Wrap),d=l.getNext();for(;d;)d.name!==e.name&&a.push(d),d=l.getNext();return a.push(e),Pl(a,s.getCompare())}else return zi;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new F(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=fs(this.indexes_,i=>{if(i===zi)return i;{let o=n.get(e.name);return o?i.remove(new F(e.name,o)):i}});return new t(r,this.indexSet_)}};var As,k=(()=>{class t{static get EMPTY_NODE(){return As||(As=new t(new ft(Cg),null,Xi.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&CI(this.priorityNode_),this.children_.isEmpty()&&E(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||As}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?As:r}}getChild(n){let r=O(n);return r===null?this:this.getImmediateChild(r).getChild(se(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(E(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new F(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?As:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=O(n);if(i===null)return r;{E(O(n)!==".priority"||Pn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(se(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(de,(a,l)=>{r[a]=l.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+II(this.getPriority().val())+":"),this.forEachChild(de,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":eI(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new F(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new F(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new F(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,F.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,F.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===qs?-1:0}withIndex(n){if(n===Ki||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Ki||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(de),o=r.getIterator(de),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Ki?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Wp=class extends k{constructor(){super(new ft(Cg),k.EMPTY_NODE,Xi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return k.EMPTY_NODE}isEmpty(){return!1}},qs=new Wp;Object.defineProperties(F,{MIN:{value:new F(Zi,k.EMPTY_NODE)},MAX:{value:new F(Or,qs)}});Rl.__EMPTY_NODE=k.EMPTY_NODE;Ji.__childrenNodeConstructor=k;O1(qs);L1(qs);var j1=!0;function Ce(t,e=null){if(t===null)return k.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),E(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Ji(n,Ce(e))}if(!(t instanceof Array)&&j1){let n=[],r=!1;if(ze(t,(s,a)=>{if(s.substring(0,1)!=="."){let l=Ce(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new F(s,l)))}}),n.length===0)return k.EMPTY_NODE;let o=Pl(n,P1,s=>s.name,Cg);if(r){let s=Pl(n,de.getCompare());return new k(o,Ce(e),new Xi({".priority":s},{".priority":de}))}else return new k(o,Ce(e),Xi.Default)}else{let n=k.EMPTY_NODE;return ze(t,(r,i)=>{if($t(t,r)&&r.substring(0,1)!=="."){let o=Ce(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ce(e))}}F1(Ce);var Gp=class extends Qi{constructor(e){super(),this.indexPath_=e,E(!V(e)&&O(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?ro(e.name,n.name):o}makePost(e,n){let r=Ce(e),i=k.EMPTY_NODE.updateChild(this.indexPath_,r);return new F(n,i)}maxPost(){let e=k.EMPTY_NODE.updateChild(this.indexPath_,qs);return new F(Or,e)}toString(){return wI(this.indexPath_,0).join("/")}};var zp=class extends Qi{compare(e,n){let r=e.node.compareTo(n.node);return r===0?ro(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return F.MIN}maxPost(){return F.MAX}makePost(e,n){let r=Ce(e);return new F(n,r)}toString(){return".value"}},B1=new zp;function SI(t){return{type:"value",snapshotNode:t}}function eo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Os(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Fs(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function H1(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Ls=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){E(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Os(n,a)):E(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(eo(n,r)):s.trackChildChange(Fs(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(de,(i,o)=>{n.hasChild(i)||r.trackChildChange(Os(i,o))}),n.isLeafNode()||n.forEachChild(de,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Fs(i,o,s))}else r.trackChildChange(eo(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?k.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Ol=class t{constructor(e){this.indexedFilter_=new Ls(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new F(n,r))||(r=k.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=k.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(k.EMPTY_NODE);let o=this;return n.forEachChild(de,(s,a)=>{o.matches(new F(s,a))||(i=i.updateImmediateChild(s,k.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var qp=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ol(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new F(n,r))||(r=k.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=k.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=k.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(k.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,k.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let h=this.index_.getCompare();s=(m,y)=>h(y,m)}else s=this.index_.getCompare();let a=e;E(a.numChildren()===this.limit_,"");let l=new F(n,r),d=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),p=this.rangedFilter_.matches(l);if(a.hasChild(n)){let h=a.getImmediateChild(n),m=i.getChildAfterChild(this.index_,d,this.reverse_);for(;m!=null&&(m.name===n||a.hasChild(m.name));)m=i.getChildAfterChild(this.index_,m,this.reverse_);let y=m==null?1:s(m,l);if(p&&!r.isEmpty()&&y>=0)return o?.trackChildChange(Fs(n,r,h)),a.updateImmediateChild(n,r);{o?.trackChildChange(Os(n,h));let I=a.updateImmediateChild(n,k.EMPTY_NODE);return m!=null&&this.rangedFilter_.matches(m)?(o?.trackChildChange(eo(m.name,m.node)),I.updateImmediateChild(m.name,m.node)):I}}else return r.isEmpty()?e:p&&s(d,l)>=0?(o!=null&&(o.trackChildChange(Os(d.name,d.node)),o.trackChildChange(eo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(d.name,k.EMPTY_NODE)):e}};var Yp=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=de}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return E(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return E(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zi}hasEnd(){return this.endSet_}getIndexEndValue(){return E(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return E(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Or}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return E(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===de}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function U1(t){return t.loadsAllData()?new Ls(t.getIndex()):t.hasLimit()?new qp(t):new Ol(t)}function Lb(t){let e={};if(t.isDefault())return e;let n;if(t.index_===de?n="$priority":t.index_===B1?n="$value":t.index_===Ki?n="$key":(E(t.index_ instanceof Gp,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=_e(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=_e(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+_e(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=_e(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+_e(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Vb(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==de&&(e.i=t.index_.toString()),e}var Kp=class t extends Ml{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(E(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=zs("p:rest:"),this.listens_={}}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let l=Lb(e._queryParams);this.restRequest_(o+".json",l,(d,p)=>{let h=p;if(d===404&&(h=null,d=null),d===null&&this.onDataUpdate_(o,h,!1,r),Er(this.listens_,s)===a){let m;d?d===401?m="permission_denied":m="rest_error:"+d:m="ok",i(m,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=Lb(e._queryParams),r=e._path.toString(),i=new _t;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+hs(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Bi(a.responseText)}catch{Ge("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ge("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Zp=class{constructor(){this.rootNode_=k.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Fl(){return{value:null,children:new Map}}function AI(t,e,n){if(V(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=O(e);t.children.has(r)||t.children.set(r,Fl());let i=t.children.get(r);e=se(e),AI(i,e,n)}}function Qp(t,e,n){t.value!==null?n(e,t.value):$1(t,(r,i)=>{let o=new ee(e.toString()+"/"+r);Qp(i,o,n)})}function $1(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Jp=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ze(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var jb=10*1e3,W1=30*1e3,G1=300*1e3,Xp=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Jp(e);let r=jb+(W1-jb)*Math.random();Ms(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;ze(e,(i,o)=>{o>0&&$t(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Ms(this.reportStats_.bind(this),Math.floor(Math.random()*2*G1))}};var zt=(function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t})(zt||{});function NI(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Dg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Tg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var eg=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=zt.ACK_USER_WRITE,this.source=NI()}operationForChild(e){if(V(this.path)){if(this.affectedTree.value!=null)return E(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ee(e));return new t(z(),n,this.revert)}}else return E(O(this.path)===e,"operationForChild called for unrelated child."),new t(se(this.path),this.affectedTree,this.revert)}};var Ll=class t{constructor(e,n){this.source=e,this.path=n,this.type=zt.LISTEN_COMPLETE}operationForChild(e){return V(this.path)?new t(this.source,z()):new t(this.source,se(this.path))}};var to=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=zt.OVERWRITE}operationForChild(e){return V(this.path)?new t(this.source,z(),this.snap.getImmediateChild(e)):new t(this.source,se(this.path),this.snap)}};var Vl=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=zt.MERGE}operationForChild(e){if(V(this.path)){let n=this.children.subtree(new ee(e));return n.isEmpty()?null:n.value?new to(this.source,z(),n.value):new t(this.source,z(),n)}else return E(O(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var qt=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(V(e))return this.isFullyInitialized()&&!this.filtered_;let n=O(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var tg=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function z1(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(H1(s.childName,s.snapshotNode))}),Ns(t,i,"child_removed",e,r,n),Ns(t,i,"child_added",e,r,n),Ns(t,i,"child_moved",o,r,n),Ns(t,i,"child_changed",e,r,n),Ns(t,i,"value",e,r,n),i}function Ns(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,l)=>Y1(t,a,l)),s.forEach(a=>{let l=q1(t,a,o);i.forEach(d=>{d.respondsTo(a.type)&&e.push(d.createEvent(l,t.query_))})})}function q1(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Y1(t,e,n){if(e.childName==null||n.childName==null)throw _r("Should only compare child_ events.");let r=new F(e.childName,e.snapshotNode),i=new F(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Ql(t,e){return{eventCache:t,serverCache:e}}function xs(t,e,n,r){return Ql(new qt(e,n,r),t.serverCache)}function MI(t,e,n,r){return Ql(t.eventCache,new qt(e,n,r))}function jl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Fr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Ip,K1=()=>(Ip||(Ip=new ft(ZO)),Ip),qe=class t{static fromObject(e){let n=new t(null);return ze(e,(r,i)=>{n=n.set(new ee(r),i)}),n}constructor(e,n=K1()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:z(),value:this.value};if(V(e))return null;{let r=O(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(se(e),n);return o!=null?{path:be(new ee(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(V(e))return this;{let n=O(e),r=this.children.get(n);return r!==null?r.subtree(se(e)):new t(null)}}set(e,n){if(V(e))return new t(n,this.children);{let r=O(e),o=(this.children.get(r)||new t(null)).set(se(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(V(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=O(e),r=this.children.get(n);if(r){let i=r.remove(se(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(V(e))return this.value;{let n=O(e),r=this.children.get(n);return r?r.get(se(e)):null}}setTree(e,n){if(V(e))return n;{let r=O(e),o=(this.children.get(r)||new t(null)).setTree(se(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(z(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(be(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,z(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(V(e))return null;{let o=O(e),s=this.children.get(o);return s?s.findOnPath_(se(e),be(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,z(),n)}foreachOnPath_(e,n,r){if(V(e))return this;{this.value&&r(n,this.value);let i=O(e),o=this.children.get(i);return o?o.foreachOnPath_(se(e),be(n,i),r):new t(null)}}foreach(e){this.foreach_(z(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(be(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var St=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new qe(null))}};function Rs(t,e,n){if(V(e))return new St(new qe(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Fe(i,e);return o=o.updateChild(s,n),new St(t.writeTree_.set(i,o))}else{let i=new qe(n),o=t.writeTree_.setTree(e,i);return new St(o)}}}function Bb(t,e,n){let r=t;return ze(n,(i,o)=>{r=Rs(r,be(e,i),o)}),r}function Hb(t,e){if(V(e))return St.empty();{let n=t.writeTree_.setTree(e,new qe(null));return new St(n)}}function ng(t,e){return Lr(t,e)!=null}function Lr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Fe(n.path,e)):null}function Ub(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(de,(r,i)=>{e.push(new F(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new F(r,i.value))}),e}function xn(t,e){if(V(e))return t;{let n=Lr(t,e);return n!=null?new St(new qe(n)):new St(t.writeTree_.subtree(e))}}function rg(t){return t.writeTree_.isEmpty()}function no(t,e){return kI(z(),t.writeTree_,e)}function kI(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(E(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=kI(be(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(be(t,".priority"),r)),n}}function Jl(t,e){return OI(e,t)}function Z1(t,e,n,r,i){E(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Rs(t.visibleWrites,e,n)),t.lastWriteId=r}function Q1(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function J1(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);E(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&X1(a,r.path)?i=!1:Tt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return eF(t),!0;if(r.snap)t.visibleWrites=Hb(t.visibleWrites,r.path);else{let a=r.children;ze(a,l=>{t.visibleWrites=Hb(t.visibleWrites,be(r.path,l))})}return!0}else return!1}function X1(t,e){if(t.snap)return Tt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Tt(be(t.path,n),e))return!0;return!1}function eF(t){t.visibleWrites=xI(t.allWrites,tF,z()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function tF(t){return t.visible}function xI(t,e,n){let r=St.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)Tt(n,s)?(a=Fe(n,s),r=Rs(r,a,o.snap)):Tt(s,n)&&(a=Fe(s,n),r=Rs(r,z(),o.snap.getChild(a)));else if(o.children){if(Tt(n,s))a=Fe(n,s),r=Bb(r,a,o.children);else if(Tt(s,n))if(a=Fe(s,n),V(a))r=Bb(r,z(),o.children);else{let l=Er(o.children,O(a));if(l){let d=l.getChild(se(a));r=Rs(r,z(),d)}}}else throw _r("WriteRecord should have .snap or .children")}}return r}function RI(t,e,n,r,i){if(!r&&!i){let o=Lr(t.visibleWrites,e);if(o!=null)return o;{let s=xn(t.visibleWrites,e);if(rg(s))return n;if(n==null&&!ng(s,z()))return null;{let a=n||k.EMPTY_NODE;return no(s,a)}}}else{let o=xn(t.visibleWrites,e);if(!i&&rg(o))return n;if(!i&&n==null&&!ng(o,z()))return null;{let s=function(d){return(d.visible||i)&&(!r||!~r.indexOf(d.writeId))&&(Tt(d.path,e)||Tt(e,d.path))},a=xI(t.allWrites,s,e),l=n||k.EMPTY_NODE;return no(a,l)}}}function nF(t,e,n){let r=k.EMPTY_NODE,i=Lr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(de,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=xn(t.visibleWrites,e);return n.forEachChild(de,(s,a)=>{let l=no(xn(o,new ee(s)),a);r=r.updateImmediateChild(s,l)}),Ub(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=xn(t.visibleWrites,e);return Ub(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function rF(t,e,n,r,i){E(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=be(e,n);if(ng(t.visibleWrites,o))return null;{let s=xn(t.visibleWrites,o);return rg(s)?i.getChild(n):no(s,i.getChild(n))}}function iF(t,e,n,r){let i=be(e,n),o=Lr(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=xn(t.visibleWrites,i);return no(s,r.getNode().getImmediateChild(n))}else return null}function oF(t,e){return Lr(t.visibleWrites,e)}function sF(t,e,n,r,i,o,s){let a,l=xn(t.visibleWrites,e),d=Lr(l,z());if(d!=null)a=d;else if(n!=null)a=no(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let p=[],h=s.getCompare(),m=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),y=m.getNext();for(;y&&p.length<i;)h(y,r)!==0&&p.push(y),y=m.getNext();return p}else return[]}function aF(){return{visibleWrites:St.empty(),allWrites:[],lastWriteId:-1}}function Bl(t,e,n,r){return RI(t.writeTree,t.treePath,e,n,r)}function Sg(t,e){return nF(t.writeTree,t.treePath,e)}function $b(t,e,n,r){return rF(t.writeTree,t.treePath,e,n,r)}function Hl(t,e){return oF(t.writeTree,be(t.treePath,e))}function cF(t,e,n,r,i,o){return sF(t.writeTree,t.treePath,e,n,r,i,o)}function Ag(t,e,n){return iF(t.writeTree,t.treePath,e,n)}function PI(t,e){return OI(be(t.treePath,e),t.writeTree)}function OI(t,e){return{treePath:t,writeTree:e}}var ig=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;E(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),E(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Fs(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Os(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,eo(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Fs(r,e.snapshotNode,i.oldSnap));else throw _r("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var og=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},FI=new og,Vs=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new qt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ag(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Fr(this.viewCache_),o=cF(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function lF(t){return{filter:t}}function uF(t,e){E(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),E(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function dF(t,e,n,r,i){let o=new ig,s,a;if(n.type===zt.OVERWRITE){let d=n;d.source.fromUser?s=sg(t,e,d.path,d.snap,r,i,o):(E(d.source.fromServer,"Unknown source."),a=d.source.tagged||e.serverCache.isFiltered()&&!V(d.path),s=Ul(t,e,d.path,d.snap,r,i,a,o))}else if(n.type===zt.MERGE){let d=n;d.source.fromUser?s=hF(t,e,d.path,d.children,r,i,o):(E(d.source.fromServer,"Unknown source."),a=d.source.tagged||e.serverCache.isFiltered(),s=ag(t,e,d.path,d.children,r,i,a,o))}else if(n.type===zt.ACK_USER_WRITE){let d=n;d.revert?s=mF(t,e,d.path,r,i,o):s=pF(t,e,d.path,d.affectedTree,r,i,o)}else if(n.type===zt.LISTEN_COMPLETE)s=gF(t,e,n.path,r,o);else throw _r("Unknown operation type: "+n.type);let l=o.getChanges();return fF(e,s,l),{viewCache:s,changes:l}}function fF(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=jl(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(SI(jl(e)))}}function LI(t,e,n,r,i,o){let s=e.eventCache;if(Hl(r,n)!=null)return e;{let a,l;if(V(n))if(E(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let d=Fr(e),p=d instanceof k?d:k.EMPTY_NODE,h=Sg(r,p);a=t.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{let d=Bl(r,Fr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let d=O(n);if(d===".priority"){E(Pn(n)===1,"Can't have a priority with additional path components");let p=s.getNode();l=e.serverCache.getNode();let h=$b(r,n,p,l);h!=null?a=t.filter.updatePriority(p,h):a=s.getNode()}else{let p=se(n),h;if(s.isCompleteForChild(d)){l=e.serverCache.getNode();let m=$b(r,n,s.getNode(),l);m!=null?h=s.getNode().getImmediateChild(d).updateChild(p,m):h=s.getNode().getImmediateChild(d)}else h=Ag(r,d,e.serverCache);h!=null?a=t.filter.updateChild(s.getNode(),d,h,p,i,o):a=s.getNode()}}return xs(e,a,s.isFullyInitialized()||V(n),t.filter.filtersNodes())}}function Ul(t,e,n,r,i,o,s,a){let l=e.serverCache,d,p=s?t.filter:t.filter.getIndexedFilter();if(V(n))d=p.updateFullNode(l.getNode(),r,null);else if(p.filtersNodes()&&!l.isFiltered()){let y=l.getNode().updateChild(n,r);d=p.updateFullNode(l.getNode(),y,null)}else{let y=O(n);if(!l.isCompleteForPath(n)&&Pn(n)>1)return e;let _=se(n),C=l.getNode().getImmediateChild(y).updateChild(_,r);y===".priority"?d=p.updatePriority(l.getNode(),C):d=p.updateChild(l.getNode(),y,C,_,FI,null)}let h=MI(e,d,l.isFullyInitialized()||V(n),p.filtersNodes()),m=new Vs(i,h,o);return LI(t,h,n,i,m,a)}function sg(t,e,n,r,i,o,s){let a=e.eventCache,l,d,p=new Vs(i,e,o);if(V(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=xs(e,d,!0,t.filter.filtersNodes());else{let h=O(n);if(h===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),l=xs(e,d,a.isFullyInitialized(),a.isFiltered());else{let m=se(n),y=a.getNode().getImmediateChild(h),_;if(V(m))_=r;else{let I=p.getCompleteChild(h);I!=null?_I(m)===".priority"&&I.getChild(EI(m)).isEmpty()?_=I:_=I.updateChild(m,r):_=k.EMPTY_NODE}if(y.equals(_))l=e;else{let I=t.filter.updateChild(a.getNode(),h,_,m,p,s);l=xs(e,I,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Wb(t,e){return t.eventCache.isCompleteForChild(e)}function hF(t,e,n,r,i,o,s){let a=e;return r.foreach((l,d)=>{let p=be(n,l);Wb(e,O(p))&&(a=sg(t,a,p,d,i,o,s))}),r.foreach((l,d)=>{let p=be(n,l);Wb(e,O(p))||(a=sg(t,a,p,d,i,o,s))}),a}function Gb(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ag(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,d;V(n)?d=r:d=new qe(null).setTree(n,r);let p=e.serverCache.getNode();return d.children.inorderTraversal((h,m)=>{if(p.hasChild(h)){let y=e.serverCache.getNode().getImmediateChild(h),_=Gb(t,y,m);l=Ul(t,l,new ee(h),_,i,o,s,a)}}),d.children.inorderTraversal((h,m)=>{let y=!e.serverCache.isCompleteForChild(h)&&m.value===null;if(!p.hasChild(h)&&!y){let _=e.serverCache.getNode().getImmediateChild(h),I=Gb(t,_,m);l=Ul(t,l,new ee(h),I,i,o,s,a)}}),l}function pF(t,e,n,r,i,o,s){if(Hl(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(V(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ul(t,e,n,l.getNode().getChild(n),i,o,a,s);if(V(n)){let d=new qe(null);return l.getNode().forEachChild(Ki,(p,h)=>{d=d.set(new ee(p),h)}),ag(t,e,n,d,i,o,a,s)}else return e}else{let d=new qe(null);return r.foreach((p,h)=>{let m=be(n,p);l.isCompleteForPath(m)&&(d=d.set(p,l.getNode().getChild(m)))}),ag(t,e,n,d,i,o,a,s)}}function gF(t,e,n,r,i){let o=e.serverCache,s=MI(e,o.getNode(),o.isFullyInitialized()||V(n),o.isFiltered());return LI(t,s,n,r,FI,i)}function mF(t,e,n,r,i,o){let s;if(Hl(r,n)!=null)return e;{let a=new Vs(r,e,i),l=e.eventCache.getNode(),d;if(V(n)||O(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=Bl(r,Fr(e));else{let h=e.serverCache.getNode();E(h instanceof k,"serverChildren would be complete if leaf node"),p=Sg(r,h)}p=p,d=t.filter.updateFullNode(l,p,o)}else{let p=O(n),h=Ag(r,p,e.serverCache);h==null&&e.serverCache.isCompleteForChild(p)&&(h=l.getImmediateChild(p)),h!=null?d=t.filter.updateChild(l,p,h,se(n),a,o):e.eventCache.getNode().hasChild(p)?d=t.filter.updateChild(l,p,k.EMPTY_NODE,se(n),a,o):d=l,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Bl(r,Fr(e)),s.isLeafNode()&&(d=t.filter.updateFullNode(d,s,o)))}return s=e.serverCache.isFullyInitialized()||Hl(r,z())!=null,xs(e,d,s,t.filter.filtersNodes())}}var cg=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Ls(r.getIndex()),o=U1(r);this.processor_=lF(o);let s=n.serverCache,a=n.eventCache,l=i.updateFullNode(k.EMPTY_NODE,s.getNode(),null),d=o.updateFullNode(k.EMPTY_NODE,a.getNode(),null),p=new qt(l,s.isFullyInitialized(),i.filtersNodes()),h=new qt(d,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ql(h,p),this.eventGenerator_=new tg(this.query_)}get query(){return this.query_}};function yF(t){return t.viewCache_.serverCache.getNode()}function vF(t){return jl(t.viewCache_)}function _F(t,e){let n=Fr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!V(e)&&!n.getImmediateChild(O(e)).isEmpty())?n.getChild(e):null}function zb(t){return t.eventRegistrations_.length===0}function wF(t,e){t.eventRegistrations_.push(e)}function qb(t,e,n){let r=[];if(n){E(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Yb(t,e,n,r){e.type===zt.MERGE&&e.source.queryId!==null&&(E(Fr(t.viewCache_),"We should always have a full cache before handling merges"),E(jl(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=dF(t.processor_,i,e,n,r);return uF(t.processor_,o.viewCache),E(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,VI(t,o.changes,o.viewCache.eventCache.getNode(),null)}function EF(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(de,(o,s)=>{r.push(eo(o,s))}),n.isFullyInitialized()&&r.push(SI(n.getNode())),VI(t,r,n.getNode(),e)}function VI(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return z1(t.eventGenerator_,e,n,i)}var $l,Wl=class{constructor(){this.views=new Map}};function bF(t){E(!$l,"__referenceConstructor has already been defined"),$l=t}function IF(){return E($l,"Reference.ts has not been loaded"),$l}function CF(t){return t.views.size===0}function Ng(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return E(o!=null,"SyncTree gave us an op for an invalid query."),Yb(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(Yb(s,e,n,r));return o}}function jI(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Bl(n,i?r:null),l=!1;a?l=!0:r instanceof k?(a=Sg(n,r),l=!1):(a=k.EMPTY_NODE,l=!1);let d=Ql(new qt(a,l,!1),new qt(r,i,!1));return new cg(e,d)}return s}function DF(t,e,n,r,i,o){let s=jI(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),wF(s,n),EF(s,n)}function TF(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=On(t);if(i==="default")for(let[l,d]of t.views.entries())s=s.concat(qb(d,n,r)),zb(d)&&(t.views.delete(l),d.query._queryParams.loadsAllData()||o.push(d.query));else{let l=t.views.get(i);l&&(s=s.concat(qb(l,n,r)),zb(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!On(t)&&o.push(new(IF())(e._repo,e._path)),{removed:o,events:s}}function BI(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Rn(t,e){let n=null;for(let r of t.views.values())n=n||_F(r,e);return n}function HI(t,e){if(e._queryParams.loadsAllData())return Xl(t);{let r=e._queryIdentifier;return t.views.get(r)}}function UI(t,e){return HI(t,e)!=null}function On(t){return Xl(t)!=null}function Xl(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Gl;function SF(t){E(!Gl,"__referenceConstructor has already been defined"),Gl=t}function AF(){return E(Gl,"Reference.ts has not been loaded"),Gl}var NF=1,zl=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new qe(null),this.pendingWriteTree_=aF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function $I(t,e,n,r,i){return Z1(t.pendingWriteTree_,e,n,r,i),i?Ks(t,new to(NI(),e,n)):[]}function Rr(t,e,n=!1){let r=Q1(t.pendingWriteTree_,e);if(J1(t.pendingWriteTree_,e)){let o=new qe(null);return r.snap!=null?o=o.set(z(),!0):ze(r.children,s=>{o=o.set(new ee(s),!0)}),Ks(t,new eg(r.path,o,n))}else return[]}function Ys(t,e,n){return Ks(t,new to(Dg(),e,n))}function MF(t,e,n){let r=qe.fromObject(n);return Ks(t,new Vl(Dg(),e,r))}function kF(t,e){return Ks(t,new Ll(Dg(),e))}function xF(t,e,n){let r=kg(t,n);if(r){let i=xg(r),o=i.path,s=i.queryId,a=Fe(o,e),l=new Ll(Tg(s),a);return Rg(t,o,l)}else return[]}function ql(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||UI(s,e))){let l=TF(s,e,n,r);CF(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let d=l.removed;if(a=l.events,!i){let p=d.findIndex(m=>m._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(o,(m,y)=>On(y));if(p&&!h){let m=t.syncPointTree_.subtree(o);if(!m.isEmpty()){let y=OF(m);for(let _=0;_<y.length;++_){let I=y[_],C=I.query,T=qI(t,I);t.listenProvider_.startListening(Ps(C),js(t,C),T.hashFn,T.onComplete)}}}!h&&d.length>0&&!r&&(p?t.listenProvider_.stopListening(Ps(e),null):d.forEach(m=>{let y=t.queryToTagMap.get(eu(m));t.listenProvider_.stopListening(Ps(m),y)}))}FF(t,d)}return a}function WI(t,e,n,r){let i=kg(t,r);if(i!=null){let o=xg(i),s=o.path,a=o.queryId,l=Fe(s,e),d=new to(Tg(a),l,n);return Rg(t,s,d)}else return[]}function RF(t,e,n,r){let i=kg(t,r);if(i){let o=xg(i),s=o.path,a=o.queryId,l=Fe(s,e),d=qe.fromObject(n),p=new Vl(Tg(a),l,d);return Rg(t,s,p)}else return[]}function lg(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(m,y)=>{let _=Fe(m,i);o=o||Rn(y,_),s=s||On(y)});let a=t.syncPointTree_.get(i);a?(s=s||On(a),o=o||Rn(a,z())):(a=new Wl,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=k.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((y,_)=>{let I=Rn(_,z());I&&(o=o.updateImmediateChild(y,I))}));let d=UI(a,e);if(!d&&!e._queryParams.loadsAllData()){let m=eu(e);E(!t.queryToTagMap.has(m),"View does not exist, but we have a tag");let y=LF();t.queryToTagMap.set(m,y),t.tagToQueryMap.set(y,m)}let p=Jl(t.pendingWriteTree_,i),h=DF(a,e,n,p,o,l);if(!d&&!s&&!r){let m=HI(a,e);h=h.concat(VF(t,e,m))}return h}function Mg(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let l=Fe(s,e),d=Rn(a,l);if(d)return d});return RI(i,e,o,n,!0)}function PF(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(d,p)=>{let h=Fe(d,n);r=r||Rn(p,h)});let i=t.syncPointTree_.get(n);i?r=r||Rn(i,z()):(i=new Wl,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new qt(r,!0,!1):null,a=Jl(t.pendingWriteTree_,e._path),l=jI(i,e,a,o?s.getNode():k.EMPTY_NODE,o);return vF(l)}function Ks(t,e){return GI(e,t.syncPointTree_,null,Jl(t.pendingWriteTree_,z()))}function GI(t,e,n,r){if(V(t.path))return zI(t,e,n,r);{let i=e.get(z());n==null&&i!=null&&(n=Rn(i,z()));let o=[],s=O(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){let d=n?n.getImmediateChild(s):null,p=PI(r,s);o=o.concat(GI(a,l,d,p))}return i&&(o=o.concat(Ng(i,t,r,n))),o}}function zI(t,e,n,r){let i=e.get(z());n==null&&i!=null&&(n=Rn(i,z()));let o=[];return e.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,d=PI(r,s),p=t.operationForChild(s);p&&(o=o.concat(zI(p,a,l,d)))}),i&&(o=o.concat(Ng(i,t,r,n))),o}function qI(t,e){let n=e.query,r=js(t,n);return{hashFn:()=>(yF(e)||k.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?xF(t,n._path,r):kF(t,n._path);{let o=XO(i,n);return ql(t,n,null,o)}}}}function js(t,e){let n=eu(e);return t.queryToTagMap.get(n)}function eu(t){return t._path.toString()+"$"+t._queryIdentifier}function kg(t,e){return t.tagToQueryMap.get(e)}function xg(t){let e=t.indexOf("$");return E(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ee(t.substr(0,e))}}function Rg(t,e,n){let r=t.syncPointTree_.get(e);E(r,"Missing sync point for query tag that we're tracking");let i=Jl(t.pendingWriteTree_,e);return Ng(r,n,i,null)}function OF(t){return t.fold((e,n,r)=>{if(n&&On(n))return[Xl(n)];{let i=[];return n&&(i=BI(n)),ze(r,(o,s)=>{i=i.concat(s)}),i}})}function Ps(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(AF())(t._repo,t._path):t}function FF(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=eu(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function LF(){return NF++}function VF(t,e,n){let r=e._path,i=js(t,e),o=qI(t,n),s=t.listenProvider_.startListening(Ps(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)E(!On(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((d,p,h)=>{if(!V(d)&&p&&On(p))return[Xl(p).query];{let m=[];return p&&(m=m.concat(BI(p).map(y=>y.query))),ze(h,(y,_)=>{m=m.concat(_)}),m}});for(let d=0;d<l.length;++d){let p=l[d];t.listenProvider_.stopListening(Ps(p),js(t,p))}}return s}var ug=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},dg=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=be(this.path_,e);return new t(this.syncTree_,n)}node(){return Mg(this.syncTree_,this.path_)}},jF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Kb=function(t,e,n){if(!t||typeof t!="object")return t;if(E(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return BF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return HF(t[".sv"],e);E(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},BF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:E(!1,"Unexpected server value: "+t)}},HF=function(t,e,n){t.hasOwnProperty("increment")||E(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&E(!1,"Unexpected increment value: "+r);let i=e.node();if(E(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},UF=function(t,e,n,r){return Pg(e,new dg(n,t),r)},YI=function(t,e,n){return Pg(t,new ug(e),n)};function Pg(t,e,n){let r=t.getPriority().val(),i=Kb(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=Kb(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Ji(a,Ce(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Ji(i))),s.forEachChild(de,(a,l)=>{let d=Pg(l,e.getImmediateChild(a),n);d!==l&&(o=o.updateImmediateChild(a,d))}),o}}var Bs=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Og(t,e){let n=e instanceof ee?e:new ee(e),r=t,i=O(n);for(;i!==null;){let o=Er(r.node.children,i)||{children:{},childCount:0};r=new Bs(i,r,o),n=se(n),i=O(n)}return r}function oo(t){return t.node.value}function KI(t,e){t.node.value=e,fg(t)}function ZI(t){return t.node.childCount>0}function $F(t){return oo(t)===void 0&&!ZI(t)}function tu(t,e){ze(t.node.children,(n,r)=>{e(new Bs(n,t,r))})}function QI(t,e,n,r){n&&!r&&e(t),tu(t,i=>{QI(i,e,!0,r)}),n&&r&&e(t)}function WF(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Zs(t){return new ee(t.parent===null?t.name:Zs(t.parent)+"/"+t.name)}function fg(t){t.parent!==null&&GF(t.parent,t.name,t)}function GF(t,e,n){let r=$F(n),i=$t(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,fg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,fg(t))}var zF=/[\[\].#$\/\u0000-\u001F\u007F]/,qF=/[\[\].#$\u0000-\u001F\u007F]/,Cp=10*1024*1024,JI=function(t){return typeof t=="string"&&t.length!==0&&!zF.test(t)},XI=function(t){return typeof t=="string"&&t.length!==0&&!qF.test(t)},YF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),XI(t)};var KF=function(t,e,n,r){r&&e===void 0||Fg(ol(t,"value"),e,n)},Fg=function(t,e,n){let r=n instanceof ee?new Vp(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+kr(r));if(typeof e=="function")throw new Error(t+"contains a function "+kr(r)+" with contents = "+e.toString());if(tI(e))throw new Error(t+"contains "+e.toString()+" "+kr(r));if(typeof e=="string"&&e.length>Cp/3&&ps(e)>Cp)throw new Error(t+"contains a string greater than "+Cp+" utf8 bytes "+kr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(ze(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!JI(s)))throw new Error(t+" contains an invalid key ("+s+") "+kr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);A1(r,s),Fg(t,a,r),N1(r)}),i&&o)throw new Error(t+' contains ".value" child '+kr(r)+" in addition to actual children.")}};var eC=function(t,e,n,r){if(!(r&&n===void 0)&&!XI(n))throw new Error(ol(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ZF=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),eC(t,e,n,r)},QF=function(t,e){if(O(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},JF=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!JI(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!YF(n))throw new Error(ol(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var hg=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Lg(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!bg(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function tC(t,e,n){Lg(t,n),nC(t,r=>bg(r,e))}function Yt(t,e,n){Lg(t,n),nC(t,r=>Tt(r,e)||Tt(e,r))}function nC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(XF(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function XF(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Pr&&xe("event: "+n.toString()),io(r)}}}var eL="repo_interrupt",tL=25,pg=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Fl(),this.transactionQueueTree_=new Bs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function nL(t,e,n){if(t.stats_=Eg(t.repoInfo_),t.forceRestClient_||r1())t.server_=new Kp(t.repoInfo_,(r,i,o,s)=>{Zb(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Qb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_e(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ig(t.repoInfo_,e,(r,i,o,s)=>{Zb(t,r,i,o,s)},r=>{Qb(t,r)},r=>{iL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=o1(t.repoInfo_,()=>new Xp(t.stats_,t.server_)),t.infoData_=new Zp,t.infoSyncTree_=new zl({startListening:(r,i,o,s)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Ys(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),jg(t,"connected",!1),t.serverSyncTree_=new zl({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{let d=s(a,l);Yt(t.eventQueue_,r._path,d)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function rL(t){let n=t.infoData_.getNode(new ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Vg(t){return jF({timestamp:rL(t)})}function Zb(t,e,n,r,i){t.dataUpdateCount++;let o=new ee(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let l=fs(n,d=>Ce(d));s=RF(t.serverSyncTree_,o,l,i)}else{let l=Ce(n);s=WI(t.serverSyncTree_,o,l,i)}else if(r){let l=fs(n,d=>Ce(d));s=MF(t.serverSyncTree_,o,l)}else{let l=Ce(n);s=Ys(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=ru(t,o)),Yt(t.eventQueue_,a,s)}function Qb(t,e){jg(t,"connected",e),e===!1&&aL(t)}function iL(t,e){ze(e,(n,r)=>{jg(t,n,r)})}function jg(t,e,n){let r=new ee("/.info/"+e),i=Ce(n);t.infoData_.updateSnapshot(r,i);let o=Ys(t.infoSyncTree_,r,i);Yt(t.eventQueue_,r,o)}function rC(t){return t.nextWriteId_++}function oL(t,e,n){let r=PF(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=Ce(i).withIndex(e._queryParams.getIndex());lg(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=Ys(t.serverSyncTree_,e._path,o);else{let a=js(t.serverSyncTree_,e);s=WI(t.serverSyncTree_,e._path,o,a)}return Yt(t.eventQueue_,e._path,s),ql(t.serverSyncTree_,e,n,null,!0),o},i=>(nu(t,"get for query "+_e(e)+" failed: "+i),Promise.reject(new Error(i))))}function sL(t,e,n,r,i){nu(t,"set",{path:e.toString(),value:n,priority:r});let o=Vg(t),s=Ce(n,r),a=Mg(t.serverSyncTree_,e),l=YI(s,a,o),d=rC(t),p=$I(t.serverSyncTree_,e,l,d,!0);Lg(t.eventQueue_,p),t.server_.put(e.toString(),s.val(!0),(m,y)=>{let _=m==="ok";_||Ge("set at "+e+" failed: "+m);let I=Rr(t.serverSyncTree_,d,!_);Yt(t.eventQueue_,e,I),uL(t,i,m,y)});let h=cC(t,e);ru(t,h),Yt(t.eventQueue_,h,[])}function aL(t){nu(t,"onDisconnectEvents");let e=Vg(t),n=Fl();Qp(t.onDisconnect_,z(),(i,o)=>{let s=UF(i,o,t.serverSyncTree_,e);AI(n,i,s)});let r=[];Qp(n,z(),(i,o)=>{r=r.concat(Ys(t.serverSyncTree_,i,o));let s=cC(t,i);ru(t,s)}),t.onDisconnect_=Fl(),Yt(t.eventQueue_,z(),r)}function cL(t,e,n){let r;O(e._path)===".info"?r=lg(t.infoSyncTree_,e,n):r=lg(t.serverSyncTree_,e,n),tC(t.eventQueue_,e._path,r)}function gg(t,e,n){let r;O(e._path)===".info"?r=ql(t.infoSyncTree_,e,n):r=ql(t.serverSyncTree_,e,n),tC(t.eventQueue_,e._path,r)}function lL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(eL)}function nu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),xe(n,...e)}function uL(t,e,n,r){e&&io(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function iC(t,e,n){return Mg(t.serverSyncTree_,e,n)||k.EMPTY_NODE}function Bg(t,e=t.transactionQueueTree_){if(e||iu(t,e),oo(e)){let n=sC(t,e);E(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&dL(t,Zs(e),n)}else ZI(e)&&tu(e,n=>{Bg(t,n)})}function dL(t,e,n){let r=n.map(d=>d.currentWriteId),i=iC(t,e,r),o=i,s=i.hash();for(let d=0;d<n.length;d++){let p=n[d];E(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;let h=Fe(e,p.path);o=o.updateChild(h,p.currentOutputSnapshotRaw)}let a=o.val(!0),l=e;t.server_.put(l.toString(),a,d=>{nu(t,"transaction put response",{path:l.toString(),status:d});let p=[];if(d==="ok"){let h=[];for(let m=0;m<n.length;m++)n[m].status=2,p=p.concat(Rr(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&h.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();iu(t,Og(t.transactionQueueTree_,e)),Bg(t,t.transactionQueueTree_),Yt(t.eventQueue_,e,p);for(let m=0;m<h.length;m++)io(h[m])}else{if(d==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Ge("transaction at "+l.toString()+" failed: "+d);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=d}ru(t,e)}},s)}function ru(t,e){let n=oC(t,e),r=Zs(n),i=sC(t,n);return fL(t,i,r),r}function fL(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],d=Fe(n,l.path),p=!1,h;if(E(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)p=!0,h=l.abortReason,i=i.concat(Rr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=tL)p=!0,h="maxretry",i=i.concat(Rr(t.serverSyncTree_,l.currentWriteId,!0));else{let m=iC(t,l.path,s);l.currentInputSnapshot=m;let y=e[a].update(m.val());if(y!==void 0){Fg("transaction failed: Data returned ",y,l.path);let _=Ce(y);typeof y=="object"&&y!=null&&$t(y,".priority")||(_=_.updatePriority(m.getPriority()));let C=l.currentWriteId,T=Vg(t),Re=YI(_,m,T);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=Re,l.currentWriteId=rC(t),s.splice(s.indexOf(C),1),i=i.concat($I(t.serverSyncTree_,l.path,Re,l.currentWriteId,l.applyLocally)),i=i.concat(Rr(t.serverSyncTree_,C,!0))}else p=!0,h="nodata",i=i.concat(Rr(t.serverSyncTree_,l.currentWriteId,!0))}Yt(t.eventQueue_,n,i),i=[],p&&(e[a].status=2,(function(m){setTimeout(m,Math.floor(0))})(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}iu(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)io(r[a]);Bg(t,t.transactionQueueTree_)}function oC(t,e){let n,r=t.transactionQueueTree_;for(n=O(e);n!==null&&oo(r)===void 0;)r=Og(r,n),e=se(e),n=O(e);return r}function sC(t,e){let n=[];return aC(t,e,n),n.sort((r,i)=>r.order-i.order),n}function aC(t,e,n){let r=oo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);tu(e,i=>{aC(t,i,n)})}function iu(t,e){let n=oo(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,KI(e,n.length>0?n:void 0)}tu(e,r=>{iu(t,r)})}function cC(t,e){let n=Zs(oC(t,e)),r=Og(t.transactionQueueTree_,e);return WF(r,i=>{Dp(t,i)}),Dp(t,r),QI(r,i=>{Dp(t,i)}),n}function Dp(t,e){let n=oo(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(E(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(E(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Rr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?KI(e,void 0):n.length=o+1,Yt(t.eventQueue_,Zs(e),i);for(let s=0;s<r.length;s++)io(r[s])}}function hL(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function pL(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ge(`Invalid query segment '${n}' in query '${t}'`)}return e}var Jb=function(t,e){let n=gL(t),r=n.namespace;n.domain==="firebase.com"&&cn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&cn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||YO();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Al(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ee(n.pathString)}},gL=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(a=t.substring(0,d-1),t=t.substring(d+2));let p=t.indexOf("/");p===-1&&(p=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(p,h)),p<h&&(i=hL(t.substring(p,h)));let m=pL(t.substring(Math.min(t.length,h)));d=e.indexOf(":"),d>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(d+1),10)):d=e.length;let y=e.slice(0,d);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{let _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),o=r}"ns"in m&&(o=m.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var Yl=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+_e(this.snapshot.exportVal())}},Kl=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Hs=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return E(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var mg=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return V(this._path)?null:_I(this._path)}get ref(){return new Kt(this._repo,this._path)}get _queryIdentifier(){let e=Vb(this._queryParams),n=wg(e);return n==="{}"?"default":n}get _queryObject(){return Vb(this._queryParams)}isEqual(e){if(e=it(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=bg(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+S1(this._path)}};var Kt=class t extends mg{constructor(e,n){super(e,n,new Yp,!1)}get parent(){let e=EI(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Us=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new ee(e),r=$s(this.ref,e);return new t(this._node.getChild(n),r,de)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,$s(this.ref,r),de)))}hasChild(e){let n=new ee(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function lC(t,e){return t=it(t),t._checkNotDeleted("ref"),e!==void 0?$s(t._root,e):t._root}function $s(t,e){return t=it(t),O(t._path)===null?ZF("child","path",e,!1):eC("child","path",e,!1),new Kt(t._repo,be(t._path,e))}function uC(t,e){t=it(t),QF("set",t._path),KF("set",e,t._path,!1);let n=new _t;return sL(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function dC(t){t=it(t);let e=new Hs(()=>{}),n=new Ws(e);return oL(t._repo,t,n).then(r=>new Us(r,new Kt(t._repo,t._path),t._queryParams.getIndex()))}var Ws=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new Yl("value",this,new Us(e.snapshotNode,new Kt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Kl(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Zl=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Kl(this,e,n):null}createEvent(e,n){E(e.childName!=null,"Child events should have a childName.");let r=$s(new Kt(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Yl(e.type,this,new Us(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function mL(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let l=n,d=(p,h)=>{gg(t._repo,t,a),l(p,h)};d.userCallback=n.userCallback,d.context=n.context,n=d}let s=new Hs(n,o||void 0),a=e==="value"?new Ws(s):new Zl(e,s);return cL(t._repo,t,a),()=>gg(t._repo,t,a)}function fC(t,e,n,r){return mL(t,"value",e,n,r)}function hC(t,e,n){let r=null,i=n?new Hs(n):null;e==="value"?r=new Ws(i):e&&(r=new Zl(e,i)),gg(t._repo,t,r)}bF(Kt);SF(Kt);var yL="FIREBASE_DATABASE_EMULATOR_HOST",yg={},vL=!1;function _L(t,e,n,r){let i=e.lastIndexOf(":"),o=e.substring(0,i),s=wr(o);t.repoInfo_=new Al(e,s,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function wL(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||cn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xe("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Jb(o,i),a=s.repoInfo,l,d;typeof process<"u"&&process.env&&(d=process.env[yL]),d?(l=!0,o=`http://${d}?ns=${a.namespace}`,s=Jb(o,i),a=s.repoInfo):l=!s.repoInfo.secure;let p=i&&l?new ks(ks.OWNER):new kp(t.name,t.options,e);JF("Invalid Firebase Database URL",s),V(s.path)||cn("Database URL must point to the root of a Firebase Database (not including a child path).");let h=bL(a,t,p,new Mp(t,n));return new vg(h,t)}function EL(t,e){let n=yg[e];(!n||n[t.key]!==t)&&cn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),lL(t),delete n[t.key]}function bL(t,e,n,r){let i=yg[e.name];i||(i={},yg[e.name]=i);let o=i[t.toURLString()];return o&&cn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new pg(t,vL,n,r),i[t.toURLString()]=o,o}var vg=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(nL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kt(this._repo,z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(EL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&cn("Cannot call "+e+" on a deleted database.")}};function pC(t=$i(),e){let n=cl(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=wE("database");r&&gC(n,...r)}return n}function gC(t,e,n,r={}){t=it(t),t._checkNotDeleted("useEmulator");let i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&br(r,o.repoInfo_.emulatorOptions))return;cn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&cn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ks(ks.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:bE(r.mockUserToken,t.app.options.projectId);s=new ks(a)}wr(e)&&(Fh(e),Lh("Database",!0)),_L(o,i,r,s)}function IL(t){GO(Ui),bt(new Oe("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return wL(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),me(Eb,bb,t),me(Eb,bb,"esm2017")}Ig.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ig.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};IL();var Vr=class{constructor(e){return e}},mC="database",Hg=class{constructor(){return Gi(mC)}};var Ug=new A("angularfire2.database-instances");function CL(t,e){let n=dl(mC,t,e);return n&&new Vr(n)}function DL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Vr(r)}}var TL={provide:Hg,deps:[[new nn,Ug]]},SL={provide:Vr,useFactory:CL,deps:[[new nn,Ug],Sr]};function sZ(t,...e){return me("angularfire",Dr.full,"rtdb"),di([SL,TL,{provide:Ug,useFactory:DL(t),multi:!0,deps:[pe,Be,Tr,vs,[new nn,Dl],[new nn,hl],...e]}])}var Zt=It(dC,!0),aZ=It(pC,!0);var yC=It(hC,!0);var vC=It(fC,!0);var ot=It(lC,!0,2);var ou=It(uC,!0,2);var su=class t{constructor(e){this.db=e}suits=["C","O","E","B"];values=["1","2","3","4","5","6","7","S","C","R"];createRoom(e){return w(this,null,function*(){let n=Math.random().toString(36).substring(2,8).toUpperCase(),r=this.generateDeck(),i=this.drawCards(r,3),o={players:[{name:e,cards:i,lives:3}],deck:r,discardPile:[],turn:e,status:"waiting"},s=ot(this.db,`rooms/${n}`);return yield ou(s,o),n})}joinRoom(e,n){return w(this,null,function*(){let r=ot(this.db,`rooms/${e}`),i=yield Zt(r);if(!i.exists())return console.error("La sala no existe"),!1;let o=i.val();if(!o||!o.players||!Array.isArray(o.players))return console.error("Datos de la sala inv\xE1lidos:",o),!1;if(o.players.some(l=>l.name===n))return console.error("El jugador ya est\xE1 en la sala"),!1;if(!o.deck||o.deck.length<3)return console.error("No hay suficientes cartas en el deck"),!1;let s=[];for(let l=0;l<3&&o.deck.length>0;l++){let d=Math.floor(Math.random()*o.deck.length);s.push(o.deck.splice(d,1)[0])}let a={name:n,cards:s,lives:3};o.players.push(a),o.status="playing",o.discardPile||(o.discardPile=[]),o.deck.length>0&&o.discardPile.push(o.deck.pop());try{return yield ou(r,o),!0}catch(l){return console.error("Error al actualizar la sala:",l),!1}})}subscribeToRoom(e){return new R(n=>{let r=ot(this.db,`rooms/${e}`),i=vC(r,o=>{o.exists()?n.next(o.val()):n.next(null)},o=>{n.error(o)});return()=>yC(r,"value",i)})}generateDeck(){let e=[];for(let n of this.suits)for(let r of this.values)e.push(r+n);return e.sort(()=>Math.random()-.5)}drawCards(e,n){let r=[];for(let i=0;i<n&&e.length>0;i++){let o=Math.floor(Math.random()*e.length);r.push(e.splice(o,1)[0])}return r}updateRoom(e,n){return w(this,null,function*(){let r=ot(this.db,`rooms/${e}`);yield ou(r,n)})}changeTurn(e,n){return w(this,null,function*(){let r=ot(this.db,`rooms/${e}`),i=yield Zt(r);if(!i.exists())return n;let o=i.val(),a=(o.players.findIndex(l=>l.name===n)+1)%o.players.length;return o.turn=o.players[a].name,yield this.updateRoom(e,o),o.turn})}drawFromDeck(e,n){return w(this,null,function*(){let r=ot(this.db,`rooms/${e}`),i=yield Zt(r);if(!i.exists())return null;let o=i.val();if(!o.deck||o.deck.length===0)return console.error("No hay cartas en el deck"),null;let s=o.deck.pop();return yield this.updateRoom(e,o),s})}drawFromDiscard(e,n){return w(this,null,function*(){let r=ot(this.db,`rooms/${e}`),i=yield Zt(r);if(!i.exists())return null;let o=i.val();if(!o.discardPile||o.discardPile.length===0)return console.error("No hay cartas en el descarte"),null;let s=o.discardPile.pop();return yield this.updateRoom(e,o),s})}swapCard(e,n,r,i){return w(this,null,function*(){let o=ot(this.db,`rooms/${e}`),s=yield Zt(o);if(!s.exists())return!1;let a=s.val(),l=a.players.find(h=>h.name===n);if(!l||!l.cards||r>=l.cards.length)return!1;a.discardPile||(a.discardPile=[]);let d=l.cards[r];if(a.discardPile.push(d),l.cards[r]=i,a.status==="round_closing"){let h=yield this.finishRoundInternal(a);return yield this.updateRoom(e,a),!0}else{let m=(a.players.findIndex(y=>y.name===n)+1)%a.players.length;return a.turn=a.players[m].name,yield this.updateRoom(e,a),!0}})}discardDrawnCard(e,n,r){return w(this,null,function*(){let i=ot(this.db,`rooms/${e}`),o=yield Zt(i);if(!o.exists())return!1;let s=o.val();if(s.discardPile||(s.discardPile=[]),s.discardPile.push(r),s.status==="round_closing"){let l=yield this.finishRoundInternal(s);return yield this.updateRoom(e,s),!0}else{let d=(s.players.findIndex(p=>p.name===n)+1)%s.players.length;return s.turn=s.players[d].name,yield this.updateRoom(e,s),!0}})}finishRoundInternal(e){if(e.players.length!==2)return null;let n=e.players[0],r=e.players[1],i=this.calculatePlayerPoints(n.cards),o=this.calculatePlayerPoints(r.cards);if(i===o)return e.status="waiting",e.lastWinner="EMPATE",e.lastWinnerPoints=i,e.lastLoserPoints=o,delete e.closingPlayer,{winner:"EMPATE",winnerPoints:i,loserPoints:o,isTie:!0};let s=i>=o?n:r,a=i>=o?r:n,l=Math.max(i,o),d=Math.min(i,o);return a.lives-=1,e.status=a.lives<=0?"finished":"waiting",e.lastWinner=s.name,e.lastWinnerPoints=l,e.lastLoserPoints=d,delete e.closingPlayer,{winner:s.name,winnerPoints:l,loserPoints:d,isTie:!1}}closeRound(e,n){return w(this,null,function*(){let r=ot(this.db,`rooms/${e}`),i=yield Zt(r);if(!i.exists())return!1;let o=i.val();if(o.turn!==n)return console.error("No es el turno del jugador"),!1;o.status="round_closing",o.closingPlayer=n;let a=(o.players.findIndex(l=>l.name===n)+1)%o.players.length;return o.turn=o.players[a].name,yield this.updateRoom(e,o),!0})}finishRound(e){return w(this,null,function*(){let n=ot(this.db,`rooms/${e}`),r=yield Zt(n);if(!r.exists())return null;let i=r.val(),o=this.finishRoundInternal(i);return o&&(yield this.updateRoom(e,i)),o})}startNewRound(e){return w(this,null,function*(){let n=ot(this.db,`rooms/${e}`),r=yield Zt(n);if(!r.exists())return!1;let i=r.val();return i.players.every(s=>s.lives>0)&&i.status==="waiting"?(delete i.lastWinner,delete i.lastWinnerPoints,delete i.lastLoserPoints,delete i.closingPlayer,i.deck=this.generateDeck(),i.discardPile=[],i.players.forEach(s=>{s.cards=this.drawCards(i.deck,3)}),i.deck.length>0&&i.discardPile.push(i.deck.pop()),i.turn=i.players[0].name,i.status="playing",yield this.updateRoom(e,i),!0):!1})}calculatePlayerPoints(e){let n={};for(let i of e){let o=i.charAt(i.length-1),s=i.charAt(0),a;switch(s){case"1":a=11;break;case"S":case"C":case"R":a=10;break;default:a=parseInt(s);break}n[o]||(n[o]=[]),n[o].push(a)}let r=0;for(let i in n){let o=n[i].reduce((s,a)=>s+a,0);o>r&&(r=o)}return r}static \u0275fac=function(n){return new(n||t)(Ee(Vr))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})};function ML(t,e){t&1&&(H(0,"p",24),ue(1,"\u{1F3AF} Es tu turno"),G())}function kL(t,e){t&1&&(H(0,"p",25),ue(1,"\u23F3 Esperando turno..."),G())}function xL(t,e){if(t&1){let n=Tn();H(0,"div",28),ke("click",function(){$e(n);let i=ge(3);return We(i.drawFromDiscard())}),H(1,"img",29),ke("error",function(i){let o=$e(n).$implicit,s=ge(3);return We(s.onImageError(i,o))}),G()()}if(t&2){let n=e.$implicit,r=ge(3);rn("discard-glow",r.canDrawFromDiscard()),W(),ae("src",r.getCardImagePath(n),Si)("alt",r.getCardDisplayName(n))}}function RL(t,e){if(t&1&&(H(0,"div",26),jt(1,xL,2,4,"div",27),G()),t&2){let n=ge(2);W(),ae("ngForOf",n.room.discardPile.slice(-1))}}function PL(t,e){t&1&&(H(0,"div",30)(1,"div",31),ue(2,"Vac\xEDo"),G()())}function OL(t,e){if(t&1){let n=Tn();H(0,"div",32),ke("click",function(){let i=$e(n).index,o=ge(2);return We(o.selectCard(i))}),H(1,"img",29),ke("error",function(i){let o=$e(n).$implicit,s=ge(2);return We(s.onImageError(i,o))}),G(),H(2,"div",33)(3,"div",34),ue(4),G(),H(5,"div",35),ue(6),G()()()}if(t&2){let n=e.$implicit,r=e.index,i=ge(2);Bc("animation-delay",r*.1+"s"),rn("selected",i.selectedCardIndex===r)("card-entering",i.cardAnimations[r]==null?null:i.cardAnimations[r].entering)("card-leaving",i.cardAnimations[r]==null?null:i.cardAnimations[r].leaving),W(),ae("src",i.getCardImagePath(n),Si)("alt",i.getCardDisplayName(n)),W(3),Ri(i.getCardValue(n)),W(),ae("ngClass","suit-"+i.getCardSuit(n)),W(),Sn(" ",i.getSuitSymbol(i.getCardSuit(n))," ")}}function FL(t,e){if(t&1){let n=Tn();H(0,"div",36)(1,"h3"),ue(2,"Carta robada:"),G(),H(3,"div",37)(4,"div",38)(5,"img",29),ke("error",function(i){$e(n);let o=ge(2);return We(o.onImageError(i,o.drawnCard))}),G(),H(6,"div",33)(7,"div",34),ue(8),G(),H(9,"div",35),ue(10),G()()()()()}if(t&2){let n=ge(2);W(4),rn("card-flip-in",n.showDrawnCardAnimation),W(),ae("src",n.getCardImagePath(n.drawnCard),Si)("alt",n.getCardDisplayName(n.drawnCard)),W(3),Ri(n.getCardValue(n.drawnCard)),W(),ae("ngClass","suit-"+n.getCardSuit(n.drawnCard)),W(),Sn(" ",n.getSuitSymbol(n.getCardSuit(n.drawnCard))," ")}}function LL(t,e){if(t&1){let n=Tn();Xo(0),H(1,"button",39),ke("click",function(){$e(n);let i=ge(2);return We(i.drawFromDeck())}),ue(2," \u{1F3B4} Robar del mazo "),G(),H(3,"button",39),ke("click",function(){$e(n);let i=ge(2);return We(i.drawFromDiscard())}),ue(4," \u267B\uFE0F Robar descartada "),G(),es()}if(t&2){let n=ge(2);W(),ae("disabled",!n.isYourTurn),W(2),ae("disabled",!n.isYourTurn||!n.canDrawFromDiscard())}}function VL(t,e){if(t&1){let n=Tn();Xo(0),H(1,"button",40),ke("click",function(){$e(n);let i=ge(2);return We(i.confirmCardSwap())}),ue(2," \u21AA\uFE0F Cambiar carta "),G(),H(3,"button",41),ke("click",function(){$e(n);let i=ge(2);return We(i.keepCurrentCards())}),ue(4," \u274C Descartar robada "),G(),es()}if(t&2){let n=ge(2);W(),ae("disabled",n.selectedCardIndex===-1)}}function jL(t,e){if(t&1){let n=Tn();H(0,"div",2)(1,"h2"),ue(2),G(),H(3,"div",3)(4,"h3"),ue(5),G(),jt(6,ML,2,0,"p",4)(7,kL,2,0,"p",5),G(),H(8,"div",6)(9,"div",7)(10,"h3"),ue(11,"Mazo"),G(),H(12,"div",8),xi(13,"div",9)(14,"div",10),H(15,"div",11),ke("click",function(){$e(n);let i=ge();return We(i.drawFromDeck())}),xi(16,"img",12),G()(),H(17,"p",13),ue(18),G()(),H(19,"div",14)(20,"h3"),ue(21,"Descarte"),G(),jt(22,RL,2,1,"div",15)(23,PL,3,0,"div",16),G()(),H(24,"div",17)(25,"h3"),ue(26,"Tus cartas:"),G(),H(27,"div",18),jt(28,OL,7,13,"div",19),G()(),jt(29,FL,11,7,"div",20),H(30,"div",21),jt(31,LL,5,2,"ng-container",22)(32,VL,5,1,"ng-container",22),H(33,"button",23),ke("click",function(){$e(n);let i=ge();return We(i.closeRound())}),ue(34," \u{1F3AF} Cerrar ronda "),G()()()}if(t&2){let n=ge();W(2),Sn("Juego 31 - Sala: ",n.roomCode),W(3),Hc("",n.playerName," (",n.calculateHandPoints()," puntos)"),W(),ae("ngIf",n.isYourTurn),W(),ae("ngIf",!n.isYourTurn),W(8),rn("deck-drawing",n.isDrawingFromDeck),W(3),Sn("",n.getDeckCount()," cartas"),W(4),ae("ngIf",n.room.discardPile&&n.room.discardPile.length>0),W(),ae("ngIf",!n.room.discardPile||n.room.discardPile.length===0),W(5),ae("ngForOf",n.playerCards),W(),ae("ngIf",n.drawnCard),W(2),ae("ngIf",!n.drawnCard),W(),ae("ngIf",n.drawnCard),W(),ae("disabled",!n.canCloseRound)}}function BL(t,e){if(t&1&&(H(0,"div",42)(1,"div",43),xi(2,"img",44),H(3,"h2",45),ue(4),G()()()),t&2){let n=ge();W(2),ae("src",n.winnerImageSrc,Si)("alt",n.winnerText),W(2),Ri(n.winnerText)}}var _C=class t{constructor(e){this.roomService=e}room;playerName="";roomCode="";roomSubscription;playerCards=[];isYourTurn=!1;drawnCard=null;selectedCardIndex=-1;cardAnimations={};showDrawnCardAnimation=!1;isDrawingFromDeck=!1;ngOnInit(){this.updateState(),this.roomSubscription=this.roomService.subscribeToRoom(this.roomCode).subscribe({next:e=>{this.room=e,this.updateState()},error:e=>{console.error("Error en la suscripci\xF3n de la sala:",e)}})}ngOnDestroy(){this.roomSubscription&&this.roomSubscription.unsubscribe()}updateState(){if(!this.room||!this.room.players)return;let e=this.room.players.find(n=>n.name===this.playerName);e&&(this.playerCards=e.cards||[],this.isYourTurn=this.room.turn===this.playerName,!this.isYourTurn&&this.room.status!=="round_closing"&&(this.drawnCard=null,this.selectedCardIndex=-1),this.room.status==="waiting"&&this.room.lastWinner&&!this.showWinnerImage&&!this.isHandlingRoundEnd&&this.handleRoundEnd(),this.room.status==="playing"&&!this.room.lastWinner&&(this.drawnCard=null,this.selectedCardIndex=-1,this.showWinnerImage=!1,this.isHandlingRoundEnd=!1),this.room.status==="round_closing"&&this.isYourTurn&&console.log("Es tu \xFAltimo turno despu\xE9s de que el otro jugador se plant\xF3"))}drawFromDeck(){return w(this,null,function*(){if(!(!this.isYourTurn||this.drawnCard))try{this.isDrawingFromDeck=!0,setTimeout(()=>{this.isDrawingFromDeck=!1},600);let e=yield this.roomService.drawFromDeck(this.roomCode,this.playerName);e&&(this.drawnCard=e,setTimeout(()=>{this.showDrawnCardAnimation=!0},300))}catch(e){console.error("Error al robar del mazo:",e),this.isDrawingFromDeck=!1}})}drawFromDiscard(){return w(this,null,function*(){if(!(!this.isYourTurn||this.drawnCard||!this.canDrawFromDiscard()))try{let e=yield this.roomService.drawFromDiscard(this.roomCode,this.playerName);e&&(this.drawnCard=e,setTimeout(()=>{this.showDrawnCardAnimation=!0},100))}catch(e){console.error("Error al robar del descarte:",e)}})}keepCurrentCards(){return w(this,null,function*(){if(this.drawnCard)try{(yield this.roomService.discardDrawnCard(this.roomCode,this.playerName,this.drawnCard))?(this.drawnCard=null,this.showDrawnCardAnimation=!1):console.error("No se pudo descartar la carta")}catch(e){console.error("Error al descartar carta:",e),this.drawnCard=null,this.showDrawnCardAnimation=!1}})}confirmCardSwap(){return w(this,null,function*(){if(!(this.selectedCardIndex===-1||!this.drawnCard))try{this.cardAnimations[this.selectedCardIndex]={entering:!1,leaving:!0},setTimeout(()=>w(this,null,function*(){try{(yield this.roomService.swapCard(this.roomCode,this.playerName,this.selectedCardIndex,this.drawnCard))?(this.cardAnimations[this.selectedCardIndex]={entering:!0,leaving:!1},setTimeout(()=>{this.cardAnimations[this.selectedCardIndex]={entering:!1,leaving:!1}},600),this.drawnCard=null,this.selectedCardIndex=-1,this.showDrawnCardAnimation=!1):(console.error("No se pudo intercambiar la carta"),this.cardAnimations[this.selectedCardIndex]={entering:!1,leaving:!1})}catch(e){console.error("Error al intercambiar carta:",e),this.cardAnimations[this.selectedCardIndex]={entering:!1,leaving:!1},this.drawnCard=null,this.selectedCardIndex=-1,this.showDrawnCardAnimation=!1}}),400)}catch(e){console.error("Error en confirmCardSwap:",e)}})}getDeckCount(){return this.room?.deck?.length||0}canDrawFromDiscard(){return this.room?.discardPile&&this.room.discardPile.length>0}selectCard(e){!this.isYourTurn||!this.drawnCard||(this.selectedCardIndex=e)}get canCloseRound(){return this.isYourTurn&&!this.drawnCard&&this.room.status!=="round_closing"}getNextPlayerTurn(){let n=(this.room.players.findIndex(r=>r.name===this.playerName)+1)%this.room.players.length;return this.room.players[n].name}calculateHandPoints(){let e={};for(let r of this.playerCards){let i=this.getCardSuit(r),o=this.getCardNumericValue(r);e[i]||(e[i]=[]),e[i].push(o)}let n=0;for(let r in e){let i=e[r].reduce((o,s)=>o+s,0);i>n&&(n=i)}return n}getCardNumericValue(e){let n=e.charAt(0);switch(n){case"1":return 11;case"S":return 10;case"C":return 10;case"R":return 10;default:return parseInt(n)}}closeRound(){return w(this,null,function*(){if(this.drawnCard){yield Qs.default.fire({title:"Error",text:"No puedes cerrar la ronda si tienes una carta robada",icon:"error",confirmButtonText:"OK"});return}try{let e=this.calculateHandPoints();(yield this.roomService.closeRound(this.roomCode,this.playerName))?yield Qs.default.fire({title:"\xA1Te has plantado!",text:`Te has plantado con ${e} puntos. El otro jugador tiene un turno m\xE1s.`,icon:"info",confirmButtonText:"OK"}):yield Qs.default.fire({title:"Error",text:"Error al cerrar la ronda",icon:"error",confirmButtonText:"OK"})}catch{yield Qs.default.fire({title:"Error",text:"Error al cerrar la ronda",icon:"error",confirmButtonText:"OK"})}})}showWinnerImage=!1;winnerImageSrc="";winnerText="";isHandlingRoundEnd=!1;handleRoundEnd(){return w(this,null,function*(){if(!(this.isHandlingRoundEnd||this.showWinnerImage)&&this.room?.status==="waiting"&&this.room.lastWinner){this.isHandlingRoundEnd=!0;let e=this.room.lastWinner,n=this.room.lastWinnerPoints||0,r=this.room.lastLoserPoints||0;e==="EMPATE"?(this.winnerImageSrc="assets/empate.jpeg",this.winnerText=`\xA1Empate! Ambos con ${n} puntos`):e==="\xC1guila"?(this.winnerImageSrc="assets/aguila-winner.jpeg",this.winnerText=`\xA1${e} gan\xF3 con ${n} puntos!`):e==="Lince"&&(this.winnerImageSrc="assets/lince-winner.jpeg",this.winnerText=`\xA1${e} gan\xF3 con ${n} puntos!`),this.showWinnerImage=!0,setTimeout(()=>w(this,null,function*(){this.showWinnerImage=!1,this.room.players.every(o=>o.lives>0)&&(yield this.roomService.startNewRound(this.roomCode)),this.isHandlingRoundEnd=!1}),4e3)}})}prepareNewRoundLocal(){return w(this,null,function*(){if(!this.room)return;this.room.players.every(n=>n.lives>0)&&(this.room.deck=this.roomService.generateDeck(),this.room.discardPile=[],this.room.players.forEach(n=>{n.cards=this.roomService.drawCards(this.room.deck,3)}),this.room.deck.length>0&&this.room.discardPile.push(this.room.deck.pop()),this.room.turn=this.room.players[0].name,this.room.status="playing",yield this.roomService.updateRoom(this.room.code,this.room))})}getCardValue(e){let n=e.charAt(0);switch(n){case"S":return"Sota";case"C":return"Caballo";case"R":return"Rey";default:return n}}getCardSuit(e){return e.charAt(e.length-1)}getSuitSymbol(e){switch(e){case"C":return"\u2665";case"O":return"\u{1F536}";case"E":return"\u2660";case"B":return"\u2663";default:return e}}getCardImagePath(e){return`assets/cards/${e}.png`}getCardDisplayName(e){let n=this.getCardValue(e),r=this.getCardSuit(e),i=this.getSuitName(r);return`${n} de ${i}`}getSuitName(e){switch(e){case"C":return"Copas";case"O":return"Oros";case"E":return"Espadas";case"B":return"Bastos";default:return e}}onImageError(e,n){console.warn(`No se pudo cargar la imagen para la carta: ${n}`);let r=e.target,o=r.parentElement.querySelector(".card-fallback");r.style.display="none",o&&(o.style.display="flex")}static \u0275fac=function(n){return new(n||t)(ie(su))};static \u0275cmp=th({type:t,selectors:[["app-game"]],inputs:{room:"room",playerName:"playerName",roomCode:"roomCode"},decls:2,vars:2,consts:[["class","game-container",4,"ngIf"],["class","winner-overlay",4,"ngIf"],[1,"game-container"],[1,"player-info"],["class","turn-indicator",4,"ngIf"],["class","waiting",4,"ngIf"],[1,"game-table"],[1,"deck-area"],[1,"deck-stack"],[1,"deck-card","deck-card-1"],[1,"deck-card","deck-card-2"],[1,"deck-card","deck-card-3",3,"click"],["src","/assets/cards/RV.png","alt","Mazo",1,"card-image"],[1,"deck-count"],[1,"discard-area"],["class","discard-stack",4,"ngIf"],["class","empty-discard",4,"ngIf"],[1,"player-hand"],[1,"cards-container"],["class","card player-card",3,"selected","card-entering","card-leaving","animation-delay","click",4,"ngFor","ngForOf"],["class","drawn-card-area",4,"ngIf"],[1,"game-actions"],[4,"ngIf"],[1,"btn","btn-warning","action-btn",3,"click","disabled"],[1,"turn-indicator"],[1,"waiting"],[1,"discard-stack"],["class","card discard-card",3,"discard-glow","click",4,"ngFor","ngForOf"],[1,"card","discard-card",3,"click"],[1,"card-image",3,"error","src","alt"],[1,"empty-discard"],[1,"empty-pile"],[1,"card","player-card",3,"click"],[1,"card-fallback",2,"display","none"],[1,"card-value"],[1,"card-suit",3,"ngClass"],[1,"drawn-card-area"],[1,"drawn-card-container"],[1,"card","drawn-card"],[1,"btn","btn-primary","action-btn",3,"click","disabled"],[1,"btn","btn-success","action-btn",3,"click","disabled"],[1,"btn","btn-danger","action-btn",3,"click"],[1,"winner-overlay"],[1,"winner-content"],[1,"winner-image",3,"src","alt"],[1,"winner-text"]],template:function(n,r){n&1&&jt(0,jL,35,15,"div",0)(1,BL,5,3,"div",1),n&2&&(ae("ngIf",r.room),W(),ae("ngIf",r.showWinnerImage))},dependencies:[uE,Eh,_h,Kc,wh],styles:['.game-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:20px;font-family:Arial,sans-serif;background:linear-gradient(135deg,#fff3cd,#ffeaa7,#fdcb6e);min-height:100vh;color:#8b4513}.game-title[_ngcontent-%COMP%]{color:#e17055;text-align:center;margin-bottom:30px;text-shadow:2px 2px 4px rgba(0,0,0,.3)}.player-info[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.turn-indicator[_ngcontent-%COMP%]{background:linear-gradient(45deg,#f39c12,#fdcb6e);color:#fff;padding:15px;border-radius:25px;text-align:center;margin:10px auto;max-width:300px;box-shadow:0 4px 15px #f39c124d;animation:_ngcontent-%COMP%_pulse 2s infinite}.waiting[_ngcontent-%COMP%]{background:#ffeaa74d;padding:10px;border-radius:15px;text-align:center;margin:10px auto;max-width:300px;color:#e17055}.game-table[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin:30px 0;padding:20px;background:#fff3;border-radius:20px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(255,234,167,.3)}.deck-area[_ngcontent-%COMP%]{text-align:center}.deck-stack[_ngcontent-%COMP%]{position:relative;width:110px;height:150px;margin:0 auto}.deck-card[_ngcontent-%COMP%]{position:absolute;width:110px;height:150px;background:#8b4513;border:3px solid #d2691e;border-radius:12px;cursor:pointer;transition:all .3s ease}.deck-card-1[_ngcontent-%COMP%]{transform:rotate(-2deg) translate(-2px,2px);z-index:1}.deck-card-2[_ngcontent-%COMP%]{transform:rotate(1deg) translate(1px,-1px);z-index:2}.deck-card-3[_ngcontent-%COMP%]{z-index:3;box-shadow:0 8px 25px #8b45134d}.deck-card-3[_ngcontent-%COMP%]:hover{transform:translateY(-10px) scale(1.05);box-shadow:0 15px 35px #8b451366}.deck-drawing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cardDraw .6s ease-out}.deck-count[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;opacity:.8;color:#e17055}.discard-area[_ngcontent-%COMP%]{text-align:center}.discard-stack[_ngcontent-%COMP%]{position:relative;width:110px;height:150px;margin:0 auto}.discard-card[_ngcontent-%COMP%]{position:absolute;width:110px;height:150px;cursor:pointer;transition:all .3s ease;animation:_ngcontent-%COMP%_cardDiscard .5s ease-out}.discard-glow[_ngcontent-%COMP%]{box-shadow:0 0 20px #f39c12,0 0 40px #f39c12;animation:_ngcontent-%COMP%_glow 2s ease-in-out infinite alternate}.empty-discard[_ngcontent-%COMP%]{width:110px;height:150px;margin:0 auto}.empty-pile[_ngcontent-%COMP%]{width:100%;height:100%;border:3px dashed rgba(225,112,85,.5);border-radius:12px;display:flex;align-items:center;justify-content:center;color:#e17055b3;font-size:14px}.cards-container[_ngcontent-%COMP%]{display:flex;gap:20px;flex-wrap:wrap;margin:20px 0;justify-content:center;perspective:1000px}.card[_ngcontent-%COMP%]{width:110px;height:150px;border:3px solid #fff;border-radius:12px;margin:5px;cursor:pointer;position:relative;background:#fff;box-shadow:0 4px 15px #0003;transition:all .3s cubic-bezier(.4,0,.2,1);overflow:hidden;transform-style:preserve-3d}.player-card[_ngcontent-%COMP%]:hover{transform:translateY(-15px) rotateY(5deg);box-shadow:0 15px 35px #0000004d}.card.selected[_ngcontent-%COMP%]{border-color:#f39c12;transform:translateY(-20px) scale(1.1);box-shadow:0 0 25px #f39c12,0 15px 35px #0006;z-index:10}.card-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;border-radius:9px;padding:5px;box-sizing:border-box}.card-entering[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cardEnter .6s ease-out}.card-leaving[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cardLeave .4s ease-in}.card-flip-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flipIn .8s ease-out}.drawn-card-area[_ngcontent-%COMP%]{text-align:center;margin:30px 0;padding:20px;background:#fff3;border-radius:15px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border:2px solid rgba(255,234,167,.3)}.drawn-card-container[_ngcontent-%COMP%]{display:flex;justify-content:center;perspective:1000px}.drawn-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cardDrawn .8s ease-out;box-shadow:0 0 30px #f39c1299}.player-hand[_ngcontent-%COMP%]{margin:30px 0;padding:20px;border:2px solid rgba(255,234,167,.5);border-radius:20px;background:#fff3;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.game-actions[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center;margin:30px 0;flex-wrap:wrap}.action-btn[_ngcontent-%COMP%]{padding:15px 25px;border:none;border-radius:25px;cursor:pointer;font-weight:700;font-size:16px;transition:all .3s ease;box-shadow:0 4px 15px #0003;position:relative;overflow:hidden}.action-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left .5s}.action-btn[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(45deg,#f39c12,#fdcb6e);color:#fff}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(45deg,#27ae60,#2ecc71);color:#fff}.btn-danger[_ngcontent-%COMP%]{background:linear-gradient(45deg,#e74c3c,#c0392b);color:#fff}.btn-warning[_ngcontent-%COMP%]{background:linear-gradient(45deg,#e67e22,#f39c12);color:#fff}.action-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 8px 25px #0000004d}.action-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_glow{0%{box-shadow:0 0 20px #f39c12}to{box-shadow:0 0 30px #f39c12,0 0 40px #f39c12}}@keyframes _ngcontent-%COMP%_cardDraw{0%{transform:translateY(0) rotate(0)}50%{transform:translateY(-30px) rotate(10deg)}to{transform:translateY(-60px) rotate(0) scale(.8);opacity:0}}@keyframes _ngcontent-%COMP%_cardDiscard{0%{transform:scale(.8) rotate(180deg);opacity:0}to{transform:scale(1) rotate(0);opacity:1}}@keyframes _ngcontent-%COMP%_cardEnter{0%{transform:translate(-100px) rotate(-90deg) scale(.5);opacity:0}to{transform:translate(0) rotate(0) scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_cardLeave{0%{transform:translate(0) rotate(0) scale(1);opacity:1}to{transform:translate(100px) rotate(90deg) scale(.5);opacity:0}}@keyframes _ngcontent-%COMP%_flipIn{0%{transform:rotateY(180deg) scale(.5);opacity:0}50%{transform:rotateY(90deg) scale(.8)}to{transform:rotateY(0) scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_cardDrawn{0%{transform:translateY(-100px) rotateX(180deg) scale(.3);opacity:0}50%{transform:translateY(-20px) rotateX(90deg) scale(.8)}to{transform:translateY(0) rotateX(0) scale(1);opacity:1}}.card[_ngcontent-%COMP%]:hover:after{content:"";position:absolute;inset:0;background:radial-gradient(circle at center,rgba(255,255,255,.1) 0%,transparent 70%);pointer-events:none}@media (max-width: 768px){.game-table[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.cards-container[_ngcontent-%COMP%]{gap:15px}.card[_ngcontent-%COMP%], .deck-card[_ngcontent-%COMP%], .discard-card[_ngcontent-%COMP%], .deck-stack[_ngcontent-%COMP%], .discard-stack[_ngcontent-%COMP%], .empty-discard[_ngcontent-%COMP%]{width:90px;height:125px}.action-btn[_ngcontent-%COMP%]{padding:12px 20px;font-size:14px}}.winner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;justify-content:center;align-items:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .5s ease-in}.winner-content[_ngcontent-%COMP%]{text-align:center;background:#fff;padding:30px;border-radius:20px;box-shadow:0 10px 30px #0000004d;animation:_ngcontent-%COMP%_slideIn .5s ease-out;max-width:90%;max-height:90%}.winner-image[_ngcontent-%COMP%]{max-width:400px;max-height:400px;width:100%;height:auto;border-radius:15px;margin-bottom:20px;object-fit:contain}.winner-text[_ngcontent-%COMP%]{color:#e17055;font-size:1.5em;margin:0;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.1)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-50px) scale(.8);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}@media (max-width: 600px){.winner-content[_ngcontent-%COMP%]{padding:20px;margin:20px}.winner-image[_ngcontent-%COMP%]{max-width:300px;max-height:300px}.winner-text[_ngcontent-%COMP%]{font-size:1.2em}}']})};export{J as a,te as b,s0 as c,w as d,ye as e,y0 as f,R as g,$u as h,Wu as i,pt as j,yo as k,_o as l,kt as m,S0 as n,A0 as o,N0 as p,qn as q,Xt as r,L0 as s,Yn as t,Ga as u,j0 as v,wo as w,Ey as x,B0 as y,Eo as z,Zu as A,U0 as B,$0 as C,Qu as D,W0 as E,G0 as F,z0 as G,q0 as H,Y0 as I,K0 as J,P as K,Z as L,J0 as M,A as N,Ee as O,D as P,di as Q,Ad as R,je as S,_n as T,$e as U,We as V,pv as W,Be as X,Bo as Y,yi as Z,er as _,Ft as $,dr as aa,Cn as ba,Pc as ca,Mf as da,oA as ea,sA as fa,h_ as ga,xf as ha,cA as ia,bi as ja,W as ka,Go as la,qo as ma,ie as na,Jo as oa,rw as pa,iw as qa,th as ra,vt as sa,jt as ta,rh as ua,rt as va,pe as wa,xM as xa,Mi as ya,hw as za,ki as Aa,PM as Ba,OM as Ca,ae as Da,H as Ea,G as Fa,xi as Ga,Tn as Ha,ke as Ia,ge as Ja,rn as Ka,ue as La,Ri as Ma,Sn as Na,ww as Oa,ik as Pa,Ew as Qa,lk as Ra,on as Sa,P4 as Ta,ph as Ua,O4 as Va,vr as Wa,jk as Xa,mh as Ya,Hw as Za,Kc as _a,wh as $a,Eh as ab,$k as bb,bh as cb,d7 as db,eE as eb,R7 as fb,_x as gb,uE as hb,dE as ib,P9 as jb,O9 as kb,sZ as lb,aZ as mb,su as nb,_C as ob};
