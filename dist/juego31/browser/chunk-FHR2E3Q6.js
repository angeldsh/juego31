var eT=Object.create;var Au=Object.defineProperty,tT=Object.defineProperties,nT=Object.getOwnPropertyDescriptor,rT=Object.getOwnPropertyDescriptors,iT=Object.getOwnPropertyNames,Um=Object.getOwnPropertySymbols,oT=Object.getPrototypeOf,Wm=Object.prototype.hasOwnProperty,sT=Object.prototype.propertyIsEnumerable;var $m=(t,e,n)=>e in t?Au(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ee=(t,e)=>{for(var n in e||={})Wm.call(e,n)&&$m(t,n,e[n]);if(Um)for(var n of Um(e))sT.call(e,n)&&$m(t,n,e[n]);return t},re=(t,e)=>tT(t,rT(e));var aT=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var cT=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of iT(e))!Wm.call(t,i)&&i!==n&&Au(t,i,{get:()=>e[i],enumerable:!(r=nT(e,i))||r.enumerable});return t};var lT=(t,e,n)=>(n=t!=null?eT(oT(t)):{},cT(e||!t||!t.__esModule?Au(n,"default",{value:t,enumerable:!0}):n,t));var w=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(d){i(d)}},s=l=>{try{a(n.throw(l))}catch(d){i(d)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())});var gE=aT((Ht,Ah)=>{"use strict";(function(t,e){typeof Ht=="object"&&typeof Ah<"u"?Ah.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(Ht,function(){"use strict";function t(c,u,f){if(typeof c=="function"?c===u:c.has(u))return arguments.length<3?u:f;throw new TypeError("Private element is not present on this object")}function e(c,u){if(u.has(c))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(c,u){return c.get(t(c,u))}function r(c,u,f){e(c,u),u.set(c,f)}function i(c,u,f){return c.set(t(c,u),f),f}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},l=c=>new Promise(u=>{if(!c)return u();let f=window.scrollX,g=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),u()},o),window.scrollTo(f,g)}),d="swal2-",h=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((c,u)=>(c[u]=d+u,c),{}),y=["success","warning","info","question","error"].reduce((c,u)=>(c[u]=d+u,c),{}),_="SweetAlert2:",C=c=>c.charAt(0).toUpperCase()+c.slice(1),I=c=>{console.warn(`${_} ${typeof c=="object"?c.join(" "):c}`)},T=c=>{console.error(`${_} ${c}`)},Pe=[],qe=c=>{Pe.includes(c)||(Pe.push(c),I(c))},Xt=(c,u=null)=>{qe(`"${c}" is deprecated and will be removed in the next major release.${u?` Use "${u}" instead.`:""}`)},Ln=c=>typeof c=="function"?c():c,Vn=c=>c&&typeof c.toPromise=="function",hn=c=>Vn(c)?c.toPromise():Promise.resolve(c),ao=c=>c&&Promise.resolve(c)===c,we=()=>document.body.querySelector(`.${h.container}`),jn=c=>{let u=we();return u?u.querySelector(c):null},Ye=c=>jn(`.${c}`),G=()=>Ye(h.popup),zr=()=>Ye(h.icon),CI=()=>Ye(h["icon-content"]),$g=()=>Ye(h.title),lu=()=>Ye(h["html-container"]),Wg=()=>Ye(h.image),uu=()=>Ye(h["progress-steps"]),Zs=()=>Ye(h["validation-message"]),Nt=()=>jn(`.${h.actions} .${h.confirm}`),Gr=()=>jn(`.${h.actions} .${h.cancel}`),Bn=()=>jn(`.${h.actions} .${h.deny}`),II=()=>Ye(h["input-label"]),qr=()=>jn(`.${h.loader}`),co=()=>Ye(h.actions),zg=()=>Ye(h.footer),Qs=()=>Ye(h["timer-progress-bar"]),du=()=>Ye(h.close),DI=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,fu=()=>{let c=G();if(!c)return[];let u=c.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),f=Array.from(u).sort((b,$)=>{let X=parseInt(b.getAttribute("tabindex")||"0"),le=parseInt($.getAttribute("tabindex")||"0");return X>le?1:X<le?-1:0}),g=c.querySelectorAll(DI),v=Array.from(g).filter(b=>b.getAttribute("tabindex")!=="-1");return[...new Set(f.concat(v))].filter(b=>Ve(b))},hu=()=>en(document.body,h.shown)&&!en(document.body,h["toast-shown"])&&!en(document.body,h["no-backdrop"]),Js=()=>{let c=G();return c?en(c,h.toast):!1},TI=()=>{let c=G();return c?c.hasAttribute("data-loading"):!1},Ke=(c,u)=>{if(c.textContent="",u){let g=new DOMParser().parseFromString(u,"text/html"),v=g.querySelector("head");v&&Array.from(v.childNodes).forEach($=>{c.appendChild($)});let b=g.querySelector("body");b&&Array.from(b.childNodes).forEach($=>{$ instanceof HTMLVideoElement||$ instanceof HTMLAudioElement?c.appendChild($.cloneNode(!0)):c.appendChild($)})}},en=(c,u)=>{if(!u)return!1;let f=u.split(/\s+/);for(let g=0;g<f.length;g++)if(!c.classList.contains(f[g]))return!1;return!0},SI=(c,u)=>{Array.from(c.classList).forEach(f=>{!Object.values(h).includes(f)&&!Object.values(y).includes(f)&&!Object.values(u.showClass||{}).includes(f)&&c.classList.remove(f)})},Ze=(c,u,f)=>{if(SI(c,u),!u.customClass)return;let g=u.customClass[f];if(g){if(typeof g!="string"&&!g.forEach){I(`Invalid type of customClass.${f}! Expected string or iterable object, got "${typeof g}"`);return}Y(c,g)}},Xs=(c,u)=>{if(!u)return null;switch(u){case"select":case"textarea":case"file":return c.querySelector(`.${h.popup} > .${h[u]}`);case"checkbox":return c.querySelector(`.${h.popup} > .${h.checkbox} input`);case"radio":return c.querySelector(`.${h.popup} > .${h.radio} input:checked`)||c.querySelector(`.${h.popup} > .${h.radio} input:first-child`);case"range":return c.querySelector(`.${h.popup} > .${h.range} input`);default:return c.querySelector(`.${h.popup} > .${h.input}`)}},Gg=c=>{if(c.focus(),c.type!=="file"){let u=c.value;c.value="",c.value=u}},qg=(c,u,f)=>{!c||!u||(typeof u=="string"&&(u=u.split(/\s+/).filter(Boolean)),u.forEach(g=>{Array.isArray(c)?c.forEach(v=>{f?v.classList.add(g):v.classList.remove(g)}):f?c.classList.add(g):c.classList.remove(g)}))},Y=(c,u)=>{qg(c,u,!0)},ot=(c,u)=>{qg(c,u,!1)},pn=(c,u)=>{let f=Array.from(c.children);for(let g=0;g<f.length;g++){let v=f[g];if(v instanceof HTMLElement&&en(v,u))return v}},Hn=(c,u,f)=>{f===`${parseInt(f)}`&&(f=parseInt(f)),f||parseInt(f)===0?c.style.setProperty(u,typeof f=="number"?`${f}px`:f):c.style.removeProperty(u)},Ce=(c,u="flex")=>{c&&(c.style.display=u)},Ae=c=>{c&&(c.style.display="none")},pu=(c,u="block")=>{c&&new MutationObserver(()=>{lo(c,c.innerHTML,u)}).observe(c,{childList:!0,subtree:!0})},Yg=(c,u,f,g)=>{let v=c.querySelector(u);v&&v.style.setProperty(f,g)},lo=(c,u,f="flex")=>{u?Ce(c,f):Ae(c)},Ve=c=>!!(c&&(c.offsetWidth||c.offsetHeight||c.getClientRects().length)),AI=()=>!Ve(Nt())&&!Ve(Bn())&&!Ve(Gr()),gu=c=>c.scrollHeight>c.clientHeight,xI=(c,u)=>{let f=c;for(;f&&f!==u;){if(gu(f))return!0;f=f.parentElement}return!1},Kg=c=>{let u=window.getComputedStyle(c),f=parseFloat(u.getPropertyValue("animation-duration")||"0"),g=parseFloat(u.getPropertyValue("transition-duration")||"0");return f>0||g>0},mu=(c,u=!1)=>{let f=Qs();f&&Ve(f)&&(u&&(f.style.transition="none",f.style.width="100%"),setTimeout(()=>{f.style.transition=`width ${c/1e3}s linear`,f.style.width="0%"},10))},NI=()=>{let c=Qs();if(!c)return;let u=parseInt(window.getComputedStyle(c).width);c.style.removeProperty("transition"),c.style.width="100%";let f=parseInt(window.getComputedStyle(c).width),g=u/f*100;c.style.width=`${g}%`},MI=()=>typeof window>"u"||typeof document>"u",kI=`
 <div aria-labelledby="${h.title}" aria-describedby="${h["html-container"]}" class="${h.popup}" tabindex="-1">
   <button type="button" class="${h.close}"></button>
   <ul class="${h["progress-steps"]}"></ul>
   <div class="${h.icon}"></div>
   <img class="${h.image}" />
   <h2 class="${h.title}" id="${h.title}"></h2>
   <div class="${h["html-container"]}" id="${h["html-container"]}"></div>
   <input class="${h.input}" id="${h.input}" />
   <input type="file" class="${h.file}" />
   <div class="${h.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${h.select}" id="${h.select}"></select>
   <div class="${h.radio}"></div>
   <label class="${h.checkbox}">
     <input type="checkbox" id="${h.checkbox}" />
     <span class="${h.label}"></span>
   </label>
   <textarea class="${h.textarea}" id="${h.textarea}"></textarea>
   <div class="${h["validation-message"]}" id="${h["validation-message"]}"></div>
   <div class="${h.actions}">
     <div class="${h.loader}"></div>
     <button type="button" class="${h.confirm}"></button>
     <button type="button" class="${h.deny}"></button>
     <button type="button" class="${h.cancel}"></button>
   </div>
   <div class="${h.footer}"></div>
   <div class="${h["timer-progress-bar-container"]}">
     <div class="${h["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),PI=()=>{let c=we();return c?(c.remove(),ot([document.documentElement,document.body],[h["no-backdrop"],h["toast-shown"],h["has-column"]]),!0):!1},Un=()=>{s.currentInstance.resetValidationMessage()},RI=()=>{let c=G(),u=pn(c,h.input),f=pn(c,h.file),g=c.querySelector(`.${h.range} input`),v=c.querySelector(`.${h.range} output`),b=pn(c,h.select),$=c.querySelector(`.${h.checkbox} input`),X=pn(c,h.textarea);u.oninput=Un,f.onchange=Un,b.onchange=Un,$.onchange=Un,X.oninput=Un,g.oninput=()=>{Un(),v.value=g.value},g.onchange=()=>{Un(),v.value=g.value}},OI=c=>typeof c=="string"?document.querySelector(c):c,FI=c=>{let u=G();u.setAttribute("role",c.toast?"alert":"dialog"),u.setAttribute("aria-live",c.toast?"polite":"assertive"),c.toast||u.setAttribute("aria-modal","true")},LI=c=>{window.getComputedStyle(c).direction==="rtl"&&Y(we(),h.rtl)},VI=c=>{let u=PI();if(MI()){T("SweetAlert2 requires document to initialize");return}let f=document.createElement("div");f.className=h.container,u&&Y(f,h["no-transition"]),Ke(f,kI),f.dataset.swal2Theme=c.theme;let g=OI(c.target);g.appendChild(f),c.topLayer&&(f.setAttribute("popover",""),f.showPopover()),FI(c),LI(g),RI()},yu=(c,u)=>{c instanceof HTMLElement?u.appendChild(c):typeof c=="object"?jI(c,u):c&&Ke(u,c)},jI=(c,u)=>{c.jquery?BI(u,c):Ke(u,c.toString())},BI=(c,u)=>{if(c.textContent="",0 in u)for(let f=0;f in u;f++)c.appendChild(u[f].cloneNode(!0));else c.appendChild(u.cloneNode(!0))},HI=(c,u)=>{let f=co(),g=qr();!f||!g||(!u.showConfirmButton&&!u.showDenyButton&&!u.showCancelButton?Ae(f):Ce(f),Ze(f,u,"actions"),UI(f,g,u),Ke(g,u.loaderHtml||""),Ze(g,u,"loader"))};function UI(c,u,f){let g=Nt(),v=Bn(),b=Gr();!g||!v||!b||(_u(g,"confirm",f),_u(v,"deny",f),_u(b,"cancel",f),$I(g,v,b,f),f.reverseButtons&&(f.toast?(c.insertBefore(b,g),c.insertBefore(v,g)):(c.insertBefore(b,u),c.insertBefore(v,u),c.insertBefore(g,u))))}function $I(c,u,f,g){if(!g.buttonsStyling){ot([c,u,f],h.styled);return}Y([c,u,f],h.styled),g.confirmButtonColor&&c.style.setProperty("--swal2-confirm-button-background-color",g.confirmButtonColor),g.denyButtonColor&&u.style.setProperty("--swal2-deny-button-background-color",g.denyButtonColor),g.cancelButtonColor&&f.style.setProperty("--swal2-cancel-button-background-color",g.cancelButtonColor),vu(c),vu(u),vu(f)}function vu(c){let u=window.getComputedStyle(c);if(u.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;let f=u.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");c.style.setProperty("--swal2-action-button-focus-box-shadow",u.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${f}`))}function _u(c,u,f){let g=C(u);lo(c,f[`show${g}Button`],"inline-block"),Ke(c,f[`${u}ButtonText`]||""),c.setAttribute("aria-label",f[`${u}ButtonAriaLabel`]||""),c.className=h[u],Ze(c,f,`${u}Button`)}let WI=(c,u)=>{let f=du();f&&(Ke(f,u.closeButtonHtml||""),Ze(f,u,"closeButton"),lo(f,u.showCloseButton),f.setAttribute("aria-label",u.closeButtonAriaLabel||""))},zI=(c,u)=>{let f=we();f&&(GI(f,u.backdrop),qI(f,u.position),YI(f,u.grow),Ze(f,u,"container"))};function GI(c,u){typeof u=="string"?c.style.background=u:u||Y([document.documentElement,document.body],h["no-backdrop"])}function qI(c,u){u&&(u in h?Y(c,h[u]):(I('The "position" parameter is not valid, defaulting to "center"'),Y(c,h.center)))}function YI(c,u){u&&Y(c,h[`grow-${u}`])}var ae={innerParams:new WeakMap,domCache:new WeakMap};let KI=["input","file","range","select","radio","checkbox","textarea"],ZI=(c,u)=>{let f=G();if(!f)return;let g=ae.innerParams.get(c),v=!g||u.input!==g.input;KI.forEach(b=>{let $=pn(f,h[b]);$&&(XI(b,u.inputAttributes),$.className=h[b],v&&Ae($))}),u.input&&(v&&QI(u),eD(u))},QI=c=>{if(!c.input)return;if(!fe[c.input]){T(`Unexpected type of input! Expected ${Object.keys(fe).join(" | ")}, got "${c.input}"`);return}let u=Zg(c.input);if(!u)return;let f=fe[c.input](u,c);Ce(u),c.inputAutoFocus&&setTimeout(()=>{Gg(f)})},JI=c=>{for(let u=0;u<c.attributes.length;u++){let f=c.attributes[u].name;["id","type","value","style"].includes(f)||c.removeAttribute(f)}},XI=(c,u)=>{let f=G();if(!f)return;let g=Xs(f,c);if(g){JI(g);for(let v in u)g.setAttribute(v,u[v])}},eD=c=>{if(!c.input)return;let u=Zg(c.input);u&&Ze(u,c,"input")},wu=(c,u)=>{!c.placeholder&&u.inputPlaceholder&&(c.placeholder=u.inputPlaceholder)},uo=(c,u,f)=>{if(f.inputLabel){let g=document.createElement("label"),v=h["input-label"];g.setAttribute("for",c.id),g.className=v,typeof f.customClass=="object"&&Y(g,f.customClass.inputLabel),g.innerText=f.inputLabel,u.insertAdjacentElement("beforebegin",g)}},Zg=c=>{let u=G();if(u)return pn(u,h[c]||h.input)},ea=(c,u)=>{["string","number"].includes(typeof u)?c.value=`${u}`:ao(u)||I(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof u}"`)},fe={};fe.text=fe.email=fe.password=fe.number=fe.tel=fe.url=fe.search=fe.date=fe["datetime-local"]=fe.time=fe.week=fe.month=(c,u)=>(ea(c,u.inputValue),uo(c,c,u),wu(c,u),c.type=u.input,c),fe.file=(c,u)=>(uo(c,c,u),wu(c,u),c),fe.range=(c,u)=>{let f=c.querySelector("input"),g=c.querySelector("output");return ea(f,u.inputValue),f.type=u.input,ea(g,u.inputValue),uo(f,c,u),c},fe.select=(c,u)=>{if(c.textContent="",u.inputPlaceholder){let f=document.createElement("option");Ke(f,u.inputPlaceholder),f.value="",f.disabled=!0,f.selected=!0,c.appendChild(f)}return uo(c,c,u),c},fe.radio=c=>(c.textContent="",c),fe.checkbox=(c,u)=>{let f=Xs(G(),"checkbox");f.value="1",f.checked=!!u.inputValue;let g=c.querySelector("span");return Ke(g,u.inputPlaceholder||u.inputLabel),f},fe.textarea=(c,u)=>{ea(c,u.inputValue),wu(c,u),uo(c,c,u);let f=g=>parseInt(window.getComputedStyle(g).marginLeft)+parseInt(window.getComputedStyle(g).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let g=parseInt(window.getComputedStyle(G()).width),v=()=>{if(!document.body.contains(c))return;let b=c.offsetWidth+f(c);b>g?G().style.width=`${b}px`:Hn(G(),"width",u.width)};new MutationObserver(v).observe(c,{attributes:!0,attributeFilter:["style"]})}}),c};let tD=(c,u)=>{let f=lu();f&&(pu(f),Ze(f,u,"htmlContainer"),u.html?(yu(u.html,f),Ce(f,"block")):u.text?(f.textContent=u.text,Ce(f,"block")):Ae(f),ZI(c,u))},nD=(c,u)=>{let f=zg();f&&(pu(f),lo(f,u.footer,"block"),u.footer&&yu(u.footer,f),Ze(f,u,"footer"))},rD=(c,u)=>{let f=ae.innerParams.get(c),g=zr();if(!g)return;if(f&&u.icon===f.icon){Xg(g,u),Qg(g,u);return}if(!u.icon&&!u.iconHtml){Ae(g);return}if(u.icon&&Object.keys(y).indexOf(u.icon)===-1){T(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${u.icon}"`),Ae(g);return}Ce(g),Xg(g,u),Qg(g,u),Y(g,u.showClass&&u.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Jg)},Qg=(c,u)=>{for(let[f,g]of Object.entries(y))u.icon!==f&&ot(c,g);Y(c,u.icon&&y[u.icon]),sD(c,u),Jg(),Ze(c,u,"icon")},Jg=()=>{let c=G();if(!c)return;let u=window.getComputedStyle(c).getPropertyValue("background-color"),f=c.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let g=0;g<f.length;g++)f[g].style.backgroundColor=u},iD=c=>`
  ${c.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${c.animation?'<div class="swal2-success-fix"></div>':""}
  ${c.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,oD=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Xg=(c,u)=>{if(!u.icon&&!u.iconHtml)return;let f=c.innerHTML,g="";u.iconHtml?g=em(u.iconHtml):u.icon==="success"?(g=iD(u),f=f.replace(/ style=".*?"/g,"")):u.icon==="error"?g=oD:u.icon&&(g=em({question:"?",warning:"!",info:"i"}[u.icon])),f.trim()!==g.trim()&&Ke(c,g)},sD=(c,u)=>{if(u.iconColor){c.style.color=u.iconColor,c.style.borderColor=u.iconColor;for(let f of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Yg(c,f,"background-color",u.iconColor);Yg(c,".swal2-success-ring","border-color",u.iconColor)}},em=c=>`<div class="${h["icon-content"]}">${c}</div>`,aD=(c,u)=>{let f=Wg();if(f){if(!u.imageUrl){Ae(f);return}Ce(f,""),f.setAttribute("src",u.imageUrl),f.setAttribute("alt",u.imageAlt||""),Hn(f,"width",u.imageWidth),Hn(f,"height",u.imageHeight),f.className=h.image,Ze(f,u,"image")}},Eu=!1,tm=0,nm=0,rm=0,im=0,cD=c=>{c.addEventListener("mousedown",ta),document.body.addEventListener("mousemove",na),c.addEventListener("mouseup",ra),c.addEventListener("touchstart",ta),document.body.addEventListener("touchmove",na),c.addEventListener("touchend",ra)},lD=c=>{c.removeEventListener("mousedown",ta),document.body.removeEventListener("mousemove",na),c.removeEventListener("mouseup",ra),c.removeEventListener("touchstart",ta),document.body.removeEventListener("touchmove",na),c.removeEventListener("touchend",ra)},ta=c=>{let u=G();if(c.target===u||zr().contains(c.target)){Eu=!0;let f=om(c);tm=f.clientX,nm=f.clientY,rm=parseInt(u.style.insetInlineStart)||0,im=parseInt(u.style.insetBlockStart)||0,Y(u,"swal2-dragging")}},na=c=>{let u=G();if(Eu){let{clientX:f,clientY:g}=om(c);u.style.insetInlineStart=`${rm+(f-tm)}px`,u.style.insetBlockStart=`${im+(g-nm)}px`}},ra=()=>{let c=G();Eu=!1,ot(c,"swal2-dragging")},om=c=>{let u=0,f=0;return c.type.startsWith("mouse")?(u=c.clientX,f=c.clientY):c.type.startsWith("touch")&&(u=c.touches[0].clientX,f=c.touches[0].clientY),{clientX:u,clientY:f}},uD=(c,u)=>{let f=we(),g=G();if(!(!f||!g)){if(u.toast){Hn(f,"width",u.width),g.style.width="100%";let v=qr();v&&g.insertBefore(v,zr())}else Hn(g,"width",u.width);Hn(g,"padding",u.padding),u.color&&(g.style.color=u.color),u.background&&(g.style.background=u.background),Ae(Zs()),dD(g,u),u.draggable&&!u.toast?(Y(g,h.draggable),cD(g)):(ot(g,h.draggable),lD(g))}},dD=(c,u)=>{let f=u.showClass||{};c.className=`${h.popup} ${Ve(c)?f.popup:""}`,u.toast?(Y([document.documentElement,document.body],h["toast-shown"]),Y(c,h.toast)):Y(c,h.modal),Ze(c,u,"popup"),typeof u.customClass=="string"&&Y(c,u.customClass),u.icon&&Y(c,h[`icon-${u.icon}`])},fD=(c,u)=>{let f=uu();if(!f)return;let{progressSteps:g,currentProgressStep:v}=u;if(!g||g.length===0||v===void 0){Ae(f);return}Ce(f),f.textContent="",v>=g.length&&I("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),g.forEach((b,$)=>{let X=hD(b);if(f.appendChild(X),$===v&&Y(X,h["active-progress-step"]),$!==g.length-1){let le=pD(u);f.appendChild(le)}})},hD=c=>{let u=document.createElement("li");return Y(u,h["progress-step"]),Ke(u,c),u},pD=c=>{let u=document.createElement("li");return Y(u,h["progress-step-line"]),c.progressStepsDistance&&Hn(u,"width",c.progressStepsDistance),u},gD=(c,u)=>{let f=$g();f&&(pu(f),lo(f,u.title||u.titleText,"block"),u.title&&yu(u.title,f),u.titleText&&(f.innerText=u.titleText),Ze(f,u,"title"))},sm=(c,u)=>{uD(c,u),zI(c,u),fD(c,u),rD(c,u),aD(c,u),gD(c,u),WI(c,u),tD(c,u),HI(c,u),nD(c,u);let f=G();typeof u.didRender=="function"&&f&&u.didRender(f),s.eventEmitter.emit("didRender",f)},mD=()=>Ve(G()),am=()=>{var c;return(c=Nt())===null||c===void 0?void 0:c.click()},yD=()=>{var c;return(c=Bn())===null||c===void 0?void 0:c.click()},vD=()=>{var c;return(c=Gr())===null||c===void 0?void 0:c.click()},Yr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),cm=c=>{c.keydownTarget&&c.keydownHandlerAdded&&(c.keydownTarget.removeEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!1)},_D=(c,u,f)=>{cm(c),u.toast||(c.keydownHandler=g=>ED(u,g,f),c.keydownTarget=u.keydownListenerCapture?window:G(),c.keydownListenerCapture=u.keydownListenerCapture,c.keydownTarget.addEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!0)},bu=(c,u)=>{var f;let g=fu();if(g.length){c=c+u,c===-2&&(c=g.length-1),c===g.length?c=0:c===-1&&(c=g.length-1),g[c].focus();return}(f=G())===null||f===void 0||f.focus()},lm=["ArrowRight","ArrowDown"],wD=["ArrowLeft","ArrowUp"],ED=(c,u,f)=>{c&&(u.isComposing||u.keyCode===229||(c.stopKeydownPropagation&&u.stopPropagation(),u.key==="Enter"?bD(u,c):u.key==="Tab"?CD(u):[...lm,...wD].includes(u.key)?ID(u.key):u.key==="Escape"&&DD(u,c,f)))},bD=(c,u)=>{if(!Ln(u.allowEnterKey))return;let f=Xs(G(),u.input);if(c.target&&f&&c.target instanceof HTMLElement&&c.target.outerHTML===f.outerHTML){if(["textarea","file"].includes(u.input))return;am(),c.preventDefault()}},CD=c=>{let u=c.target,f=fu(),g=-1;for(let v=0;v<f.length;v++)if(u===f[v]){g=v;break}c.shiftKey?bu(g,-1):bu(g,1),c.stopPropagation(),c.preventDefault()},ID=c=>{let u=co(),f=Nt(),g=Bn(),v=Gr();if(!u||!f||!g||!v)return;let b=[f,g,v];if(document.activeElement instanceof HTMLElement&&!b.includes(document.activeElement))return;let $=lm.includes(c)?"nextElementSibling":"previousElementSibling",X=document.activeElement;if(X){for(let le=0;le<u.children.length;le++){if(X=X[$],!X)return;if(X instanceof HTMLButtonElement&&Ve(X))break}X instanceof HTMLButtonElement&&X.focus()}},DD=(c,u,f)=>{c.preventDefault(),Ln(u.allowEscapeKey)&&f(Yr.esc)};var Kr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let TD=()=>{let c=we();Array.from(document.body.children).forEach(f=>{f.contains(c)||(f.hasAttribute("aria-hidden")&&f.setAttribute("data-previous-aria-hidden",f.getAttribute("aria-hidden")||""),f.setAttribute("aria-hidden","true"))})},um=()=>{Array.from(document.body.children).forEach(u=>{u.hasAttribute("data-previous-aria-hidden")?(u.setAttribute("aria-hidden",u.getAttribute("data-previous-aria-hidden")||""),u.removeAttribute("data-previous-aria-hidden")):u.removeAttribute("aria-hidden")})},dm=typeof window<"u"&&!!window.GestureEvent,SD=()=>{if(dm&&!en(document.body,h.iosfix)){let c=document.body.scrollTop;document.body.style.top=`${c*-1}px`,Y(document.body,h.iosfix),AD()}},AD=()=>{let c=we();if(!c)return;let u;c.ontouchstart=f=>{u=xD(f)},c.ontouchmove=f=>{u&&(f.preventDefault(),f.stopPropagation())}},xD=c=>{let u=c.target,f=we(),g=lu();return!f||!g||ND(c)||MD(c)?!1:u===f||!gu(f)&&u instanceof HTMLElement&&!xI(u,g)&&u.tagName!=="INPUT"&&u.tagName!=="TEXTAREA"&&!(gu(g)&&g.contains(u))},ND=c=>c.touches&&c.touches.length&&c.touches[0].touchType==="stylus",MD=c=>c.touches&&c.touches.length>1,kD=()=>{if(en(document.body,h.iosfix)){let c=parseInt(document.body.style.top,10);ot(document.body,h.iosfix),document.body.style.top="",document.body.scrollTop=c*-1}},PD=()=>{let c=document.createElement("div");c.className=h["scrollbar-measure"],document.body.appendChild(c);let u=c.getBoundingClientRect().width-c.clientWidth;return document.body.removeChild(c),u},Zr=null,RD=c=>{Zr===null&&(document.body.scrollHeight>window.innerHeight||c==="scroll")&&(Zr=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Zr+PD()}px`)},OD=()=>{Zr!==null&&(document.body.style.paddingRight=`${Zr}px`,Zr=null)};function fm(c,u,f,g){Js()?pm(c,g):(l(f).then(()=>pm(c,g)),cm(s)),dm?(u.setAttribute("style","display:none !important"),u.removeAttribute("class"),u.innerHTML=""):u.remove(),hu()&&(OD(),kD(),um()),FD()}function FD(){ot([document.documentElement,document.body],[h.shown,h["height-auto"],h["no-backdrop"],h["toast-shown"]])}function gn(c){c=VD(c);let u=Kr.swalPromiseResolve.get(this),f=LD(this);this.isAwaitingPromise?c.isDismissed||(fo(this),u(c)):f&&u(c)}let LD=c=>{let u=G();if(!u)return!1;let f=ae.innerParams.get(c);if(!f||en(u,f.hideClass.popup))return!1;ot(u,f.showClass.popup),Y(u,f.hideClass.popup);let g=we();return ot(g,f.showClass.backdrop),Y(g,f.hideClass.backdrop),jD(c,u,f),!0};function hm(c){let u=Kr.swalPromiseReject.get(this);fo(this),u&&u(c)}let fo=c=>{c.isAwaitingPromise&&(delete c.isAwaitingPromise,ae.innerParams.get(c)||c._destroy())},VD=c=>typeof c>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},c),jD=(c,u,f)=>{var g;let v=we(),b=Kg(u);typeof f.willClose=="function"&&f.willClose(u),(g=s.eventEmitter)===null||g===void 0||g.emit("willClose",u),b?BD(c,u,v,f.returnFocus,f.didClose):fm(c,v,f.returnFocus,f.didClose)},BD=(c,u,f,g,v)=>{s.swalCloseEventFinishedCallback=fm.bind(null,c,f,g,v);let b=function($){if($.target===u){var X;(X=s.swalCloseEventFinishedCallback)===null||X===void 0||X.call(s),delete s.swalCloseEventFinishedCallback,u.removeEventListener("animationend",b),u.removeEventListener("transitionend",b)}};u.addEventListener("animationend",b),u.addEventListener("transitionend",b)},pm=(c,u)=>{setTimeout(()=>{var f;typeof u=="function"&&u.bind(c.params)(),(f=s.eventEmitter)===null||f===void 0||f.emit("didClose"),c._destroy&&c._destroy()})},Qr=c=>{let u=G();if(u||new la,u=G(),!u)return;let f=qr();Js()?Ae(zr()):HD(u,c),Ce(f),u.setAttribute("data-loading","true"),u.setAttribute("aria-busy","true"),u.focus()},HD=(c,u)=>{let f=co(),g=qr();!f||!g||(!u&&Ve(Nt())&&(u=Nt()),Ce(f),u&&(Ae(u),g.setAttribute("data-button-to-replace",u.className),f.insertBefore(g,u)),Y([c,f],h.loading))},UD=(c,u)=>{u.input==="select"||u.input==="radio"?qD(c,u):["text","email","number","tel","textarea"].some(f=>f===u.input)&&(Vn(u.inputValue)||ao(u.inputValue))&&(Qr(Nt()),YD(c,u))},$D=(c,u)=>{let f=c.getInput();if(!f)return null;switch(u.input){case"checkbox":return WD(f);case"radio":return zD(f);case"file":return GD(f);default:return u.inputAutoTrim?f.value.trim():f.value}},WD=c=>c.checked?1:0,zD=c=>c.checked?c.value:null,GD=c=>c.files&&c.files.length?c.getAttribute("multiple")!==null?c.files:c.files[0]:null,qD=(c,u)=>{let f=G();if(!f)return;let g=v=>{u.input==="select"?KD(f,ia(v),u):u.input==="radio"&&ZD(f,ia(v),u)};Vn(u.inputOptions)||ao(u.inputOptions)?(Qr(Nt()),hn(u.inputOptions).then(v=>{c.hideLoading(),g(v)})):typeof u.inputOptions=="object"?g(u.inputOptions):T(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof u.inputOptions}`)},YD=(c,u)=>{let f=c.getInput();f&&(Ae(f),hn(u.inputValue).then(g=>{f.value=u.input==="number"?`${parseFloat(g)||0}`:`${g}`,Ce(f),f.focus(),c.hideLoading()}).catch(g=>{T(`Error in inputValue promise: ${g}`),f.value="",Ce(f),f.focus(),c.hideLoading()}))};function KD(c,u,f){let g=pn(c,h.select);if(!g)return;let v=(b,$,X)=>{let le=document.createElement("option");le.value=X,Ke(le,$),le.selected=gm(X,f.inputValue),b.appendChild(le)};u.forEach(b=>{let $=b[0],X=b[1];if(Array.isArray(X)){let le=document.createElement("optgroup");le.label=$,le.disabled=!1,g.appendChild(le),X.forEach(Xr=>v(le,Xr[1],Xr[0]))}else v(g,X,$)}),g.focus()}function ZD(c,u,f){let g=pn(c,h.radio);if(!g)return;u.forEach(b=>{let $=b[0],X=b[1],le=document.createElement("input"),Xr=document.createElement("label");le.type="radio",le.name=h.radio,le.value=$,gm($,f.inputValue)&&(le.checked=!0);let Su=document.createElement("span");Ke(Su,X),Su.className=h.label,Xr.appendChild(le),Xr.appendChild(Su),g.appendChild(Xr)});let v=g.querySelectorAll("input");v.length&&v[0].focus()}let ia=c=>{let u=[];return c instanceof Map?c.forEach((f,g)=>{let v=f;typeof v=="object"&&(v=ia(v)),u.push([g,v])}):Object.keys(c).forEach(f=>{let g=c[f];typeof g=="object"&&(g=ia(g)),u.push([f,g])}),u},gm=(c,u)=>!!u&&u.toString()===c.toString(),QD=c=>{let u=ae.innerParams.get(c);c.disableButtons(),u.input?mm(c,"confirm"):Iu(c,!0)},JD=c=>{let u=ae.innerParams.get(c);c.disableButtons(),u.returnInputValueOnDeny?mm(c,"deny"):Cu(c,!1)},XD=(c,u)=>{c.disableButtons(),u(Yr.cancel)},mm=(c,u)=>{let f=ae.innerParams.get(c);if(!f.input){T(`The "input" parameter is needed to be set when using returnInputValueOn${C(u)}`);return}let g=c.getInput(),v=$D(c,f);f.inputValidator?e0(c,v,u):g&&!g.checkValidity()?(c.enableButtons(),c.showValidationMessage(f.validationMessage||g.validationMessage)):u==="deny"?Cu(c,v):Iu(c,v)},e0=(c,u,f)=>{let g=ae.innerParams.get(c);c.disableInput(),Promise.resolve().then(()=>hn(g.inputValidator(u,g.validationMessage))).then(b=>{c.enableButtons(),c.enableInput(),b?c.showValidationMessage(b):f==="deny"?Cu(c,u):Iu(c,u)})},Cu=(c,u)=>{let f=ae.innerParams.get(c||void 0);f.showLoaderOnDeny&&Qr(Bn()),f.preDeny?(c.isAwaitingPromise=!0,Promise.resolve().then(()=>hn(f.preDeny(u,f.validationMessage))).then(v=>{v===!1?(c.hideLoading(),fo(c)):c.close({isDenied:!0,value:typeof v>"u"?u:v})}).catch(v=>vm(c||void 0,v))):c.close({isDenied:!0,value:u})},ym=(c,u)=>{c.close({isConfirmed:!0,value:u})},vm=(c,u)=>{c.rejectPromise(u)},Iu=(c,u)=>{let f=ae.innerParams.get(c||void 0);f.showLoaderOnConfirm&&Qr(),f.preConfirm?(c.resetValidationMessage(),c.isAwaitingPromise=!0,Promise.resolve().then(()=>hn(f.preConfirm(u,f.validationMessage))).then(v=>{Ve(Zs())||v===!1?(c.hideLoading(),fo(c)):ym(c,typeof v>"u"?u:v)}).catch(v=>vm(c||void 0,v))):ym(c,u)};function oa(){let c=ae.innerParams.get(this);if(!c)return;let u=ae.domCache.get(this);Ae(u.loader),Js()?c.icon&&Ce(zr()):t0(u),ot([u.popup,u.actions],h.loading),u.popup.removeAttribute("aria-busy"),u.popup.removeAttribute("data-loading"),u.confirmButton.disabled=!1,u.denyButton.disabled=!1,u.cancelButton.disabled=!1}let t0=c=>{let u=c.popup.getElementsByClassName(c.loader.getAttribute("data-button-to-replace"));u.length?Ce(u[0],"inline-block"):AI()&&Ae(c.actions)};function _m(){let c=ae.innerParams.get(this),u=ae.domCache.get(this);return u?Xs(u.popup,c.input):null}function wm(c,u,f){let g=ae.domCache.get(c);u.forEach(v=>{g[v].disabled=f})}function Em(c,u){let f=G();if(!(!f||!c))if(c.type==="radio"){let g=f.querySelectorAll(`[name="${h.radio}"]`);for(let v=0;v<g.length;v++)g[v].disabled=u}else c.disabled=u}function bm(){wm(this,["confirmButton","denyButton","cancelButton"],!1)}function Cm(){wm(this,["confirmButton","denyButton","cancelButton"],!0)}function Im(){Em(this.getInput(),!1)}function Dm(){Em(this.getInput(),!0)}function Tm(c){let u=ae.domCache.get(this),f=ae.innerParams.get(this);Ke(u.validationMessage,c),u.validationMessage.className=h["validation-message"],f.customClass&&f.customClass.validationMessage&&Y(u.validationMessage,f.customClass.validationMessage),Ce(u.validationMessage);let g=this.getInput();g&&(g.setAttribute("aria-invalid","true"),g.setAttribute("aria-describedby",h["validation-message"]),Gg(g),Y(g,h.inputerror))}function Sm(){let c=ae.domCache.get(this);c.validationMessage&&Ae(c.validationMessage);let u=this.getInput();u&&(u.removeAttribute("aria-invalid"),u.removeAttribute("aria-describedby"),ot(u,h.inputerror))}let Jr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},n0=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],r0={allowEnterKey:void 0},i0=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Am=c=>Object.prototype.hasOwnProperty.call(Jr,c),xm=c=>n0.indexOf(c)!==-1,Nm=c=>r0[c],o0=c=>{Am(c)||I(`Unknown parameter "${c}"`)},s0=c=>{i0.includes(c)&&I(`The parameter "${c}" is incompatible with toasts`)},a0=c=>{let u=Nm(c);u&&Xt(c,u)},Mm=c=>{c.backdrop===!1&&c.allowOutsideClick&&I('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),c.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(c.theme)&&I(`Invalid theme "${c.theme}"`);for(let u in c)o0(u),c.toast&&s0(u),a0(u)};function km(c){let u=we(),f=G(),g=ae.innerParams.get(this);if(!f||en(f,g.hideClass.popup)){I("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let v=c0(c),b=Object.assign({},g,v);Mm(b),u.dataset.swal2Theme=b.theme,sm(this,b),ae.innerParams.set(this,b),Object.defineProperties(this,{params:{value:Object.assign({},this.params,c),writable:!1,enumerable:!0}})}let c0=c=>{let u={};return Object.keys(c).forEach(f=>{xm(f)?u[f]=c[f]:I(`Invalid parameter to update: ${f}`)}),u};function Pm(){let c=ae.domCache.get(this),u=ae.innerParams.get(this);if(!u){Rm(this);return}c.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof u.didDestroy=="function"&&u.didDestroy(),s.eventEmitter.emit("didDestroy"),l0(this)}let l0=c=>{Rm(c),delete c.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},Rm=c=>{c.isAwaitingPromise?(Du(ae,c),c.isAwaitingPromise=!0):(Du(Kr,c),Du(ae,c),delete c.isAwaitingPromise,delete c.disableButtons,delete c.enableButtons,delete c.getInput,delete c.disableInput,delete c.enableInput,delete c.hideLoading,delete c.disableLoading,delete c.showValidationMessage,delete c.resetValidationMessage,delete c.close,delete c.closePopup,delete c.closeModal,delete c.closeToast,delete c.rejectPromise,delete c.update,delete c._destroy)},Du=(c,u)=>{for(let f in c)c[f].delete(u)};var u0=Object.freeze({__proto__:null,_destroy:Pm,close:gn,closeModal:gn,closePopup:gn,closeToast:gn,disableButtons:Cm,disableInput:Dm,disableLoading:oa,enableButtons:bm,enableInput:Im,getInput:_m,handleAwaitingPromise:fo,hideLoading:oa,rejectPromise:hm,resetValidationMessage:Sm,showValidationMessage:Tm,update:km});let d0=(c,u,f)=>{c.toast?f0(c,u,f):(p0(u),g0(u),m0(c,u,f))},f0=(c,u,f)=>{u.popup.onclick=()=>{c&&(h0(c)||c.timer||c.input)||f(Yr.close)}},h0=c=>!!(c.showConfirmButton||c.showDenyButton||c.showCancelButton||c.showCloseButton),sa=!1,p0=c=>{c.popup.onmousedown=()=>{c.container.onmouseup=function(u){c.container.onmouseup=()=>{},u.target===c.container&&(sa=!0)}}},g0=c=>{c.container.onmousedown=u=>{u.target===c.container&&u.preventDefault(),c.popup.onmouseup=function(f){c.popup.onmouseup=()=>{},(f.target===c.popup||f.target instanceof HTMLElement&&c.popup.contains(f.target))&&(sa=!0)}}},m0=(c,u,f)=>{u.container.onclick=g=>{if(sa){sa=!1;return}g.target===u.container&&Ln(c.allowOutsideClick)&&f(Yr.backdrop)}},y0=c=>typeof c=="object"&&c.jquery,Om=c=>c instanceof Element||y0(c),v0=c=>{let u={};return typeof c[0]=="object"&&!Om(c[0])?Object.assign(u,c[0]):["title","html","icon"].forEach((f,g)=>{let v=c[g];typeof v=="string"||Om(v)?u[f]=v:v!==void 0&&T(`Unexpected type of ${f}! Expected "string" or "Element", got ${typeof v}`)}),u};function _0(...c){return new this(...c)}function w0(c){class u extends this{_main(g,v){return super._main(g,Object.assign({},c,v))}}return u}let E0=()=>s.timeout&&s.timeout.getTimerLeft(),Fm=()=>{if(s.timeout)return NI(),s.timeout.stop()},Lm=()=>{if(s.timeout){let c=s.timeout.start();return mu(c),c}},b0=()=>{let c=s.timeout;return c&&(c.running?Fm():Lm())},C0=c=>{if(s.timeout){let u=s.timeout.increase(c);return mu(u,!0),u}},I0=()=>!!(s.timeout&&s.timeout.isRunning()),Vm=!1,Tu={};function D0(c="data-swal-template"){Tu[c]=this,Vm||(document.body.addEventListener("click",T0),Vm=!0)}let T0=c=>{for(let u=c.target;u&&u!==document;u=u.parentNode)for(let f in Tu){let g=u.getAttribute(f);if(g){Tu[f].fire({template:g});return}}};class S0{constructor(){this.events={}}_getHandlersByEventName(u){return typeof this.events[u]>"u"&&(this.events[u]=[]),this.events[u]}on(u,f){let g=this._getHandlersByEventName(u);g.includes(f)||g.push(f)}once(u,f){let g=(...v)=>{this.removeListener(u,g),f.apply(this,v)};this.on(u,g)}emit(u,...f){this._getHandlersByEventName(u).forEach(g=>{try{g.apply(this,f)}catch(v){console.error(v)}})}removeListener(u,f){let g=this._getHandlersByEventName(u),v=g.indexOf(f);v>-1&&g.splice(v,1)}removeAllListeners(u){this.events[u]!==void 0&&(this.events[u].length=0)}reset(){this.events={}}}s.eventEmitter=new S0;var A0=Object.freeze({__proto__:null,argsToParams:v0,bindClickHandler:D0,clickCancel:vD,clickConfirm:am,clickDeny:yD,enableLoading:Qr,fire:_0,getActions:co,getCancelButton:Gr,getCloseButton:du,getConfirmButton:Nt,getContainer:we,getDenyButton:Bn,getFocusableElements:fu,getFooter:zg,getHtmlContainer:lu,getIcon:zr,getIconContent:CI,getImage:Wg,getInputLabel:II,getLoader:qr,getPopup:G,getProgressSteps:uu,getTimerLeft:E0,getTimerProgressBar:Qs,getTitle:$g,getValidationMessage:Zs,increaseTimer:C0,isDeprecatedParameter:Nm,isLoading:TI,isTimerRunning:I0,isUpdatableParameter:xm,isValidParameter:Am,isVisible:mD,mixin:w0,off:(c,u)=>{if(!c){s.eventEmitter.reset();return}u?s.eventEmitter.removeListener(c,u):s.eventEmitter.removeAllListeners(c)},on:(c,u)=>{s.eventEmitter.on(c,u)},once:(c,u)=>{s.eventEmitter.once(c,u)},resumeTimer:Lm,showLoading:Qr,stopTimer:Fm,toggleTimer:b0});class x0{constructor(u,f){this.callback=u,this.remaining=f,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(u){let f=this.running;return f&&this.stop(),this.remaining+=u,f&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let jm=["swal-title","swal-html","swal-footer"],N0=c=>{let u=typeof c.template=="string"?document.querySelector(c.template):c.template;if(!u)return{};let f=u.content;return V0(f),Object.assign(M0(f),k0(f),P0(f),R0(f),O0(f),F0(f),L0(f,jm))},M0=c=>{let u={};return Array.from(c.querySelectorAll("swal-param")).forEach(g=>{$n(g,["name","value"]);let v=g.getAttribute("name"),b=g.getAttribute("value");!v||!b||(typeof Jr[v]=="boolean"?u[v]=b!=="false":typeof Jr[v]=="object"?u[v]=JSON.parse(b):u[v]=b)}),u},k0=c=>{let u={};return Array.from(c.querySelectorAll("swal-function-param")).forEach(g=>{let v=g.getAttribute("name"),b=g.getAttribute("value");!v||!b||(u[v]=new Function(`return ${b}`)())}),u},P0=c=>{let u={};return Array.from(c.querySelectorAll("swal-button")).forEach(g=>{$n(g,["type","color","aria-label"]);let v=g.getAttribute("type");!v||!["confirm","cancel","deny"].includes(v)||(u[`${v}ButtonText`]=g.innerHTML,u[`show${C(v)}Button`]=!0,g.hasAttribute("color")&&(u[`${v}ButtonColor`]=g.getAttribute("color")),g.hasAttribute("aria-label")&&(u[`${v}ButtonAriaLabel`]=g.getAttribute("aria-label")))}),u},R0=c=>{let u={},f=c.querySelector("swal-image");return f&&($n(f,["src","width","height","alt"]),f.hasAttribute("src")&&(u.imageUrl=f.getAttribute("src")||void 0),f.hasAttribute("width")&&(u.imageWidth=f.getAttribute("width")||void 0),f.hasAttribute("height")&&(u.imageHeight=f.getAttribute("height")||void 0),f.hasAttribute("alt")&&(u.imageAlt=f.getAttribute("alt")||void 0)),u},O0=c=>{let u={},f=c.querySelector("swal-icon");return f&&($n(f,["type","color"]),f.hasAttribute("type")&&(u.icon=f.getAttribute("type")),f.hasAttribute("color")&&(u.iconColor=f.getAttribute("color")),u.iconHtml=f.innerHTML),u},F0=c=>{let u={},f=c.querySelector("swal-input");f&&($n(f,["type","label","placeholder","value"]),u.input=f.getAttribute("type")||"text",f.hasAttribute("label")&&(u.inputLabel=f.getAttribute("label")),f.hasAttribute("placeholder")&&(u.inputPlaceholder=f.getAttribute("placeholder")),f.hasAttribute("value")&&(u.inputValue=f.getAttribute("value")));let g=Array.from(c.querySelectorAll("swal-input-option"));return g.length&&(u.inputOptions={},g.forEach(v=>{$n(v,["value"]);let b=v.getAttribute("value");if(!b)return;let $=v.innerHTML;u.inputOptions[b]=$})),u},L0=(c,u)=>{let f={};for(let g in u){let v=u[g],b=c.querySelector(v);b&&($n(b,[]),f[v.replace(/^swal-/,"")]=b.innerHTML.trim())}return f},V0=c=>{let u=jm.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(c.children).forEach(f=>{let g=f.tagName.toLowerCase();u.includes(g)||I(`Unrecognized element <${g}>`)})},$n=(c,u)=>{Array.from(c.attributes).forEach(f=>{u.indexOf(f.name)===-1&&I([`Unrecognized attribute "${f.name}" on <${c.tagName.toLowerCase()}>.`,`${u.length?`Allowed attributes are: ${u.join(", ")}`:"To set the value, use HTML within the element."}`])})},Bm=10,j0=c=>{let u=we(),f=G();typeof c.willOpen=="function"&&c.willOpen(f),s.eventEmitter.emit("willOpen",f);let v=window.getComputedStyle(document.body).overflowY;U0(u,f,c),setTimeout(()=>{B0(u,f)},Bm),hu()&&(H0(u,c.scrollbarPadding,v),TD()),!Js()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof c.didOpen=="function"&&setTimeout(()=>c.didOpen(f)),s.eventEmitter.emit("didOpen",f),ot(u,h["no-transition"])},aa=c=>{let u=G();if(c.target!==u)return;let f=we();u.removeEventListener("animationend",aa),u.removeEventListener("transitionend",aa),f.style.overflowY="auto"},B0=(c,u)=>{Kg(u)?(c.style.overflowY="hidden",u.addEventListener("animationend",aa),u.addEventListener("transitionend",aa)):c.style.overflowY="auto"},H0=(c,u,f)=>{SD(),u&&f!=="hidden"&&RD(f),setTimeout(()=>{c.scrollTop=0})},U0=(c,u,f)=>{Y(c,f.showClass.backdrop),f.animation?(u.style.setProperty("opacity","0","important"),Ce(u,"grid"),setTimeout(()=>{Y(u,f.showClass.popup),u.style.removeProperty("opacity")},Bm)):Ce(u,"grid"),Y([document.documentElement,document.body],h.shown),f.heightAuto&&f.backdrop&&!f.toast&&Y([document.documentElement,document.body],h["height-auto"])};var Hm={email:(c,u)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(c)?Promise.resolve():Promise.resolve(u||"Invalid email address"),url:(c,u)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(c)?Promise.resolve():Promise.resolve(u||"Invalid URL")};function $0(c){c.inputValidator||(c.input==="email"&&(c.inputValidator=Hm.email),c.input==="url"&&(c.inputValidator=Hm.url))}function W0(c){(!c.target||typeof c.target=="string"&&!document.querySelector(c.target)||typeof c.target!="string"&&!c.target.appendChild)&&(I('Target parameter is not valid, defaulting to "body"'),c.target="body")}function z0(c){$0(c),c.showLoaderOnConfirm&&!c.preConfirm&&I(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),W0(c),typeof c.title=="string"&&(c.title=c.title.split(`
`).join("<br />")),VI(c)}let Mt;var ca=new WeakMap;class he{constructor(...u){if(r(this,ca,void 0),typeof window>"u")return;Mt=this;let f=Object.freeze(this.constructor.argsToParams(u));this.params=f,this.isAwaitingPromise=!1,i(ca,this,this._main(Mt.params))}_main(u,f={}){if(Mm(Object.assign({},f,u)),s.currentInstance){let b=Kr.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:$}=s.currentInstance;s.currentInstance._destroy(),$||b({isDismissed:!0}),hu()&&um()}s.currentInstance=Mt;let g=q0(u,f);z0(g),Object.freeze(g),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let v=Y0(Mt);return sm(Mt,g),ae.innerParams.set(Mt,g),G0(Mt,v,g)}then(u){return n(ca,this).then(u)}finally(u){return n(ca,this).finally(u)}}let G0=(c,u,f)=>new Promise((g,v)=>{let b=$=>{c.close({isDismissed:!0,dismiss:$})};Kr.swalPromiseResolve.set(c,g),Kr.swalPromiseReject.set(c,v),u.confirmButton.onclick=()=>{QD(c)},u.denyButton.onclick=()=>{JD(c)},u.cancelButton.onclick=()=>{XD(c,b)},u.closeButton.onclick=()=>{b(Yr.close)},d0(f,u,b),_D(s,f,b),UD(c,f),j0(f),K0(s,f,b),Z0(u,f),setTimeout(()=>{u.container.scrollTop=0})}),q0=(c,u)=>{let f=N0(c),g=Object.assign({},Jr,u,f,c);return g.showClass=Object.assign({},Jr.showClass,g.showClass),g.hideClass=Object.assign({},Jr.hideClass,g.hideClass),g.animation===!1&&(g.showClass={backdrop:"swal2-noanimation"},g.hideClass={}),g},Y0=c=>{let u={popup:G(),container:we(),actions:co(),confirmButton:Nt(),denyButton:Bn(),cancelButton:Gr(),loader:qr(),closeButton:du(),validationMessage:Zs(),progressSteps:uu()};return ae.domCache.set(c,u),u},K0=(c,u,f)=>{let g=Qs();Ae(g),u.timer&&(c.timeout=new x0(()=>{f("timer"),delete c.timeout},u.timer),u.timerProgressBar&&(Ce(g),Ze(g,u,"timerProgressBar"),setTimeout(()=>{c.timeout&&c.timeout.running&&mu(u.timer)})))},Z0=(c,u)=>{if(!u.toast){if(!Ln(u.allowEnterKey)){Xt("allowEnterKey"),X0();return}Q0(c)||J0(c,u)||bu(-1,1)}},Q0=c=>{let u=Array.from(c.popup.querySelectorAll("[autofocus]"));for(let f of u)if(f instanceof HTMLElement&&Ve(f))return f.focus(),!0;return!1},J0=(c,u)=>u.focusDeny&&Ve(c.denyButton)?(c.denyButton.focus(),!0):u.focusCancel&&Ve(c.cancelButton)?(c.cancelButton.focus(),!0):u.focusConfirm&&Ve(c.confirmButton)?(c.confirmButton.focus(),!0):!1,X0=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};he.prototype.disableButtons=Cm,he.prototype.enableButtons=bm,he.prototype.getInput=_m,he.prototype.disableInput=Dm,he.prototype.enableInput=Im,he.prototype.hideLoading=oa,he.prototype.disableLoading=oa,he.prototype.showValidationMessage=Tm,he.prototype.resetValidationMessage=Sm,he.prototype.close=gn,he.prototype.closePopup=gn,he.prototype.closeModal=gn,he.prototype.closeToast=gn,he.prototype.rejectPromise=hm,he.prototype.update=km,he.prototype._destroy=Pm,Object.assign(he,A0),Object.keys(u0).forEach(c=>{he[c]=function(...u){return Mt&&Mt[c]?Mt[c](...u):null}}),he.DismissReason=Yr,he.version="11.23.0";let la=he;return la.default=la,la});typeof Ht<"u"&&Ht.Sweetalert2&&(Ht.swal=Ht.sweetAlert=Ht.Swal=Ht.SweetAlert=Ht.Sweetalert2);typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});var xu;function ua(){return xu}function kt(t){let e=xu;return xu=t,e}var zm=Symbol("NotFound");function ei(t){return t===zm||t?.name==="\u0275NotFound"}function ga(t,e){return Object.is(t,e)}var xe=null,da=!1,Nu=1,uT=null,Ne=Symbol("SIGNAL");function F(t){let e=xe;return xe=t,e}function ma(){return xe}var ti={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ni(t){if(da)throw new Error("");if(xe===null)return;xe.consumerOnSignalRead(t);let e=xe.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=xe.recomputing;if(r&&(n=e!==void 0?e.nextProducer:xe.producers,n!==void 0&&n.producer===t)){xe.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===xe&&(!r||fT(i,xe)))return;let o=ii(xe),s={producer:t,consumer:xe,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};xe.producersTail=s,e!==void 0?e.nextProducer=s:xe.producers=s,o&&qm(t,s)}function Gm(){Nu++}function ya(t){if(!(ii(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Nu)){if(!t.producerMustRecompute(t)&&!go(t)){pa(t);return}t.producerRecomputeValue(t),pa(t)}}function Mu(t){if(t.consumers===void 0)return;let e=da;da=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||dT(r)}}finally{da=e}}function ku(){return xe?.consumerAllowSignalWrites!==!1}function dT(t){t.dirty=!0,Mu(t),t.consumerMarkedDirty?.(t)}function pa(t){t.dirty=!1,t.lastCleanEpoch=Nu}function ri(t){return t&&(t.producersTail=void 0,t.recomputing=!0),F(t)}function po(t,e){if(F(e),!t)return;t.recomputing=!1;let n=t.producersTail,r=n!==void 0?n.nextProducer:t.producers;if(r!==void 0){if(ii(t))do r=Pu(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function go(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(ya(n),r!==n.version))return!0}return!1}function mo(t){if(ii(t)){let e=t.producers;for(;e!==void 0;)e=Pu(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function qm(t,e){let n=t.consumersTail,r=ii(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)qm(i.producer,i)}function Pu(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ii(e)){let o=e.producers;for(;o!==void 0;)o=Pu(o)}return n}function ii(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function va(t){uT?.(t)}function fT(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function _a(t,e){let n=Object.create(hT);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(ya(n),ni(n),n.value===ho)throw n.error;return n.value};return r[Ne]=n,va(n),r}var fa=Symbol("UNSET"),ha=Symbol("COMPUTING"),ho=Symbol("ERRORED"),hT=re(ee({},ti),{value:fa,dirty:!0,error:null,equal:ga,kind:"computed",producerMustRecompute(t){return t.value===fa||t.value===ha},producerRecomputeValue(t){if(t.value===ha)throw new Error("");let e=t.value;t.value=ha;let n=ri(t),r,i=!1;try{r=t.computation(),F(null),i=e!==fa&&e!==ho&&r!==ho&&t.equal(e,r)}catch(o){r=ho,t.error=o}finally{po(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function pT(){throw new Error}var Ym=pT;function Km(t){Ym(t)}function Ru(t){Ym=t}var gT=null;function Ou(t,e){let n=Object.create(wa);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Zm(n);return r[Ne]=n,va(n),[r,s=>oi(n,s),s=>Fu(n,s)]}function Zm(t){return ni(t),t.value}function oi(t,e){ku()||Km(t),t.equal(t.value,e)||(t.value=e,mT(t))}function Fu(t,e){ku()||Km(t),oi(t,e(t.value))}var wa=re(ee({},ti),{equal:ga,value:void 0,kind:"signal"});function mT(t){t.version++,Gm(),Mu(t),gT?.(t)}function N(t){return typeof t=="function"}function si(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ea=si(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Wn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ye=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(N(r))try{r()}catch(o){e=o instanceof Ea?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Qm(o)}catch(s){e=e??[],s instanceof Ea?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ea(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Qm(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Wn(n,e)}remove(e){let{_finalizers:n}=this;n&&Wn(n,e),e instanceof t&&e._removeParent(this)}};ye.EMPTY=(()=>{let t=new ye;return t.closed=!0,t})();var Lu=ye.EMPTY;function ba(t){return t instanceof ye||t&&"closed"in t&&N(t.remove)&&N(t.add)&&N(t.unsubscribe)}function Qm(t){N(t)?t():t.unsubscribe()}var pt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ai={setTimeout(t,e,...n){let{delegate:r}=ai;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ai;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ca(t){ai.setTimeout(()=>{let{onUnhandledError:e}=pt;if(e)e(t);else throw t})}function zn(){}var Jm=Vu("C",void 0,void 0);function Xm(t){return Vu("E",void 0,t)}function ey(t){return Vu("N",t,void 0)}function Vu(t,e,n){return{kind:t,value:e,error:n}}var Gn=null;function ci(t){if(pt.useDeprecatedSynchronousErrorHandling){let e=!Gn;if(e&&(Gn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Gn;if(Gn=null,n)throw r}}else t()}function ty(t){pt.useDeprecatedSynchronousErrorHandling&&Gn&&(Gn.errorThrown=!0,Gn.error=t)}var qn=class extends ye{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ba(e)&&e.add(this)):this.destination=_T}static create(e,n,r){return new li(e,n,r)}next(e){this.isStopped?Bu(ey(e),this):this._next(e)}error(e){this.isStopped?Bu(Xm(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Bu(Jm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},yT=Function.prototype.bind;function ju(t,e){return yT.call(t,e)}var Hu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ia(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ia(r)}else Ia(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ia(n)}}},li=class extends qn{constructor(e,n,r){super();let i;if(N(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&pt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ju(e.next,o),error:e.error&&ju(e.error,o),complete:e.complete&&ju(e.complete,o)}):i=e}this.destination=new Hu(i)}};function Ia(t){pt.useDeprecatedSynchronousErrorHandling?ty(t):Ca(t)}function vT(t){throw t}function Bu(t,e){let{onStoppedNotification:n}=pt;n&&ai.setTimeout(()=>n(t,e))}var _T={closed:!0,next:zn,error:vT,complete:zn};var ui=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Qe(t){return t}function wT(...t){return Uu(t)}function Uu(t){return t.length===0?Qe:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var R=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=bT(n)?n:new li(n,r,i);return ci(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ny(r),new r((i,o)=>{let s=new li({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ui](){return this}pipe(...n){return Uu(n)(this)}toPromise(n){return n=ny(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function ny(t){var e;return(e=t??pt.Promise)!==null&&e!==void 0?e:Promise}function ET(t){return t&&N(t.next)&&N(t.error)&&N(t.complete)}function bT(t){return t&&t instanceof qn||ET(t)&&ba(t)}function $u(t){return N(t?.lift)}function W(t){return e=>{if($u(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function U(t,e,n,r,i){return new Wu(t,e,n,r,i)}var Wu=class extends qn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function zu(){return W((t,e)=>{let n=null;t._refCount++;let r=U(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Gu=class extends R{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,$u(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ye;let n=this.getSubject();e.add(this.source.subscribe(U(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ye.EMPTY)}return e}refCount(){return zu()(this)}};var ry=si(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var gt=(()=>{class t extends R{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Da(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ry}next(n){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Lu:(this.currentObservers=null,o.push(n),new ye(()=>{this.currentObservers=null,Wn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new R;return n.source=this,n}}return t.create=(e,n)=>new Da(e,n),t})(),Da=class extends gt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Lu}};var yo=class extends gt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var qu={now(){return(qu.delegate||Date).now()},delegate:void 0};var Ta=class extends ye{constructor(e,n){super()}schedule(e,n=0){return this}};var vo={setInterval(t,e,...n){let{delegate:r}=vo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=vo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var di=class extends Ta{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return vo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&vo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Wn(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var fi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};fi.now=qu.now;var hi=class extends fi{constructor(e,n=fi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Yu=new hi(di);var Sa=class extends di{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Aa=class extends hi{};var Ku=new Aa(Sa);var _o=new R(t=>t.complete());function iy(t){return t&&N(t.schedule)}function oy(t){return t[t.length-1]}function xa(t){return N(oy(t))?t.pop():void 0}function mn(t){return iy(oy(t))?t.pop():void 0}function Zu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ay(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(h){s(h)}}function l(p){try{d(r.throw(p))}catch(h){s(h)}}function d(p){p.done?o(p.value):i(p.value).then(a,l)}d((r=r.apply(t,e||[])).next())})}function sy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yn(t){return this instanceof Yn?(this.v=t,this):new Yn(t)}function cy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(_){return Promise.resolve(_).then(y,h)}}function a(y,_){r[y]&&(i[y]=function(C){return new Promise(function(I,T){o.push([y,C,I,T])>1||l(y,C)})},_&&(i[y]=_(i[y])))}function l(y,_){try{d(r[y](_))}catch(C){m(o[0][3],C)}}function d(y){y.value instanceof Yn?Promise.resolve(y.value.v).then(p,h):m(o[0][2],y)}function p(y){l("next",y)}function h(y){l("throw",y)}function m(y,_){y(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function ly(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof sy=="function"?sy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var Na=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ma(t){return N(t?.then)}function ka(t){return N(t[ui])}function Pa(t){return Symbol.asyncIterator&&N(t?.[Symbol.asyncIterator])}function Ra(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function CT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Oa=CT();function Fa(t){return N(t?.[Oa])}function La(t){return cy(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Yn(n.read());if(i)return yield Yn(void 0);yield yield Yn(r)}}finally{n.releaseLock()}})}function Va(t){return N(t?.getReader)}function ve(t){if(t instanceof R)return t;if(t!=null){if(ka(t))return IT(t);if(Na(t))return DT(t);if(Ma(t))return TT(t);if(Pa(t))return uy(t);if(Fa(t))return ST(t);if(Va(t))return AT(t)}throw Ra(t)}function IT(t){return new R(e=>{let n=t[ui]();if(N(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function DT(t){return new R(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function TT(t){return new R(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ca)})}function ST(t){return new R(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function uy(t){return new R(e=>{xT(t,e).catch(n=>e.error(n))})}function AT(t){return uy(La(t))}function xT(t,e){var n,r,i,o;return ay(this,void 0,void 0,function*(){try{for(n=ly(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function je(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function yn(t,e=0){return W((n,r)=>{n.subscribe(U(r,i=>je(r,t,()=>r.next(i),e),()=>je(r,t,()=>r.complete(),e),i=>je(r,t,()=>r.error(i),e)))})}function vn(t,e=0){return W((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function dy(t,e){return ve(t).pipe(vn(e),yn(e))}function fy(t,e){return ve(t).pipe(vn(e),yn(e))}function hy(t,e){return new R(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function py(t,e){return new R(n=>{let r;return je(n,e,()=>{r=t[Oa](),je(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>N(r?.return)&&r.return()})}function ja(t,e){if(!t)throw new Error("Iterable cannot be null");return new R(n=>{je(n,e,()=>{let r=t[Symbol.asyncIterator]();je(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function gy(t,e){return ja(La(t),e)}function my(t,e){if(t!=null){if(ka(t))return dy(t,e);if(Na(t))return hy(t,e);if(Ma(t))return fy(t,e);if(Pa(t))return ja(t,e);if(Fa(t))return py(t,e);if(Va(t))return gy(t,e)}throw Ra(t)}function Pt(t,e){return e?my(t,e):ve(t)}function NT(...t){let e=mn(t);return Pt(t,e)}function MT(t,e){let n=N(t)?t:()=>t,r=i=>i.error(n());return new R(e?i=>e.schedule(r,0,i):r)}function kT(t){return!!t&&(t instanceof R||N(t.lift)&&N(t.subscribe))}var Kn=si(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function tn(t,e){return W((n,r)=>{let i=0;n.subscribe(U(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:PT}=Array;function RT(t,e){return PT(e)?t(...e):t(e)}function Ba(t){return tn(e=>RT(t,e))}var{isArray:OT}=Array,{getPrototypeOf:FT,prototype:LT,keys:VT}=Object;function Ha(t){if(t.length===1){let e=t[0];if(OT(e))return{args:e,keys:null};if(jT(e)){let n=VT(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function jT(t){return t&&typeof t=="object"&&FT(t)===LT}function Ua(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function BT(...t){let e=mn(t),n=xa(t),{args:r,keys:i}=Ha(t);if(r.length===0)return Pt([],e);let o=new R(HT(r,e,i?s=>Ua(i,s):Qe));return n?o.pipe(Ba(n)):o}function HT(t,e,n=Qe){return r=>{yy(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)yy(e,()=>{let d=Pt(t[l],e),p=!1;d.subscribe(U(r,h=>{o[l]=h,p||(p=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function yy(t,e,n){t?je(n,t,e):e()}function vy(t,e,n,r,i,o,s,a){let l=[],d=0,p=0,h=!1,m=()=>{h&&!l.length&&!d&&e.complete()},y=C=>d<r?_(C):l.push(C),_=C=>{o&&e.next(C),d++;let I=!1;ve(n(C,p++)).subscribe(U(e,T=>{i?.(T),o?y(T):e.next(T)},()=>{I=!0},void 0,()=>{if(I)try{for(d--;l.length&&d<r;){let T=l.shift();s?je(e,s,()=>_(T)):_(T)}m()}catch(T){e.error(T)}}))};return t.subscribe(U(e,y,()=>{h=!0,m()})),()=>{a?.()}}function Zn(t,e,n=1/0){return N(e)?Zn((r,i)=>tn((o,s)=>e(r,o,i,s))(ve(t(r,i))),n):(typeof e=="number"&&(n=e),W((r,i)=>vy(r,i,t,n)))}function _y(t=1/0){return Zn(Qe,t)}function wy(){return _y(1)}function $a(...t){return wy()(Pt(t,mn(t)))}function UT(t){return new R(e=>{ve(t()).subscribe(e)})}function Qu(...t){let e=xa(t),{args:n,keys:r}=Ha(t),i=new R(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let p=0;p<s;p++){let h=!1;ve(n[p]).subscribe(U(o,m=>{h||(h=!0,d--),a[p]=m},()=>l--,void 0,()=>{(!l||!h)&&(d||o.next(r?Ua(r,a):a),o.complete())}))}});return e?i.pipe(Ba(e)):i}var $T=new R(zn);function wo(t,e){return W((n,r)=>{let i=0;n.subscribe(U(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ey(t){return W((e,n)=>{let r=null,i=!1,o;r=e.subscribe(U(n,void 0,void 0,s=>{o=ve(t(s,Ey(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function by(t,e,n,r,i){return(o,s)=>{let a=n,l=e,d=0;o.subscribe(U(s,p=>{let h=d++;l=a?t(l,p,h):(a=!0,p),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function WT(t,e){return N(e)?Zn(t,e,1):Zn(t,1)}function Eo(t){return W((e,n)=>{let r=!1;e.subscribe(U(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ju(t){return t<=0?()=>_o:W((e,n)=>{let r=0;e.subscribe(U(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Wa(t=zT){return W((e,n)=>{let r=!1;e.subscribe(U(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function zT(){return new Kn}function GT(t){return W((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function qT(t,e){let n=arguments.length>=2;return r=>r.pipe(t?wo((i,o)=>t(i,o,r)):Qe,Ju(1),n?Eo(e):Wa(()=>new Kn))}function Xu(t){return t<=0?()=>_o:W((e,n)=>{let r=[];e.subscribe(U(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function YT(t,e){let n=arguments.length>=2;return r=>r.pipe(t?wo((i,o)=>t(i,o,r)):Qe,Xu(1),n?Eo(e):Wa(()=>new Kn))}function KT(t,e){return W(by(t,e,arguments.length>=2,!0))}function ZT(...t){let e=mn(t);return W((n,r)=>{(e?$a(t,n,e):$a(t,n)).subscribe(r)})}function QT(t,e){return W((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(U(r,l=>{i?.unsubscribe();let d=0,p=o++;ve(t(l,p)).subscribe(i=U(r,h=>r.next(e?e(l,h,p,d++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function JT(t){return W((e,n)=>{ve(t).subscribe(U(n,()=>n.complete(),zn)),!n.closed&&e.subscribe(n)})}function XT(t,e,n){let r=N(t)||e||n?{next:t,error:e,complete:n}:t;return r?W((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(U(o,l=>{var d;(d=r.next)===null||d===void 0||d.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,l),o.error(l)},()=>{var l,d;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Qe}function Cy(t){let e=F(null);try{return t()}finally{F(e)}}var Ka="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,n){super(To(e,n)),this.code=e}};function eS(t){return`NG0${Math.abs(t)}`}function To(t,e){return`${eS(t)}${e?": "+e:""}`}function Q(t){for(let e in t)if(t[e]===Q)return e;throw Error("")}function Ty(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function rn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(rn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function fd(t,e){return t?e?`${t} ${e}`:t:e||""}var tS=Q({__forward_ref__:Q});function rr(t){return t.__forward_ref__=rr,t.toString=function(){return rn(this())},t}function De(t){return hd(t)?t():t}function hd(t){return typeof t=="function"&&t.hasOwnProperty(tS)&&t.__forward_ref__===rr}function Sy(t,e){t==null&&pd(e,t,null,"!=")}function pd(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function J(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ir(t){return{providers:t.providers||[],imports:t.imports||[]}}function So(t){return rS(t,Za)}function nS(t){return So(t)!==null}function rS(t,e){return t.hasOwnProperty(e)&&t[e]||null}function iS(t){let e=t?.[Za]??null;return e||null}function td(t){return t&&t.hasOwnProperty(Ga)?t[Ga]:null}var Za=Q({\u0275prov:Q}),Ga=Q({\u0275inj:Q}),M=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=J({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function gd(t){return t&&!!t.\u0275providers}var md=Q({\u0275cmp:Q}),yd=Q({\u0275dir:Q}),vd=Q({\u0275pipe:Q}),_d=Q({\u0275mod:Q}),Io=Q({\u0275fac:Q}),or=Q({__NG_ELEMENT_ID__:Q}),Iy=Q({__NG_ENV_ID__:Q});function Qa(t){return typeof t=="string"?t:t==null?"":String(t)}function qa(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Qa(t)}var wd=Q({ngErrorCode:Q}),Ay=Q({ngErrorMessage:Q}),Co=Q({ngTokenPath:Q});function Ed(t,e){return xy("",-200,e)}function Ja(t,e){throw new L(-201,!1)}function oS(t,e){t[Co]??=[];let n=t[Co],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(Sy(e.provide,"Token with multi: true should have a provide property"),r=qa(e.provide)):r=qa(e),n[0]!==r&&t[Co].unshift(r)}function sS(t,e){let n=t[Co],r=t[wd],i=t[Ay]||t.message;return t.message=cS(i,r,n,e),t}function xy(t,e,n){let r=new L(e,t);return r[wd]=e,r[Ay]=t,n&&(r[Co]=n),r}function aS(t){return t[wd]}function cS(t,e,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return To(e,`${t}${o}${i}`)}var nd;function Ny(){return nd}function Je(t){let e=nd;return nd=t,e}function bd(t,e,n){let r=So(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Ja(t,"Injector")}var lS={},Qn=lS,rd="__NG_DI_FLAG__",id=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Jn(n)||0;try{return this.injector.get(e,r&8?null:Qn,r)}catch(i){if(ei(i))return i;throw i}}};function uS(t,e=0){let n=ua();if(n===void 0)throw new L(-203,!1);if(n===null)return bd(t,void 0,e);{let r=dS(e),i=n.retrieve(t,r);if(ei(i)){if(r.optional)return null;throw i}return i}}function Ee(t,e=0){return(Ny()||uS)(De(t),e)}function D(t,e){return Ee(t,Jn(e))}function Jn(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function dS(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function od(t){let e=[];for(let n=0;n<t.length;n++){let r=De(t[n]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=fS(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(Ee(i,o))}else e.push(Ee(r))}return e}function My(t,e){return t[rd]=e,t.prototype[rd]=e,t}function fS(t){return t[rd]}function Xn(t,e){let n=t.hasOwnProperty(Io);return n?t[Io]:null}function Xa(t,e){t.forEach(n=>Array.isArray(n)?Xa(n,e):e(n))}function Cd(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ao(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ky(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Py(t,e,n){let r=gi(t,e);return r>=0?t[r|1]=n:(r=~r,ky(t,r,e,n)),r}function ec(t,e){let n=gi(t,e);if(n>=0)return t[n|1]}function gi(t,e){return hS(t,e,1)}function hS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var En={},Xe=[],sr=new M(""),Id=new M("",-1),Dd=new M(""),Do=class{get(e,n=Qn){if(n===Qn){let i=xy("",-201);throw i.name="\u0275NotFound",i}return n}};function Td(t){return t[_d]||null}function bn(t){return t[md]||null}function Sd(t){return t[yd]||null}function Ry(t){return t[vd]||null}function ar(t){return{\u0275providers:t}}function Oy(...t){return{\u0275providers:Ad(!0,t),\u0275fromNgModule:!0}}function Ad(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Xa(e,s=>{let a=s;Ya(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Fy(i,o),n}function Fy(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];xd(i,o=>{e(o,r)})}}function Ya(t,e,n,r){if(t=De(t),!t)return!1;let i=null,o=td(t),s=!o&&bn(t);if(!o&&!s){let l=t.ngModule;if(o=td(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)Ya(d,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{Xa(o.imports,p=>{Ya(p,e,n,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&Fy(d,e)}if(!a){let d=Xn(i)||(()=>new i);e({provide:i,useFactory:d,deps:Xe},i),e({provide:Dd,useValue:i,multi:!0},i),e({provide:sr,useValue:()=>Ee(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let d=t;xd(l,p=>{e(p,d)})}}else return!1;return i!==t&&t.providers!==void 0}function xd(t,e){for(let n of t)gd(n)&&(n=n.\u0275providers),Array.isArray(n)?xd(n,e):e(n)}var pS=Q({provide:String,useValue:Q});function Ly(t){return t!==null&&typeof t=="object"&&pS in t}function gS(t){return!!(t&&t.useExisting)}function mS(t){return!!(t&&t.useFactory)}function er(t){return typeof t=="function"}function Vy(t){return!!t.useClass}var Nd=new M(""),za={},Dy={},ed;function xo(){return ed===void 0&&(ed=new Do),ed}var Be=class{},tr=class extends Be{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,ad(e,s=>this.processProvider(s)),this.records.set(Id,pi(void 0,this)),i.has("environment")&&this.records.set(Be,pi(void 0,this));let o=this.records.get(Nd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Dd,Xe,{self:!0}))}retrieve(e,n){let r=Jn(n)||0;try{return this.get(e,Qn,r)}catch(i){if(ei(i))return i;throw i}}destroy(){bo(this),this._destroyed=!0;let e=F(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),F(e)}}onDestroy(e){return bo(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){bo(this);let n=kt(this),r=Je(void 0),i;try{return e()}finally{kt(n),Je(r)}}get(e,n=Qn,r){if(bo(this),e.hasOwnProperty(Iy))return e[Iy](this);let i=Jn(r),o,s=kt(this),a=Je(void 0);try{if(!(i&4)){let d=this.records.get(e);if(d===void 0){let p=ES(e)&&So(e);p&&this.injectableDefInScope(p)?d=pi(sd(e),za):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,i)}let l=i&2?xo():this.parent;return n=i&8&&n===Qn?null:n,l.get(e,n)}catch(l){let d=aS(l);throw d===-200||d===-201?new L(d,null):l}finally{Je(a),kt(s)}}resolveInjectorInitializers(){let e=F(null),n=kt(this),r=Je(void 0),i;try{let o=this.get(sr,Xe,{self:!0});for(let s of o)s()}finally{kt(n),Je(r),F(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(rn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=De(e);let n=er(e)?e:De(e&&e.provide),r=vS(e);if(!er(e)&&e.multi===!0){let i=this.records.get(n);i||(i=pi(void 0,za,!0),i.factory=()=>od(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=F(null);try{if(n.value===Dy)throw Ed(rn(e));return n.value===za&&(n.value=Dy,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&wS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{F(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=De(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function sd(t){let e=So(t),n=e!==null?e.factory:Xn(t);if(n!==null)return n;if(t instanceof M)throw new L(204,!1);if(t instanceof Function)return yS(t);throw new L(204,!1)}function yS(t){if(t.length>0)throw new L(204,!1);let n=iS(t);return n!==null?()=>n.factory(t):()=>new t}function vS(t){if(Ly(t))return pi(void 0,t.useValue);{let e=Md(t);return pi(e,za)}}function Md(t,e,n){let r;if(er(t)){let i=De(t);return Xn(i)||sd(i)}else if(Ly(t))r=()=>De(t.useValue);else if(mS(t))r=()=>t.useFactory(...od(t.deps||[]));else if(gS(t))r=(i,o)=>Ee(De(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=De(t&&(t.useClass||t.provide));if(_S(t))r=()=>new i(...od(t.deps));else return Xn(i)||sd(i)}return r}function bo(t){if(t.destroyed)throw new L(205,!1)}function pi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _S(t){return!!t.deps}function wS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ES(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function ad(t,e){for(let n of t)Array.isArray(n)?ad(n,e):n&&gd(n)?ad(n.\u0275providers,e):e(n)}function Cn(t,e){let n;t instanceof tr?(bo(t),n=t):n=new id(t);let r,i=kt(n),o=Je(void 0);try{return e()}finally{kt(i),Je(o)}}function jy(){return Ny()!==void 0||ua()!=null}var mt=0,P=1,k=2,Te=3,st=4,at=5,No=6,mi=7,Me=8,cr=9,Rt=10,ue=11,yi=12,kd=13,lr=14,ct=15,ur=16,dr=17,fr=18,Mo=19,Pd=20,nn=21,tc=22,ko=23,et=24,nc=25,Re=26,By=1;var In=7,Po=8,Ro=9,Ue=10;function Ot(t){return Array.isArray(t)&&typeof t[By]=="object"}function yt(t){return Array.isArray(t)&&t[By]===!0}function Rd(t){return(t.flags&4)!==0}function Dn(t){return t.componentOffset>-1}function vi(t){return(t.flags&1)===1}function Ft(t){return!!t.template}function _i(t){return(t[k]&512)!==0}function hr(t){return(t[k]&256)===256}var Hy="svg",Uy="math";function lt(t){for(;Array.isArray(t);)t=t[mt];return t}function Od(t,e){return lt(e[t])}function Lt(t,e){return lt(e[t.index])}function rc(t,e){return t.data[e]}function $y(t,e){return t[e]}function ut(t,e){let n=e[t];return Ot(n)?n:n[mt]}function ic(t){return(t[k]&128)===128}function Wy(t){return yt(t[Te])}function Oo(t,e){return e==null?null:t[e]}function Fd(t){t[dr]=0}function Ld(t){t[k]&1024||(t[k]|=1024,ic(t)&&Lo(t))}function zy(t,e){for(;t>0;)e=e[lr],t--;return e}function Fo(t){return!!(t[k]&9216||t[et]?.dirty)}function oc(t){t[Rt].changeDetectionScheduler?.notify(8),t[k]&64&&(t[k]|=1024),Fo(t)&&Lo(t)}function Lo(t){t[Rt].changeDetectionScheduler?.notify(0);let e=_n(t);for(;e!==null&&!(e[k]&8192||(e[k]|=8192,!ic(e)));)e=_n(e)}function Vd(t,e){if(hr(t))throw new L(911,!1);t[nn]===null&&(t[nn]=[]),t[nn].push(e)}function Gy(t,e){if(t[nn]===null)return;let n=t[nn].indexOf(e);n!==-1&&t[nn].splice(n,1)}function _n(t){let e=t[Te];return yt(e)?e[Te]:e}function qy(t){return t[mi]??=[]}function Yy(t){return t.cleanup??=[]}var V={lFrame:fv(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Vo=(function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t})(Vo||{}),bS=0,cd=!1;function Ky(){return V.lFrame.elementDepthCount}function Zy(){V.lFrame.elementDepthCount++}function Qy(){V.lFrame.elementDepthCount--}function sc(){return V.bindingsEnabled}function Jy(){return V.skipHydrationRootTNode!==null}function Xy(t){return V.skipHydrationRootTNode===t}function ev(){V.skipHydrationRootTNode=null}function ie(){return V.lFrame.lView}function tt(){return V.lFrame.tView}function vt(t){return V.lFrame.contextLView=t,t[Me]}function _t(t){return V.lFrame.contextLView=null,t}function Oe(){let t=jd();for(;t!==null&&t.type===64;)t=t.parent;return t}function jd(){return V.lFrame.currentTNode}function tv(){let t=V.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function wi(t,e){let n=V.lFrame;n.currentTNode=t,n.isParent=e}function Bd(){return V.lFrame.isParent}function nv(){V.lFrame.isParent=!1}function rv(){return V.lFrame.contextLView}function Hd(t){pd("Must never be called in production mode"),bS=t}function Ud(){return cd}function $d(t){let e=cd;return cd=t,e}function iv(){let t=V.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ov(t){return V.lFrame.bindingIndex=t}function ac(){return V.lFrame.bindingIndex++}function sv(t){let e=V.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function av(){return V.lFrame.inI18n}function cv(t,e){let n=V.lFrame;n.bindingIndex=n.bindingRootIndex=t,cc(e)}function lv(){return V.lFrame.currentDirectiveIndex}function cc(t){V.lFrame.currentDirectiveIndex=t}function uv(t){let e=V.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Wd(t){V.lFrame.currentQueryIndex=t}function CS(t){let e=t[P];return e.type===2?e.declTNode:e.type===1?t[at]:null}function zd(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=CS(o),i===null||(o=o[lr],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=V.lFrame=dv();return r.currentTNode=e,r.lView=t,!0}function lc(t){let e=dv(),n=t[P];V.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function dv(){let t=V.lFrame,e=t===null?null:t.child;return e===null?fv(t):e}function fv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function hv(){let t=V.lFrame;return V.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Gd=hv;function uc(){let t=hv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pv(t){return(V.lFrame.contextLView=zy(t,V.lFrame.contextLView))[Me]}function pr(){return V.lFrame.selectedIndex}function Tn(t){V.lFrame.selectedIndex=t}function qd(){let t=V.lFrame;return rc(t.tView,t.selectedIndex)}function gv(){return V.lFrame.currentNamespace}var mv=!0;function dc(){return mv}function jo(t){mv=t}var IS={elements:void 0};function yv(){return IS}function ld(t,e=null,n=null,r){let i=Yd(t,e,n,r);return i.resolveInjectorInitializers(),i}function Yd(t,e=null,n=null,r,i=new Set){let o=[n||Xe,Oy(t)];return r=r||(typeof t=="object"?void 0:rn(t)),new tr(o,e||xo(),r||null,i)}var He=class t{static THROW_IF_NOT_FOUND=Qn;static NULL=new Do;static create(e,n){if(Array.isArray(e))return ld({name:""},n,e,"");{let r=e.name??"";return ld({name:r},e.parent,e.providers,r)}}static \u0275prov=J({token:t,providedIn:"any",factory:()=>Ee(Id)});static __NG_ELEMENT_ID__=-1},Bo=new M(""),Ei=(()=>{class t{static __NG_ELEMENT_ID__=DS;static __NG_ENV_ID__=n=>n}return t})(),ud=class extends Ei{_lView;constructor(e){super(),this._lView=e}get destroyed(){return hr(this._lView)}onDestroy(e){let n=this._lView;return Vd(n,e),()=>Gy(n,e)}};function DS(){return new ud(ie())}var nr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Vt=new M("",{providedIn:"root",factory:()=>{let t=D(Be),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(nr),e.handleError(n))}}}),vv={provide:sr,useValue:()=>void D(nr),multi:!0};function Kd(t){return typeof t=="function"&&t[Ne]!==void 0}function gr(t,e){let[n,r,i]=Ou(t,e?.equal),o=n,s=o[Ne];return o.set=r,o.update=i,o.asReadonly=_v.bind(o),o}function _v(){let t=this[Ne];if(t.readonlyFn===void 0){let e=()=>this();e[Ne]=t,t.readonlyFn=e}return t.readonlyFn}function Zd(t){return Kd(t)&&typeof t.set=="function"}var wn=class{},fc=new M("",{providedIn:"root",factory:()=>!1});var Qd=new M(""),Jd=new M("");var Sn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new yo(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new R(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=J({token:t,providedIn:"root",factory:()=>new t})}return t})(),bi=(()=>{class t{internalPendingTasks=D(Sn);scheduler=D(wn);errorHandler=D(Vt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=J({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ho(...t){}var Xd=(()=>{class t{static \u0275prov=J({token:t,providedIn:"root",factory:()=>new dd})}return t})(),dd=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function xi(t){return{toString:t}.toString()}var hc="__parameters__";function LS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function VS(t,e,n){return xi(()=>{let r=LS(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,d,p){let h=l.hasOwnProperty(hc)?l[hc]:Object.defineProperty(l,hc,{value:[]})[hc];for(;h.length<=p;)h.push(null);return(h[p]=h[p]||[]).push(s),l}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var on=My(VS("Optional"),8);function jS(t){return typeof t=="function"}var vc=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Kv(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Pc=(()=>{let t=()=>Zv;return t.ngInherit=!0,t})();function Zv(t){return t.type.prototype.ngOnChanges&&(t.setInput=HS),BS}function BS(){let t=Jv(this),e=t?.current;if(e){let n=t.previous;if(n===En)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function HS(t,e,n,r,i){let o=this.declaredInputs[r],s=Jv(t)||US(t,{previous:En,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new vc(d&&d.currentValue,n,l===En),Kv(t,e,i,n)}var Qv="__ngSimpleChanges__";function Jv(t){return t[Qv]||null}function US(t,e){return t[Qv]=e}var wv=[];var oe=function(t,e=null,n){for(let r=0;r<wv.length;r++){let i=wv[r];i(t,e,n)}};function $S(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Zv(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Xv(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function gc(t,e,n){e_(t,e,3,n)}function mc(t,e,n,r){(t[k]&3)===n&&e_(t,e,n,r)}function ef(t,e){let n=t[k];(n&3)===e&&(n&=16383,n+=1,t[k]=n)}function e_(t,e,n,r){let i=r!==void 0?t[dr]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[dr]+=65536),(a<o||o==-1)&&(WS(t,n,e,l),t[dr]=(t[dr]&4294901760)+l+2),l++}function Ev(t,e){oe(4,t,e);let n=F(null);try{e.call(t)}finally{F(n),oe(5,t,e)}}function WS(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[k]>>14<t[dr]>>16&&(t[k]&3)===e&&(t[k]+=16384,Ev(a,o)):Ev(a,o)}var Ii=-1,yr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function zS(t){return(t.flags&8)!==0}function GS(t){return(t.flags&16)!==0}function qS(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];KS(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function YS(t){return t===3||t===4||t===6}function KS(t){return t.charCodeAt(0)===64}function Wo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?bv(t,n,i,null,e[++r]):bv(t,n,i,null,null))}}return t}function bv(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function t_(t){return t!==Ii}function _c(t){return t&32767}function ZS(t){return t>>16}function wc(t,e){let n=ZS(t),r=e;for(;n>0;)r=r[lr],n--;return r}var df=!0;function Cv(t){let e=df;return df=t,e}var QS=256,n_=QS-1,r_=5,JS=0,jt={};function XS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(or)&&(r=n[or]),r==null&&(r=n[or]=JS++);let i=r&n_,o=1<<i;e.data[t+(i>>r_)]|=o}function Ec(t,e){let n=i_(t,e);if(n!==-1)return n;let r=e[P];r.firstCreatePass&&(t.injectorIndex=e.length,tf(r.data,t),tf(e,null),tf(r.blueprint,null));let i=Nf(t,e),o=t.injectorIndex;if(t_(i)){let s=_c(i),a=wc(i,e),l=a[P].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|l[s+d]}return e[o+8]=i,o}function tf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function i_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Nf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=l_(i),r===null)return Ii;if(n++,i=i[lr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ii}function ff(t,e,n){XS(t,e,n)}function o_(t,e,n){if(n&8||t!==void 0)return t;Ja(e,"NodeInjector")}function s_(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[cr],o=Je(void 0);try{return i?i.get(e,r,n&8):bd(e,r,n&8)}finally{Je(o)}}return o_(r,e,n)}function a_(t,e,n,r=0,i){if(t!==null){if(e[k]&2048&&!(r&2)){let s=iA(t,e,n,r,jt);if(s!==jt)return s}let o=c_(t,e,n,r,jt);if(o!==jt)return o}return s_(e,n,r,i)}function c_(t,e,n,r,i){let o=nA(n);if(typeof o=="function"){if(!zd(e,t,r))return r&1?o_(i,n,r):s_(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Ja(n);else return s}finally{Gd()}}else if(typeof o=="number"){let s=null,a=i_(t,e),l=Ii,d=r&1?e[ct][at]:null;for((a===-1||r&4)&&(l=a===-1?Nf(t,e):e[a+8],l===Ii||!Dv(r,!1)?a=-1:(s=e[P],a=_c(l),e=wc(l,e)));a!==-1;){let p=e[P];if(Iv(o,a,p.data)){let h=eA(a,e,n,s,r,d);if(h!==jt)return h}l=e[a+8],l!==Ii&&Dv(r,e[P].data[a+8]===d)&&Iv(o,a,e)?(s=p,a=_c(l),e=wc(l,e)):a=-1}}return i}function eA(t,e,n,r,i,o){let s=e[P],a=s.data[t+8],l=r==null?Dn(a)&&df:r!=s&&(a.type&3)!==0,d=i&1&&o===a,p=tA(a,s,n,l,d);return p!==null?bc(e,s,p,a,i):jt}function tA(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,d=t.directiveEnd,p=o>>20,h=r?a:a+p,m=i?a+p:d;for(let y=h;y<m;y++){let _=s[y];if(y<l&&n===_||y>=l&&_.type===n)return y}if(i){let y=s[l];if(y&&Ft(y)&&y.type===n)return l}return null}function bc(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof yr){let a=o;if(a.resolving){let y=qa(s[n]);throw Ed(y)}let l=Cv(a.canSeeViewProviders);a.resolving=!0;let d=s[n].type||s[n],p,h=a.injectImpl?Je(a.injectImpl):null,m=zd(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&$S(n,s[n],e)}finally{h!==null&&Je(h),Cv(l),a.resolving=!1,Gd()}}return o}function nA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(or)?t[or]:void 0;return typeof e=="number"?e>=0?e&n_:rA:e}function Iv(t,e,n){let r=1<<t;return!!(n[e+(t>>r_)]&r)}function Dv(t,e){return!(t&2)&&!(t&1&&e)}var mr=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return a_(this._tNode,this._lView,e,Jn(r),n)}};function rA(){return new mr(Oe(),ie())}function Mf(t){return xi(()=>{let e=t.prototype.constructor,n=e[Io]||hf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Io]||hf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function hf(t){return hd(t)?()=>{let e=hf(De(t));return e&&e()}:Xn(t)}function iA(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[k]&2048&&!_i(s);){let a=c_(o,s,n,r|2,jt);if(a!==jt)return a;let l=o.parent;if(!l){let d=s[Pd];if(d){let p=d.get(n,jt,r);if(p!==jt)return p}l=l_(s),s=s[lr]}o=l}return i}function l_(t){let e=t[P],n=e.type;return n===2?e.declTNode:n===1?t[at]:null}function oA(){return Rc(Oe(),ie())}function Rc(t,e){return new wr(Lt(t,e))}var wr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=oA}return t})();function u_(t){return(t.flags&128)===128}var kf=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(kf||{}),d_=new Map,sA=0;function aA(){return sA++}function cA(t){d_.set(t[Mo],t)}function pf(t){d_.delete(t[Mo])}var Tv="__ngContext__";function Di(t,e){Ot(e)?(t[Tv]=e[Mo],cA(e)):t[Tv]=e}function f_(t){return p_(t[yi])}function h_(t){return p_(t[st])}function p_(t){for(;t!==null&&!yt(t);)t=t[st];return t}var gf;function lA(t){gf=t}function g_(){if(gf!==void 0)return gf;if(typeof document<"u")return document;throw new L(210,!1)}var uA=new M("",{providedIn:"root",factory:()=>dA}),dA="ng",m_=new M(""),Pf=new M("",{providedIn:"platform",factory:()=>"unknown"});var fA=new M("",{providedIn:"root",factory:()=>g_().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var hA="h",pA="b";var y_=!1,v_=new M("",{providedIn:"root",factory:()=>y_});var gA=(t,e,n,r)=>{};function mA(t,e,n,r){gA(t,e,n,r)}function Rf(t){return(t.flags&32)===32}var yA=()=>null;function __(t,e,n=!1){return yA(t,e,n)}function w_(t,e){let n=t.contentQueries;if(n!==null){let r=F(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Wd(o),a.contentQueries(2,e[s],s)}}}finally{F(r)}}}function mf(t,e,n){Wd(0);let r=F(null);try{e(t,n)}finally{F(r)}}function Of(t,e,n){if(Rd(e)){let r=F(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{F(r)}}}var Ti=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(Ti||{});var Cc=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ka})`}};function Ff(t){return t instanceof Cc?t.changingThisBreaksApplicationSecurity:t}function E_(t,e){let n=b_(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ka})`)}return n===e}function b_(t){return t instanceof Cc&&t.getTypeName()||null}var vA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function C_(t){return t=String(t),t.match(vA)?t:"unsafe:"+t}var Lf=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Lf||{});function Ni(t){let e=_A();return e?e.sanitize(Lf.URL,t)||"":E_(t,"URL")?Ff(t):C_(Qa(t))}function _A(){let t=ie();return t&&t[Rt].sanitizer}var wA=/^>|^->|<!--|-->|--!>|<!-$/g,EA=/(<|>)/g,bA="\u200B$1\u200B";function CA(t){return t.replace(wA,e=>e.replace(EA,bA))}function I_(t){return t instanceof Function?t():t}function IA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var D_="ng-template";function DA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&IA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Vf(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Vf(t){return t.type===4&&t.value!==D_}function TA(t,e,n){let r=t.type===4&&!n?D_:t.value;return e===r}function SA(t,e,n){let r=4,i=t.attrs,o=i!==null?NA(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!wt(r)&&!wt(l))return!1;if(s&&wt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!TA(t,l,n)||l===""&&e.length===1){if(wt(r))return!1;s=!0}}else if(r&8){if(i===null||!DA(t,i,l,n)){if(wt(r))return!1;s=!0}}else{let d=e[++a],p=AA(l,i,Vf(t),n);if(p===-1){if(wt(r))return!1;s=!0;continue}if(d!==""){let h;if(p>o?h="":h=i[p+1].toLowerCase(),r&2&&d!==h){if(wt(r))return!1;s=!0}}}}return wt(r)||s}function wt(t){return(t&1)===0}function AA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return MA(e,t)}function xA(t,e,n=!1){for(let r=0;r<e.length;r++)if(SA(t,e[r],n))return!0;return!1}function NA(t){for(let e=0;e<t.length;e++){let n=t[e];if(YS(n))return e}return t.length}function MA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Sv(t,e){return t?":not("+e.trim()+")":e}function kA(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!wt(s)&&(e+=Sv(o,i),i=""),r=s,o=o||!wt(r);n++}return i!==""&&(e+=Sv(o,i)),e}function PA(t){return t.map(kA).join(",")}function RA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!wt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var sn={};function OA(t,e){return t.createText(e)}function FA(t,e,n){t.setValue(e,n)}function LA(t,e){return t.createComment(CA(e))}function T_(t,e,n){return t.createElement(e,n)}function Ic(t,e,n,r,i){t.insertBefore(e,n,r,i)}function S_(t,e,n){t.appendChild(e,n)}function Av(t,e,n,r,i){r!==null?Ic(t,e,n,r,i):S_(t,e,n)}function VA(t,e,n){t.removeChild(null,e,n)}function jA(t,e,n){t.setAttribute(e,"style",n)}function BA(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function A_(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&qS(t,e,r),i!==null&&BA(t,e,i),o!==null&&jA(t,e,o)}function jf(t,e,n,r,i,o,s,a,l,d,p){let h=Re+r,m=h+i,y=HA(h,m),_=typeof d=="function"?d():d;return y[P]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:p}}function HA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:sn);return n}function UA(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=jf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Bf(t,e,n,r,i,o,s,a,l,d,p){let h=e.blueprint.slice();return h[mt]=i,h[k]=r|4|128|8|64|1024,(d!==null||t&&t[k]&2048)&&(h[k]|=2048),Fd(h),h[Te]=h[lr]=t,h[Me]=n,h[Rt]=s||t&&t[Rt],h[ue]=a||t&&t[ue],h[cr]=l||t&&t[cr]||null,h[at]=o,h[Mo]=aA(),h[No]=p,h[Pd]=d,h[ct]=e.type==2?t[ct]:h,h}function $A(t,e,n){let r=Lt(e,t),i=UA(n),o=t[Rt].rendererFactory,s=Hf(t,Bf(t,i,null,x_(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function x_(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function N_(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Hf(t,e){return t[yi]?t[kd][st]=e:t[yi]=e,t[kd]=e,e}function x(t=1){M_(tt(),ie(),pr()+t,!1)}function M_(t,e,n,r){if(!r)if((e[k]&3)===3){let o=t.preOrderCheckHooks;o!==null&&gc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&mc(e,o,0,n)}Tn(n)}var Oc=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Oc||{});function yf(t,e,n,r){let i=F(null);try{let[o,s,a]=t.inputs[n],l=null;(s&Oc.SignalBased)!==0&&(l=e[o][Ne]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,o):Kv(e,l,o,r)}finally{F(i)}}var zo=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(zo||{}),WA;function Uf(t,e){return WA(t,e)}function Ci(t,e,n,r,i){if(r!=null){let o,s=!1;yt(r)?o=r:Ot(r)&&(s=!0,r=r[mt]);let a=lt(r);t===0&&n!==null?i==null?S_(e,n,a):Ic(e,n,a,i||null,!0):t===1&&n!==null?Ic(e,n,a,i||null,!0):t===2?VA(e,a,s):t===3&&e.destroyNode(a),o!=null&&nx(e,t,o,n,i)}}function zA(t,e){k_(t,e),e[mt]=null,e[at]=null}function GA(t,e,n,r,i,o){r[mt]=i,r[at]=e,Fc(t,r,n,1,i,o)}function k_(t,e){e[Rt].changeDetectionScheduler?.notify(9),Fc(t,e,e[ue],2,null,null)}function qA(t){let e=t[yi];if(!e)return nf(t[P],t);for(;e;){let n=null;if(Ot(e))n=e[yi];else{let r=e[Ue];r&&(n=r)}if(!n){for(;e&&!e[st]&&e!==t;)Ot(e)&&nf(e[P],e),e=e[Te];e===null&&(e=t),Ot(e)&&nf(e[P],e),n=e&&e[st]}e=n}}function $f(t,e){let n=t[Ro],r=n.indexOf(e);n.splice(r,1)}function P_(t,e){if(hr(e))return;let n=e[ue];n.destroyNode&&Fc(t,e,n,3,null,null),qA(e)}function nf(t,e){if(hr(e))return;let n=F(null);try{e[k]&=-129,e[k]|=256,e[et]&&mo(e[et]),KA(t,e),YA(t,e),e[P].type===1&&e[ue].destroy();let r=e[ur];if(r!==null&&yt(e[Te])){r!==e[Te]&&$f(r,e);let i=e[fr];i!==null&&i.detachView(t)}pf(e)}finally{F(n)}}function YA(t,e){let n=t.cleanup,r=e[mi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[mi]=null);let i=e[nn];if(i!==null){e[nn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ko];if(o!==null){e[ko]=null;for(let s of o)s.destroy()}}function KA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof yr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];oe(4,a,l);try{l.call(a)}finally{oe(5,a,l)}}else{oe(4,i,o);try{o.call(i)}finally{oe(5,i,o)}}}}}function ZA(t,e,n){return QA(t,e.parent,n)}function QA(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[mt];if(Dn(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Ti.None||i===Ti.Emulated)return null}return Lt(r,n)}function JA(t,e,n){return ex(t,e,n)}function XA(t,e,n){return t.type&40?Lt(t,n):null}var ex=XA,xv;function Wf(t,e,n,r){let i=ZA(t,r,e),o=e[ue],s=r.parent||e[at],a=JA(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Av(o,i,n[l],a,!1);else Av(o,i,n,a,!1);xv!==void 0&&xv(o,r,e,n,i)}function Uo(t,e){if(e!==null){let n=e.type;if(n&3)return Lt(e,t);if(n&4)return vf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Uo(t,r);{let i=t[e.index];return yt(i)?vf(-1,i):lt(i)}}else{if(n&128)return Uo(t,e.next);if(n&32)return Uf(e,t)()||lt(t[e.index]);{let r=R_(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=_n(t[ct]);return Uo(i,r)}else return Uo(t,e.next)}}}return null}function R_(t,e){if(e!==null){let r=t[ct][at],i=e.projection;return r.projection[i]}return null}function vf(t,e){let n=Ue+t+1;if(n<e.length){let r=e[n],i=r[P].firstChild;if(i!==null)return Uo(r,i)}return e[In]}function zf(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&e===0&&(a&&Di(lt(a),r),n.flags|=2),!Rf(n))if(l&8)zf(t,e,n.child,r,i,o,!1),Ci(e,t,i,a,o);else if(l&32){let d=Uf(n,r),p;for(;p=d();)Ci(e,t,i,p,o);Ci(e,t,i,a,o)}else l&16?tx(t,e,r,n,i,o):Ci(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Fc(t,e,n,r,i,o){zf(n,r,t.firstChild,e,i,o,!1)}function tx(t,e,n,r,i,o){let s=n[ct],l=s[at].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let p=l[d];Ci(e,t,i,p,o)}else{let d=l,p=s[Te];u_(r)&&(d.flags|=128),zf(t,e,d,p,i,o,!0)}}function nx(t,e,n,r,i){let o=n[In],s=lt(n);o!==s&&Ci(e,t,r,o,i);for(let a=Ue;a<n.length;a++){let l=n[a];Fc(l[P],l,t,e,r,o)}}function rx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:zo.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=zo.Important),t.setStyle(n,r,i,o))}}function O_(t,e,n,r,i){let o=pr(),s=r&2;try{Tn(-1),s&&e.length>Re&&M_(t,e,Re,!1),oe(s?2:0,i,n),n(r,i)}finally{Tn(o),oe(s?3:1,i,n)}}function Lc(t,e,n){ux(t,e,n),(n.flags&64)===64&&dx(t,e,n)}function Gf(t,e,n=Lt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function ix(t,e,n,r){let o=r.get(v_,y_)||n===Ti.ShadowDom,s=t.selectRootElement(e,o);return ox(s),s}function ox(t){sx(t)}var sx=()=>null;function ax(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function F_(t,e,n,r,i,o){let s=e[P];if(Yf(t,s,e,n,r)){Dn(t)&&lx(e,t.index);return}t.type&3&&(n=ax(n)),cx(t,e,n,r,i,o)}function cx(t,e,n,r,i,o){if(t.type&3){let s=Lt(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function lx(t,e){let n=ut(e,t);n[k]&16||(n[k]|=64)}function ux(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Dn(n)&&$A(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Ec(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],l=bc(e,t,s,n);if(Di(l,e),o!==null&&hx(e,s-r,l,a,n,o),Ft(a)){let d=ut(n.index,e);d[Me]=bc(e,t,s,n)}}}function dx(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=lv();try{Tn(o);for(let a=r;a<i;a++){let l=t.data[a],d=e[a];cc(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&fx(l,d)}}finally{Tn(-1),cc(s)}}function fx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function qf(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];xA(e,o.selectors,!1)&&(r??=[],Ft(o)?r.unshift(o):r.push(o))}return r}function hx(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],d=s[a+1];yf(r,n,l,d)}}function L_(t,e,n,r,i){let o=Re+n,s=e[P],a=i(s,e,t,r,n);e[o]=a,wi(t,!0);let l=t.type===2;return l?(A_(e[ue],a,t),(Ky()===0||vi(t))&&Di(a,e),Zy()):Di(a,e),dc()&&(!l||!Rf(t))&&Wf(s,e,a,t),t}function V_(t){let e=t;return Bd()?nv():(e=e.parent,wi(e,!1)),e}function px(t,e){let n=t[cr];if(!n)return;let r;try{r=n.get(Vt,null)}catch{r=null}r?.(e)}function Yf(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let d=s[l],p=s[l+1],h=e.data[d];yf(h,n[d],p,i),a=!0}if(o)for(let l of o){let d=n[l],p=e.data[l];yf(p,d,r,i),a=!0}return a}function gx(t,e){let n=ut(e,t),r=n[P];mx(r,n);let i=n[mt];i!==null&&n[No]===null&&(n[No]=__(i,n[cr])),oe(18),Kf(r,n,n[Me]),oe(19,n[Me])}function mx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Kf(t,e,n){lc(e);try{let r=t.viewQuery;r!==null&&mf(1,r,n);let i=t.template;i!==null&&O_(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[fr]?.finishViewCreation(t),t.staticContentQueries&&w_(t,e),t.staticViewQueries&&mf(2,t.viewQuery,n);let o=t.components;o!==null&&yx(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[k]&=-5,uc()}}function yx(t,e){for(let n=0;n<e.length;n++)gx(t,e[n])}function vx(t,e,n,r){let i=F(null);try{let o=e.tView,a=t[k]&4096?4096:16,l=Bf(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];l[ur]=d;let p=t[fr];return p!==null&&(l[fr]=p.createEmbeddedView(o)),Kf(o,l,n),l}finally{F(i)}}function Nv(t,e){return!e||e.firstChild===null||u_(t)}var Mv=!1,_x=new M("");function Go(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(lt(o)),yt(o)&&j_(o,r);let s=n.type;if(s&8)Go(t,e,n.child,r);else if(s&32){let a=Uf(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=R_(e,n);if(Array.isArray(a))r.push(...a);else{let l=_n(e[ct]);Go(l[P],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function j_(t,e){for(let n=Ue;n<t.length;n++){let r=t[n],i=r[P].firstChild;i!==null&&Go(r[P],r,i,e)}t[In]!==t[mt]&&e.push(t[In])}function B_(t){if(t[nc]!==null){for(let e of t[nc])e.impl.addSequence(e);t[nc].length=0}}var H_=[];function wx(t){return t[et]??Ex(t)}function Ex(t){let e=H_.pop()??Object.create(Cx);return e.lView=t,e}function bx(t){t.lView[et]!==t&&(t.lView=null,H_.push(t))}var Cx=re(ee({},ti),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Lo(t.lView)},consumerOnSignalRead(){this.lView[et]=this}});function Ix(t){let e=t[et]??Object.create(Dx);return e.lView=t,e}var Dx=re(ee({},ti),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=_n(t.lView);for(;e&&!U_(e[P]);)e=_n(e);e&&Ld(e)},consumerOnSignalRead(){this.lView[et]=this}});function U_(t){return t.type!==2}function $_(t){if(t[ko]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ko])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[k]&8192)}}var Tx=100;function Zf(t,e=0){let r=t[Rt].rendererFactory,i=!1;i||r.begin?.();try{Sx(t,e)}finally{i||r.end?.()}}function Sx(t,e){let n=Ud();try{$d(!0),_f(t,e);let r=0;for(;Fo(t);){if(r===Tx)throw new L(103,!1);r++,_f(t,1)}}finally{$d(n)}}function W_(t,e){Hd(e?Vo.Exhaustive:Vo.OnlyDirtyViews);try{Zf(t)}finally{Hd(Vo.Off)}}function Ax(t,e,n,r){if(hr(e))return;let i=e[k],o=!1,s=!1;lc(e);let a=!0,l=null,d=null;o||(U_(t)?(d=wx(e),l=ri(d)):ma()===null?(a=!1,d=Ix(e),l=ri(d)):e[et]&&(mo(e[et]),e[et]=null));try{Fd(e),ov(t.bindingStartIndex),n!==null&&O_(t,e,n,2,r);let p=(i&3)===3;if(!o)if(p){let y=t.preOrderCheckHooks;y!==null&&gc(e,y,null)}else{let y=t.preOrderHooks;y!==null&&mc(e,y,0,null),ef(e,0)}if(s||xx(e),$_(e),z_(e,0),t.contentQueries!==null&&w_(t,e),!o)if(p){let y=t.contentCheckHooks;y!==null&&gc(e,y)}else{let y=t.contentHooks;y!==null&&mc(e,y,1),ef(e,1)}Mx(t,e);let h=t.components;h!==null&&q_(e,h,0);let m=t.viewQuery;if(m!==null&&mf(2,m,r),!o)if(p){let y=t.viewCheckHooks;y!==null&&gc(e,y)}else{let y=t.viewHooks;y!==null&&mc(e,y,2),ef(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[tc]){for(let y of e[tc])y();e[tc]=null}o||(B_(e),e[k]&=-73)}catch(p){throw o||Lo(e),p}finally{d!==null&&(po(d,l),a&&bx(d)),uc()}}function z_(t,e){for(let n=f_(t);n!==null;n=h_(n))for(let r=Ue;r<n.length;r++){let i=n[r];G_(i,e)}}function xx(t){for(let e=f_(t);e!==null;e=h_(e)){if(!(e[k]&2))continue;let n=e[Ro];for(let r=0;r<n.length;r++){let i=n[r];Ld(i)}}}function Nx(t,e,n){oe(18);let r=ut(e,t);G_(r,n),oe(19,r[Me])}function G_(t,e){ic(t)&&_f(t,e)}function _f(t,e){let r=t[P],i=t[k],o=t[et],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&go(o)),s||=!1,o&&(o.dirty=!1),t[k]&=-9217,s)Ax(r,t,r.template,t[Me]);else if(i&8192){let a=F(null);try{$_(t),z_(t,1);let l=r.components;l!==null&&q_(t,l,1),B_(t)}finally{F(a)}}}function q_(t,e,n){for(let r=0;r<e.length;r++)Nx(t,e[r],n)}function Mx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Tn(~i);else{let o=i,s=n[++r],a=n[++r];cv(s,o);let l=e[o];oe(24,l),a(2,l),oe(25,l)}}}finally{Tn(-1)}}function Qf(t,e){let n=Ud()?64:1088;for(t[Rt].changeDetectionScheduler?.notify(e);t;){t[k]|=n;let r=_n(t);if(_i(t)&&!r)return t;t=r}return null}function Y_(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function kx(t,e,n,r=!0){let i=e[P];if(Px(i,e,t,n),r){let s=vf(n,t),a=e[ue],l=a.parentNode(t[In]);l!==null&&GA(i,t[at],a,e,l,s)}let o=e[No];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function wf(t,e){if(t.length<=Ue)return;let n=Ue+e,r=t[n];if(r){let i=r[ur];i!==null&&i!==t&&$f(i,r),e>0&&(t[n-1][st]=r[st]);let o=Ao(t,Ue+e);zA(r[P],r);let s=o[fr];s!==null&&s.detachView(o[P]),r[Te]=null,r[st]=null,r[k]&=-129}return r}function Px(t,e,n,r){let i=Ue+r,o=n.length;r>0&&(n[i-1][st]=e),r<o-Ue?(e[st]=n[i],Cd(n,Ue+r,e)):(n.push(e),e[st]=null),e[Te]=n;let s=e[ur];s!==null&&n!==s&&K_(s,e);let a=e[fr];a!==null&&a.insertView(t),oc(e),e[k]|=128}function K_(t,e){let n=t[Ro],r=e[Te];if(Ot(r))t[k]|=2;else{let i=r[Te][ct];e[ct]!==i&&(t[k]|=2)}n===null?t[Ro]=[e]:n.push(e)}var An=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[P];return Go(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Me]}set context(e){this._lView[Me]=e}get destroyed(){return hr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Te];if(yt(e)){let n=e[Po],r=n?n.indexOf(this):-1;r>-1&&(wf(e,r),Ao(n,r))}this._attachedToViewContainer=!1}P_(this._lView[P],this._lView)}onDestroy(e){Vd(this._lView,e)}markForCheck(){Qf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){oc(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,Zf(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=_i(this._lView),n=this._lView[ur];n!==null&&!e&&$f(n,this._lView),k_(this._lView[P],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let n=_i(this._lView),r=this._lView[ur];r!==null&&!n&&K_(r,this._lView),oc(this._lView)}};var Zo=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Rx;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=vx(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new An(o)}}return t})();function Rx(){return Z_(Oe(),ie())}function Z_(t,e){return t.type&4?new Zo(e,t,Rc(t,e)):null}function Jf(t,e,n,r,i){let o=t.data[e];if(o===null)o=Ox(t,e,n,r,i),av()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=tv();o.injectorIndex=s===null?-1:s.injectorIndex}return wi(o,!0),o}function Ox(t,e,n,r,i){let o=jd(),s=Bd(),a=s?o:o&&o.parent,l=t.data[e]=Lx(t,a,n,e,r,i);return Fx(t,l,o,s),l}function Fx(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function Lx(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Jy()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var X3=new RegExp(`^(\\d+)*(${pA}|${hA})*(.*)`);var Vx=()=>null;function kv(t,e){return Vx(t,e)}var Q_=class{},Vc=class{},Ef=class{resolveComponentFactory(e){throw new L(917,!1)}},Qo=class{static NULL=new Ef},qo=class{},Mi=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>jx()}return t})();function jx(){let t=ie(),e=Oe(),n=ut(e.index,t);return(Ot(n)?n:t)[ue]}var J_=(()=>{class t{static \u0275prov=J({token:t,providedIn:"root",factory:()=>null})}return t})();var yc={},bf=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,yc,r);return i!==yc||n===yc?i:this.parentInjector.get(e,n,r)}};function Pv(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=fd(i,a);else if(o==2){let l=a,d=e[++s];r=fd(r,l+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function se(t,e=0){let n=ie();if(n===null)return Ee(t,e);let r=Oe();return a_(r,n,De(t),e)}function X_(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,l=null,d=null;for(let p of s)if(p.resolveHostDirectives!==null){[a,l,d]=p.resolveHostDirectives(s);break}Ux(t,e,n,a,o,l,d)}o!==null&&r!==null&&Bx(n,r,o)}function Bx(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new L(-301,!1);r.push(e[i],o)}}function Hx(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Ux(t,e,n,r,i,o,s){let a=r.length,l=!1;for(let m=0;m<a;m++){let y=r[m];!l&&Ft(y)&&(l=!0,Hx(t,n,m)),ff(Ec(n,e),t,y.type)}Yx(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let d=!1,p=!1,h=N_(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=Wo(n.mergedAttrs,y.hostAttrs),Wx(t,n,e,h,y),qx(h,y,i),s!==null&&s.has(y)){let[C,I]=s.get(y);n.directiveToIndex.set(y.type,[h,C+n.directiveStart,I+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,h);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let _=y.type.prototype;!d&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!p&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),p=!0),h++}$x(t,n,o)}function $x(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Rv(0,e,i,r),Rv(1,e,i,r),Fv(e,r,!1);else{let o=n.get(i);Ov(0,e,o,r),Ov(1,e,o,r),Fv(e,r,!0)}}}function Rv(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),ew(e,o)}}function Ov(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),ew(e,s)}}function ew(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Fv(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Vf(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let d=i[l];for(let p of d)if(p===e){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let d=o[l];for(let p=0;p<d.length;p+=2)if(d[p]===e){s??=[],s.push(d[p+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function Wx(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Xn(i.type,!0)),s=new yr(o,Ft(i),se,null);t.blueprint[r]=s,n[r]=s,zx(t,e,r,N_(t,n,i.hostVars,sn),i)}function zx(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Gx(s)!=a&&s.push(a),s.push(n,r,o)}}function Gx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function qx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ft(e)&&(n[""]=t)}}function Yx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Xf(t,e,n,r,i,o,s,a){let l=e[P],d=l.consts,p=Oo(d,s),h=Jf(l,t,n,r,p);return o&&X_(l,e,h,Oo(d,a),i),h.mergedAttrs=Wo(h.mergedAttrs,h.attrs),h.attrs!==null&&Pv(h,h.attrs,!1),h.mergedAttrs!==null&&Pv(h,h.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,h),h}function eh(t,e){Xv(t,e),Rd(e)&&t.queries.elementEnd(e)}function th(t){return nw(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function tw(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function nw(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Kx(t,e,n){return t[e]=n}function Zx(t,e){return t[e]}function jc(t,e,n){if(n===sn)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function rf(t,e,n){return function r(i){let o=Dn(t)?ut(t.index,e):e;Qf(o,5);let s=e[Me],a=Lv(e,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=Lv(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function Lv(t,e,n,r){let i=F(null);try{return oe(6,e,n),n(r)!==!1}catch(o){return px(t,o),!1}finally{oe(7,e,n),F(i)}}function Qx(t,e,n,r,i,o,s,a){let l=vi(t),d=!1,p=null;if(!r&&l&&(p=Jx(e,n,o,t.index)),p!==null){let h=p.__ngLastListenerFn__||p;h.__ngNextListenerFn__=s,p.__ngLastListenerFn__=s,d=!0}else{let h=Lt(t,n),m=r?r(h):h;mA(n,m,o,a);let y=i.listen(m,o,a),_=r?C=>r(lt(C[t.index])):t.index;rw(_,e,n,o,a,y,!1)}return d}function Jx(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[mi],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function rw(t,e,n,r,i,o,s){let a=e.firstCreatePass?Yy(e):null,l=qy(n),d=l.length;l.push(i,o),a&&a.push(r,t,d,(d+1)*(s?-1:1))}function Vv(t,e,n,r,i,o){let s=e[n],a=e[P],d=a.data[n].outputs[r],h=s[d].subscribe(o);rw(t.index,a,e,i,o,h,!0)}var Cf=Symbol("BINDING");var Dc=class extends Qo{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=bn(e);return new Si(n,this.ngModule)}};function Xx(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Oc.SignalBased)!==0};return i&&(o.transform=i),o})}function eN(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function tN(t,e,n){let r=e instanceof Be?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new bf(n,r):n}function nN(t){let e=t.get(qo,null);if(e===null)throw new L(407,!1);let n=t.get(J_,null),r=t.get(wn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function rN(t,e){let n=iw(t);return T_(e,n,n==="svg"?Hy:n==="math"?Uy:null)}function iw(t){return(t.selectors[0][0]||"div").toLowerCase()}var Si=class extends Vc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Xx(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=eN(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=PA(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){oe(22);let a=F(null);try{let l=this.componentDef,d=iN(r,l,s,o),p=tN(l,i||this.ngModule,e),h=nN(p),m=h.rendererFactory.createRenderer(null,l),y=r?ix(m,r,l.encapsulation,p):rN(l,m),_=s?.some(jv)||o?.some(T=>typeof T!="function"&&T.bindings.some(jv)),C=Bf(null,d,null,512|x_(l),null,null,h,m,p,null,__(y,p,!0));C[Re]=y,lc(C);let I=null;try{let T=Xf(Re,C,2,"#host",()=>d.directiveRegistry,!0,0);y&&(A_(m,y,T),Di(y,C)),Lc(d,C,T),Of(d,T,C),eh(d,T),n!==void 0&&sN(T,this.ngContentSelectors,n),I=ut(T.index,C),C[Me]=I[Me],Kf(d,C,null)}catch(T){throw I!==null&&pf(I),pf(C),T}finally{oe(23),uc()}return new Tc(this.componentType,C,!!_)}finally{F(a)}}};function iN(t,e,n,r){let i=t?["ng-version","20.2.4"]:RA(e.selectors[0]),o=null,s=null,a=0;if(n)for(let p of n)a+=p[Cf].requiredVars,p.create&&(p.targetIdx=0,(o??=[]).push(p)),p.update&&(p.targetIdx=0,(s??=[]).push(p));if(r)for(let p=0;p<r.length;p++){let h=r[p];if(typeof h!="function")for(let m of h.bindings){a+=m[Cf].requiredVars;let y=p+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let l=[e];if(r)for(let p of r){let h=typeof p=="function"?p:p.type,m=Sd(h);l.push(m)}return jf(0,null,oN(o,s),1,a,l,null,null,null,[i],null)}function oN(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function jv(t){let e=t[Cf].kind;return e==="input"||e==="twoWay"}var Tc=class extends Q_{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=rc(n[P],Re),this.location=Rc(this._tNode,n),this.instance=ut(this._tNode.index,n)[Me],this.hostView=this.changeDetectorRef=new An(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Yf(r,i[P],i,e,n);this.previousInputValues.set(e,n);let s=ut(r.index,i);Qf(s,1)}get injector(){return new mr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Jo=(()=>{class t{static __NG_ELEMENT_ID__=aN}return t})();function aN(){let t=Oe();return lN(t,ie())}var cN=Jo,ow=class extends cN{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Rc(this._hostTNode,this._hostLView)}get injector(){return new mr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Nf(this._hostTNode,this._hostLView);if(t_(e)){let n=wc(e,this._hostLView),r=_c(e),i=n[P].data[r+8];return new mr(i,n)}else return new mr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Bv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ue}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=kv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Nv(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let l=e&&!jS(e),d;if(l)d=n;else{let I=n||{};d=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef,s=I.directives,a=I.bindings}let p=l?e:new Si(bn(e)),h=r||this.parentInjector;if(!o&&p.ngModule==null){let T=(l?h:this.parentInjector).get(Be,null);T&&(o=T)}let m=bn(p.componentType??{}),y=kv(this._lContainer,m?.id??null),_=y?.firstChild??null,C=p.create(h,i,_,o,s,a);return this.insertImpl(C.hostView,d,Nv(this._hostTNode,y)),C}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Wy(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Te],d=new ow(l,l[at],l[Te]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return kx(s,i,o,r),e.attachToViewContainerRef(),Cd(of(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Bv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=wf(this._lContainer,n);r&&(Ao(of(this._lContainer),n),P_(r[P],r))}detach(e){let n=this._adjustIndex(e,-1),r=wf(this._lContainer,n);return r&&Ao(of(this._lContainer),n)!=null?new An(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Bv(t){return t[Po]}function of(t){return t[Po]||(t[Po]=[])}function lN(t,e){let n,r=e[t.index];return yt(r)?n=r:(n=Y_(r,e,null,t),e[t.index]=n,Hf(e,n)),dN(n,e,t,r),new ow(n,t,e)}function uN(t,e){let n=t[ue],r=n.createComment(""),i=Lt(e,t),o=n.parentNode(i);return Ic(n,o,r,n.nextSibling(i),!1),r}var dN=pN,fN=()=>!1;function hN(t,e,n){return fN(t,e,n)}function pN(t,e,n,r){if(t[In])return;let i;n.type&8?i=lt(r):i=uN(e,n),t[In]=i}var Hv=new Set;function sw(t){Hv.has(t)||(Hv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var vr=class{},aw=class{};var Sc=class extends vr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Dc(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Td(e);this._bootstrapComponents=I_(o.bootstrap),this._r3Injector=Yd(e,n,[{provide:vr,useValue:this},{provide:Qo,useValue:this.componentFactoryResolver},...r],rn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ac=class extends aw{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Sc(this.moduleType,e,[])}};var Yo=class extends vr{injector;componentFactoryResolver=new Dc(this);instance=null;constructor(e){super();let n=new tr([...e.providers,{provide:vr,useValue:this},{provide:Qo,useValue:this.componentFactoryResolver}],e.parent||xo(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function cw(t,e,n=null){return new Yo({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var gN=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Ad(!1,n.type),i=r.length>0?cw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=J({token:t,providedIn:"environment",factory:()=>new t(Ee(Be))})}return t})();function Xo(t){return xi(()=>{let e=lw(t),n=re(ee({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===kf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(gN).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ti.Emulated,styles:t.styles||Xe,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&sw("NgStandalone"),uw(n);let r=t.dependencies;return n.directiveDefs=Uv(r,mN),n.pipeDefs=Uv(r,Ry),n.id=_N(n),n})}function mN(t){return bn(t)||Sd(t)}function ki(t){return xi(()=>({type:t.type,bootstrap:t.bootstrap||Xe,declarations:t.declarations||Xe,imports:t.imports||Xe,exports:t.exports||Xe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function yN(t,e){if(t==null)return En;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Oc.None,l=null),n[o]=[r,a,l],e[o]=s}return n}function vN(t){if(t==null)return En;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Et(t){return xi(()=>{let e=lw(t);return uw(e),e})}function lw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||En,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Xe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:yN(t.inputs,e),outputs:vN(t.outputs),debugInfo:null}}function uw(t){t.features?.forEach(e=>e(t))}function Uv(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function _N(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function wN(t){return Object.getPrototypeOf(t.prototype).constructor}function Er(t){let e=wN(t.type),n=!0,r=[t];for(;e;){let i;if(Ft(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=sf(t.inputs),s.declaredInputs=sf(t.declaredInputs),s.outputs=sf(t.outputs);let a=i.hostBindings;a&&DN(t,a);let l=i.viewQuery,d=i.contentQueries;if(l&&CN(t,l),d&&IN(t,d),EN(t,i),Ty(t.outputs,i.outputs),Ft(i)&&i.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Er&&(n=!1)}}e=Object.getPrototypeOf(e)}bN(r)}function EN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function bN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wo(i.hostAttrs,n=Wo(n,i.hostAttrs))}}function sf(t){return t===En?{}:t===Xe?[]:t}function CN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function IN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function DN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function TN(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=Wo(t.mergedAttrs,t.attrs);let p=t.tView=jf(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),p.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),wi(t,!1);let l=AN(n,e,t,r);dc()&&Wf(n,e,l,t),Di(l,e);let d=Y_(l,e,l,t);e[r+Re]=d,Hf(e,d),hN(d,t,e)}function SN(t,e,n,r,i,o,s,a,l,d,p){let h=n+Re,m;return e.firstCreatePass?(m=Jf(e,h,4,s||null,a||null),sc()&&X_(e,t,m,Oo(e.consts,d),qf),Xv(e,m)):m=e.data[h],TN(m,t,e,n,r,i,o,l),vi(m)&&Lc(e,t,m),d!=null&&Gf(t,m,p),m}function Se(t,e,n,r,i,o,s,a){let l=ie(),d=tt(),p=Oo(d.consts,o);return SN(l,d,t,e,n,r,i,p,void 0,s,a),Se}var AN=xN;function xN(t,e,n,r){return jo(!0),e[ue].createComment("")}var nh=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(nh||{}),rh=new M(""),dw=!1,If=class extends gt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,jy()&&(this.destroyRef=D(Ei,{optional:!0})??void 0,this.pendingTasks=D(Sn,{optional:!0})??void 0)}emit(e){let n=F(null);try{super.next(e)}finally{F(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ye&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},nt=If;function fw(t){let e,n;function r(){t=Ho;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function $v(t){return queueMicrotask(()=>t()),()=>{t=Ho}}var ih="isAngularZone",xc=ih+"_ID",NN=0,pe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new nt(!1);onMicrotaskEmpty=new nt(!1);onStable=new nt(!1);onError=new nt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=dw}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,PN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ih)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new L(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,MN,Ho,Ho);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},MN={};function oh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function kN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){fw(()=>{t.callbackScheduled=!1,Df(t),t.isCheckStableRunning=!0,oh(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Df(t)}function PN(t){let e=()=>{kN(t)},n=NN++;t._inner=t._inner.fork({name:"angular",properties:{[ih]:!0,[xc]:n,[xc+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(RN(l))return r.invokeTask(o,s,a,l);try{return Wv(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),zv(t)}},onInvoke:(r,i,o,s,a,l,d)=>{try{return Wv(t),r.invoke(o,s,a,l,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!ON(l)&&e(),zv(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Df(t),oh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Df(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Wv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zv(t){t._nesting--,oh(t)}var Nc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new nt;onMicrotaskEmpty=new nt;onStable=new nt;onError=new nt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function RN(t){return hw(t,"__ignore_ng_zone__")}function ON(t){return hw(t,"__scheduler_tick__")}function hw(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var pw=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=J({token:t,providedIn:"root",factory:()=>new t})}return t})();var FN=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var gw=new M("");function Pi(t){return!!t&&typeof t.then=="function"}function sh(t){return!!t&&typeof t.subscribe=="function"}var ah=new M("");function LN(t){return ar([{provide:ah,multi:!0,useValue:t}])}var ch=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=D(ah,{optional:!0})??[];injector=D(He);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Cn(this.injector,i);if(Pi(o))n.push(o);else if(sh(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mw=new M("");function yw(){Ru(()=>{let t="";throw new L(600,t)})}function vw(t){return t.isBoundToModule}var VN=10;var Ri=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=D(Vt);afterRenderManager=D(pw);zonelessEnabled=D(fc);rootEffectScheduler=D(Xd);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new gt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=D(Sn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(tn(n=>!n))}constructor(){D(rh,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=D(Be);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=He.NULL){return this._injector.get(pe).run(()=>{oe(10);let s=n instanceof Vc;if(!this._injector.get(ch).done){let _="";throw new L(405,_)}let l;s?l=n:l=this._injector.get(Qo).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let d=vw(l)?void 0:this._injector.get(vr),p=r||l.selector,h=l.create(i,[],p,d),m=h.location.nativeElement,y=h.injector.get(gw,null);return y?.registerApplication(m),h.onDestroy(()=>{this.detachView(h.hostView),$o(this.components,h),y?.unregisterApplication(m)}),this._loadComponent(h),oe(11,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){oe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(nh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new L(101,!1);let n=F(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,F(n),this.afterTick.next(),oe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(qo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<VN;)oe(14),this.synchronizeOnce(),oe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Fo(i))continue;let o=r&&!this.zonelessEnabled?0:1;Zf(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Fo(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;$o(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(mw,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>$o(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new L(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $o(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var jN=new M("",{providedIn:"root",factory:()=>!1}),BN=new M("",{providedIn:"root",factory:()=>HN}),HN=4e3;var sW=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function K(t,e,n){let r=ie(),i=ac();if(jc(r,i,e)){let o=tt(),s=qd();F_(s,r,t,e,r[ue],n)}return K}function Gv(t,e,n,r,i){Yf(e,t,n,i?"class":"style",r)}function S(t,e,n,r){let i=ie(),o=i[P],s=t+Re,a=o.firstCreatePass?Xf(s,i,2,e,qf,sc(),n,r):o.data[s];if(L_(a,i,t,e,UN),vi(a)){let l=i[P];Lc(l,i,a),Of(l,a,i)}return r!=null&&Gf(i,a),S}function A(){let t=tt(),e=Oe(),n=V_(e);return t.firstCreatePass&&eh(t,n),Xy(n)&&ev(),Qy(),n.classesWithoutHost!=null&&zS(n)&&Gv(t,n,ie(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&GS(n)&&Gv(t,n,ie(),n.stylesWithoutHost,!1),A}function an(t,e,n,r){return S(t,e,n,r),A(),an}var UN=(t,e,n,r,i)=>(jo(!0),T_(e[ue],r,gv()));function Bc(t,e,n){let r=ie(),i=r[P],o=t+Re,s=i.firstCreatePass?Xf(o,r,8,"ng-container",qf,sc(),e,n):i.data[o];if(L_(s,r,t,"ng-container",$N),vi(s)){let a=r[P];Lc(a,r,s),Of(a,s,r)}return n!=null&&Gf(r,s),Bc}function Hc(){let t=tt(),e=Oe(),n=V_(e);return t.firstCreatePass&&eh(t,n),Hc}var $N=(t,e,n,r,i)=>(jo(!0),LA(e[ue],""));function br(){return ie()}var es="en-US";var WN=es;function _w(t){typeof t=="string"&&(WN=t.toLowerCase().replace(/_/g,"-"))}function $e(t,e,n){let r=ie(),i=tt(),o=Oe();return ww(i,r,r[ue],o,t,e,n),$e}function ww(t,e,n,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=rf(r,e,o),Qx(r,t,e,s,n,i,o,l)&&(a=!1)),a){let d=r.outputs?.[i],p=r.hostDirectiveOutputs?.[i];if(p&&p.length)for(let h=0;h<p.length;h+=2){let m=p[h],y=p[h+1];l??=rf(r,e,o),Vv(r,e,m,y,i,l)}if(d&&d.length)for(let h of d)l??=rf(r,e,o),Vv(r,e,h,i,i,l)}}function ge(t=1){return pv(t)}function zN(t){let e=rv();return $y(e,Re+t)}function pc(t,e){return t<<17|e<<2}function _r(t){return t>>17&32767}function GN(t){return(t&2)==2}function qN(t,e){return t&131071|e<<17}function Tf(t){return t|2}function Ai(t){return(t&131068)>>2}function af(t,e){return t&-131069|e<<2}function YN(t){return(t&1)===1}function Sf(t){return t|1}function KN(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=_r(s),l=Ai(s);t[r]=n;let d=!1,p;if(Array.isArray(n)){let h=n;p=h[1],(p===null||gi(h,p)>0)&&(d=!0)}else p=n;if(i)if(l!==0){let m=_r(t[a+1]);t[r+1]=pc(m,a),m!==0&&(t[m+1]=af(t[m+1],r)),t[a+1]=qN(t[a+1],r)}else t[r+1]=pc(a,0),a!==0&&(t[a+1]=af(t[a+1],r)),a=r;else t[r+1]=pc(l,0),a===0?a=r:t[l+1]=af(t[l+1],r),l=r;d&&(t[r+1]=Tf(t[r+1])),qv(t,p,r,!0),qv(t,p,r,!1),ZN(e,p,t,r,o),s=pc(a,l),o?e.classBindings=s:e.styleBindings=s}function ZN(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&gi(o,e)>=0&&(n[r+1]=Sf(n[r+1]))}function qv(t,e,n,r){let i=t[n+1],o=e===null,s=r?_r(i):Ai(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],d=t[s+1];QN(l,e)&&(a=!0,t[s+1]=r?Sf(d):Tf(d)),s=r?_r(d):Ai(d)}a&&(t[n+1]=r?Tf(i):Sf(i))}function QN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?gi(t,e)>=0:!1}function Uc(t,e,n){return Ew(t,e,n,!1),Uc}function dt(t,e){return Ew(t,e,null,!0),dt}function Ew(t,e,n,r){let i=ie(),o=tt(),s=sv(2);if(o.firstUpdatePass&&XN(o,t,s,r),e!==sn&&jc(i,s,e)){let a=o.data[pr()];iM(o,a,i,i[ue],t,i[s+1]=oM(e,n),r,s)}}function JN(t,e){return e>=t.expandoStartIndex}function XN(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[pr()],s=JN(t,n);sM(o,r)&&e===null&&!s&&(e=!1),e=eM(i,o,e,r),KN(i,o,e,n,s,r)}}function eM(t,e,n,r){let i=uv(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=cf(null,t,e,n,r),n=Ko(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=cf(i,t,e,n,r),o===null){let l=tM(t,e,r);l!==void 0&&Array.isArray(l)&&(l=cf(null,t,e,l[1],r),l=Ko(l,e.attrs,r),nM(t,e,r,l))}else o=rM(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function tM(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ai(r)!==0)return t[_r(r)]}function nM(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[_r(i)]=r}function rM(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ko(r,s,n)}return Ko(r,e.attrs,n)}function cf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ko(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ko(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Py(t,s,n?!0:e[++o]))}return t===void 0?null:t}function iM(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,d=l[a+1],p=YN(d)?Yv(l,e,n,i,Ai(d),s):void 0;if(!Mc(p)){Mc(o)||GN(d)&&(o=Yv(l,null,n,i,a,s));let h=Od(pr(),n);rx(r,s,h,i,o)}}function Yv(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],d=Array.isArray(l),p=d?l[1]:l,h=p===null,m=n[i+1];m===sn&&(m=h?Xe:void 0);let y=h?ec(m,r):p===r?m:void 0;if(d&&!Mc(y)&&(y=ec(l,r)),Mc(y)&&(a=y,s))return a;let _=t[i+1];i=s?_r(_):Ai(_)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=ec(l,r))}return a}function Mc(t){return t!==void 0}function oM(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=rn(Ff(t)))),t}function sM(t,e){return(t.flags&(e?8:16))!==0}function z(t,e=""){let n=ie(),r=tt(),i=t+Re,o=r.firstCreatePass?Jf(r,i,1,e,null):r.data[i],s=aM(r,n,o,e,t);n[i]=s,dc()&&Wf(r,n,s,o),wi(o,!1)}var aM=(t,e,n,r,i)=>(jo(!0),OA(e[ue],r));function cM(t,e,n,r=""){return jc(t,ac(),n)?e+Qa(n)+r:sn}function Bt(t){return ft("",t),Bt}function ft(t,e,n){let r=ie(),i=cM(r,t,e,n);return i!==sn&&lM(r,pr(),i),ft}function lM(t,e,n){let r=Od(e,t);FA(t[ue],r,n)}function bw(t,e,n){Zd(e)&&(e=e());let r=ie(),i=ac();if(jc(r,i,e)){let o=tt(),s=qd();F_(s,r,t,e,r[ue],n)}return bw}function uM(t,e){let n=Zd(t);return n&&t.set(e),n}function Cw(t,e){let n=ie(),r=tt(),i=Oe();return ww(r,n,n[ue],i,t,e),Cw}function dM(t,e,n){let r=tt();if(r.firstCreatePass){let i=Ft(t);Af(n,r.data,r.blueprint,i,!0),Af(e,r.data,r.blueprint,i,!1)}}function Af(t,e,n,r,i){if(t=De(t),Array.isArray(t))for(let o=0;o<t.length;o++)Af(t[o],e,n,r,i);else{let o=tt(),s=ie(),a=Oe(),l=er(t)?t:De(t.provide),d=Md(t),p=a.providerIndexes&1048575,h=a.directiveStart,m=a.providerIndexes>>20;if(er(t)||!t.multi){let y=new yr(d,i,se,null),_=uf(l,e,i?p:p+m,h);_===-1?(ff(Ec(a,s),o,l),lf(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[_]=y,s[_]=y)}else{let y=uf(l,e,p+m,h),_=uf(l,e,p,p+m),C=y>=0&&n[y],I=_>=0&&n[_];if(i&&!I||!i&&!C){ff(Ec(a,s),o,l);let T=pM(i?hM:fM,n.length,i,r,d,t);!i&&I&&(n[_].providerFactory=T),lf(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else{let T=Iw(n[i?_:y],d,!i&&r);lf(o,t,y>-1?y:_,T)}!i&&r&&I&&n[_].componentProviders++}}}function lf(t,e,n,r){let i=er(e),o=Vy(e);if(i||o){let l=(o?De(e.useClass):e).prototype.ngOnDestroy;if(l){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(n);p===-1?d.push(n,[r,l]):d[p+1].push(r,l)}else d.push(n,l)}}}function Iw(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function uf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function fM(t,e,n,r,i){return xf(this.multi,[])}function hM(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=bc(r,r[P],this.providerFactory.index,i);s=l.slice(0,a),xf(o,s);for(let d=a;d<l.length;d++)s.push(l[d])}else s=[],xf(o,s);return s}function xf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function pM(t,e,n,r,i,o){let s=new yr(t,n,se,null);return s.multi=[],s.index=e,s.componentProviders=0,Iw(s,i,r&&!n),s}function $c(t,e=[]){return n=>{n.providersResolver=(r,i)=>dM(r,i?i(t):t,e)}}function lh(t,e,n){let r=iv()+t,i=ie();return i[r]===sn?Kx(i,r,n?e.call(n):e()):Zx(i,r)}function gM(t,e){return Z_(t,e)}var kc=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},mM=(()=>{class t{compileModuleSync(n){return new Ac(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Td(n),o=I_(i.declarations).reduce((s,a)=>{let l=bn(a);return l&&s.push(new Si(l)),s},[]);return new kc(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var yM=(()=>{class t{zone=D(pe);changeDetectionScheduler=D(wn);applicationRef=D(Ri);applicationErrorHandler=D(Vt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dw({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new pe(re(ee({},Tw()),{scheduleInRootZone:n})),[{provide:pe,useFactory:t},{provide:sr,multi:!0,useFactory:()=>{let r=D(yM,{optional:!0});return()=>r.initialize()}},{provide:sr,multi:!0,useFactory:()=>{let r=D(vM);return()=>{r.initialize()}}},e===!0?{provide:Qd,useValue:!0}:[],{provide:Jd,useValue:n??dw},{provide:Vt,useFactory:()=>{let r=D(pe),i=D(Be),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(nr),o.handleError(s))})}}}]}function Tw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var vM=(()=>{class t{subscription=new ye;initialized=!1;zone=D(pe);pendingTasks=D(Sn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Sw=(()=>{class t{applicationErrorHandler=D(Vt);appRef=D(Ri);taskService=D(Sn);ngZone=D(pe);zonelessEnabled=D(fc);tracing=D(rh,{optional:!0});disableScheduling=D(Qd,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ye;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(xc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(Jd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Nc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?$v:fw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(xc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,$v(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _M(){return typeof $localize<"u"&&$localize.locale||es}var Wc=new M("",{providedIn:"root",factory:()=>D(Wc,{optional:!0,skipSelf:!0})||_M()});function cn(t){return Cy(t)}function ts(t,e){return _a(t,e?.equal)}var Aw=class{[Ne];constructor(e){this[Ne]=e}destroy(){this[Ne].destroy()}};var Pw=Symbol("InputSignalNode#UNSET"),kM=re(ee({},wa),{transformFn:void 0,applyValueToInputSignal(t,e){oi(t,e)}});function Rw(t,e){let n=Object.create(kM);n.value=t,n.transformFn=e?.transform;function r(){if(ni(n),n.value===Pw){let i=null;throw new L(-950,i)}return n.value}return r[Ne]=n,r}var PM=new M("");PM.__NG_ELEMENT_ID__=t=>{let e=Oe();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new L(204,!1)};function xw(t,e){return Rw(t,e)}function RM(t){return Rw(Pw,t)}var GG=(xw.required=RM,xw);var Oi=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Ow=new Oi("20.2.4");var uh=new M(""),OM=new M("");function ns(t){return!t.moduleRef}function FM(t){let e=ns(t)?t.r3Injector:t.moduleRef.injector,n=e.get(pe);return n.run(()=>{ns(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Vt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),ns(t)){let o=()=>e.destroy(),s=t.platformInjector.get(uh);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(uh);s.add(o),t.moduleRef.onDestroy(()=>{$o(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return VM(r,n,()=>{let o=e.get(Sn),s=o.add(),a=e.get(ch);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(Wc,es);if(_w(l||es),!e.get(OM,!0))return ns(t)?e.get(Ri):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ns(t)){let p=e.get(Ri);return t.rootComponent!==void 0&&p.bootstrap(t.rootComponent),p}else return LM?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var LM;function VM(t,e,n){try{let r=n();return Pi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var zc=null;function jM(t=[],e){return He.create({name:e,providers:[{provide:Nd,useValue:"platform"},{provide:uh,useValue:new Set([()=>zc=null])},...t]})}function BM(t=[]){if(zc)return zc;let e=jM(t);return zc=e,yw(),HM(e),e}function HM(t){let e=t.get(m_,null);Cn(t,()=>{e?.forEach(n=>n())})}function gh(){return!1}var mh=(()=>{class t{static __NG_ELEMENT_ID__=UM}return t})();function UM(t){return $M(Oe(),ie(),(t&16)===16)}function $M(t,e,n){if(Dn(t)&&!n){let r=ut(t.index,e);return new An(r,r)}else if(t.type&175){let r=e[ct];return new An(r,e)}return null}var dh=class{constructor(){}supports(e){return th(e)}create(e){return new fh(e)}},WM=(t,e)=>e,fh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||WM}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Nw(r,i,o)?n:r,a=Nw(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,p=l-i;if(d!=p){for(let m=0;m<d;m++){let y=m<o.length?o[m]:o[m]=0,_=y+m;p<=_&&_<d&&(o[m]=y+1)}let h=s.previousIndex;o[h]=p-d}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!th(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,tw(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new hh(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Gc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Gc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},hh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},ph=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Gc=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new ph,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Nw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Mw(){return new yh([new dh])}var yh=(()=>{class t{factories;static \u0275prov=J({token:t,providedIn:"root",factory:Mw});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=D(t,{optional:!0,skipSelf:!0});return t.create(n,r||Mw())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new L(901,!1)}}return t})();function qG(t){oe(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=BM(r),o=[Dw({}),{provide:wn,useExisting:Sw},vv,...n||[]],s=new Yo({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return FM({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{oe(9)}}function Fw(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var jw=null;function Ir(){return jw}function zM(t){jw??=t}var vh=class{},_h=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>D(Bw),providedIn:"platform"})}return t})();var Bw=(()=>{class t extends _h{_location;_history;_doc=D(Bo);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ir().getBaseHref(this._doc)}onPopState(n){let r=Ir().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ir().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Hw(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Lw(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function xn(t){return t&&t[0]!=="?"?`?${t}`:t}var qc=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:()=>D($w),providedIn:"root"})}return t})(),Uw=new M(""),$w=(()=>{class t extends qc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??D(Bo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Hw(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+xn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+xn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+xn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Ee(_h),Ee(Uw,8))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ww=(()=>{class t{_subject=new gt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=YM(Lw(Vw(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+xn(r))}normalize(n){return t.stripTrailingSlash(qM(this._basePath,Vw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=xn;static joinWithSlash=Hw;static stripTrailingSlash=Lw;static \u0275fac=function(r){return new(r||t)(Ee(qc))};static \u0275prov=J({token:t,factory:()=>GM(),providedIn:"root"})}return t})();function GM(){return new Ww(Ee(qc))}function qM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Vw(t){return t.replace(/\/index.html$/,"")}function YM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var wh=/\s+/,zw=[],Eh=(()=>{class t{_ngEl;_renderer;initialClasses=zw;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(wh):zw}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(wh):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(wh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(se(wr),se(Mi))};static \u0275dir=Et({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Yc=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Fi=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Yc(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Gw(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Gw(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(se(Jo),se(Zo),se(yh))};static \u0275dir=Et({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Gw(t,e){t.context.$implicit=e.item}var rs=(()=>{class t{_viewContainer;_context=new Kc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){qw(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){qw(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(se(Jo),se(Zo))};static \u0275dir=Et({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Kc=class{$implicit=null;ngIf=null};function qw(t,e){if(t&&!t.createEmbeddedView)throw new L(2020,!1)}var is=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ki({type:t});static \u0275inj=ir({})}return t})();function KM(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var bh=class{};var C7="browser";var nE=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(se(Mi),se(wr))};static \u0275dir=Et({type:t})}return t})(),ZM=(()=>{class t extends nE{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Mf(t)))(i||t)}})();static \u0275dir=Et({type:t,features:[Er]})}return t})(),rE=new M("");var QM={provide:rE,useExisting:rr(()=>iE),multi:!0};function JM(){let t=Ir()?Ir().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var XM=new M(""),iE=(()=>{class t extends nE{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!JM())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(se(Mi),se(wr),se(XM,8))};static \u0275dir=Et({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&$e("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[$c([QM]),Er]})}return t})();var ek=new M(""),tk=new M("");function oE(t){return t!=null}function sE(t){return Pi(t)?Pt(t):t}function aE(t){let e={};return t.forEach(n=>{e=n!=null?ee(ee({},e),n):e}),Object.keys(e).length===0?null:e}function cE(t,e){return e.map(n=>n(t))}function nk(t){return!t.validate}function lE(t){return t.map(e=>nk(e)?e:n=>e.validate(n))}function rk(t){if(!t)return null;let e=t.filter(oE);return e.length==0?null:function(n){return aE(cE(n,e))}}function uE(t){return t!=null?rk(lE(t)):null}function ik(t){if(!t)return null;let e=t.filter(oE);return e.length==0?null:function(n){let r=cE(n,e).map(sE);return Qu(r).pipe(tn(aE))}}function dE(t){return t!=null?ik(lE(t)):null}function Kw(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ok(t){return t._rawValidators}function sk(t){return t._rawAsyncValidators}function Ch(t){return t?Array.isArray(t)?t:[t]:[]}function Qc(t,e){return Array.isArray(t)?t.includes(e):t===e}function Zw(t,e){let n=Ch(e);return Ch(t).forEach(i=>{Qc(n,i)||n.push(i)}),n}function Qw(t,e){return Ch(e).filter(n=>!Qc(t,n))}var Jc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=uE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=dE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ih=class extends Jc{name;get formDirective(){return null}get path(){return null}},ls=class extends Jc{_parent=null;name=null;valueAccessor=null},Dh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},ak={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},W7=re(ee({},ak),{"[class.ng-submitted]":"isSubmitted"}),z7=(()=>{class t extends Dh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(se(ls,2))};static \u0275dir=Et({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&dt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Er]})}return t})();var os="VALID",Zc="INVALID",Li="PENDING",ss="DISABLED",ji=class{},Xc=class extends ji{value;source;constructor(e,n){super(),this.value=e,this.source=n}},as=class extends ji{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},cs=class extends ji{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Vi=class extends ji{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function ck(t){return(el(t)?t.validators:t)||null}function lk(t){return Array.isArray(t)?uE(t):t||null}function uk(t,e){return(el(e)?e.asyncValidators:t)||null}function dk(t){return Array.isArray(t)?dE(t):t||null}function el(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Th=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return cn(this.statusReactive)}set status(e){cn(()=>this.statusReactive.set(e))}_status=ts(()=>this.statusReactive());statusReactive=gr(void 0);get valid(){return this.status===os}get invalid(){return this.status===Zc}get pending(){return this.status==Li}get disabled(){return this.status===ss}get enabled(){return this.status!==ss}errors;get pristine(){return cn(this.pristineReactive)}set pristine(e){cn(()=>this.pristineReactive.set(e))}_pristine=ts(()=>this.pristineReactive());pristineReactive=gr(!0);get dirty(){return!this.pristine}get touched(){return cn(this.touchedReactive)}set touched(e){cn(()=>this.touchedReactive.set(e))}_touched=ts(()=>this.touchedReactive());touchedReactive=gr(!1);get untouched(){return!this.touched}_events=new gt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Zw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Zw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Qw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Qw(e,this._rawAsyncValidators))}hasValidator(e){return Qc(this._rawValidators,e)}hasAsyncValidator(e){return Qc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(re(ee({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new cs(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new cs(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(re(ee({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new as(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new as(!0,r))}markAsPending(e={}){this.status=Li;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vi(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(re(ee({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ss,this.errors=null,this._forEachChild(i=>{i.disable(re(ee({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xc(this.value,r)),this._events.next(new Vi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(ee({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=os,this._forEachChild(r=>{r.enable(re(ee({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(ee({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===os||this.status===Li)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xc(this.value,n)),this._events.next(new Vi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(re(ee({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ss:os}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Li,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=sE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Vi(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?ss:this.errors?Zc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Li)?Li:this._anyControlsHaveStatus(Zc)?Zc:os}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new as(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new cs(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){el(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=lk(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=dk(this._rawAsyncValidators)}};var fE=new M("",{providedIn:"root",factory:()=>Sh}),Sh="always";function fk(t,e){return[...e.path,t]}function hk(t,e,n=Sh){gk(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),mk(t,e),vk(t,e),yk(t,e),pk(t,e)}function Jw(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function pk(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function gk(t,e){let n=ok(t);e.validator!==null?t.setValidators(Kw(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=sk(t);e.asyncValidator!==null?t.setAsyncValidators(Kw(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Jw(e._rawValidators,i),Jw(e._rawAsyncValidators,i)}function mk(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&hE(t,e)})}function yk(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&hE(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function hE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function vk(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function _k(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function wk(t){return Object.getPrototypeOf(t.constructor)===ZM}function Ek(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===iE?n=o:wk(o)?r=o:i=o}),i||r||n||null}function Xw(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function eE(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var bk=class extends Th{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(ck(n),uk(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),el(n)&&(n.nonNullable||n.initialValueIsDefault)&&(eE(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Xw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Xw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){eE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Ck={provide:ls,useExisting:rr(()=>Ik)},tE=Promise.resolve(),Ik=(()=>{class t extends ls{_changeDetectorRef;callSetDisabledState;control=new bk;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new nt;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Ek(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),_k(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){hk(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){tE.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Fw(r);tE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?fk(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(se(Ih,9),se(ek,10),se(tk,10),se(rE,10),se(mh,8),se(fE,8))};static \u0275dir=Et({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[$c([Ck]),Er,Pc]})}return t})();var Dk=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ki({type:t});static \u0275inj=ir({})}return t})();var pE=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:fE,useValue:n.callSetDisabledState??Sh}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ki({type:t});static \u0275inj=ir({imports:[Dk]})}return t})();var fn=lT(gE());function Tk(t,e){t&1&&(S(0,"span",9),z(1,"\u{1F3AF}"),A())}function Sk(t,e){if(t&1&&(S(0,"div",10)(1,"span",11),z(2),A()()),t&2){let n=ge();x(2),Bt(n.getActionDescription())}}function Ak(t,e){t&1&&(S(0,"div",16),z(1," \u2728 "),A())}function xk(t,e){if(t&1&&(S(0,"div",12)(1,"div",13),an(2,"img",14),A(),Se(3,Ak,2,0,"div",15),A()),t&2){let n=e.index,r=ge();dt("card-changed",(r.lastAction==null?null:r.lastAction.type)==="swap"&&n===0)("card-new",(r.lastAction==null?null:r.lastAction.type)==="draw_deck"||(r.lastAction==null?null:r.lastAction.type)==="draw_discard"),x(3),K("ngIf",(r.lastAction==null?null:r.lastAction.type)==="swap"&&n===0)}}var tl=class t{opponentName="";opponentCards=[];lastAction;isOpponentTurn=!1;constructor(){}ngOnInit(){}getCardImagePath(e){return e?`/assets/cards/${e}.png`:"/assets/cards/RV.png"}getActionDescription(){if(!this.lastAction)return"";switch(this.lastAction.type){case"draw_deck":return"\u{1F3B4} Rob\xF3 del mazo";case"draw_discard":return"\u267B\uFE0F Rob\xF3 del descarte";case"discard":return"\u{1F5D1}\uFE0F Pas\xF3";case"swap":return"\u{1F504} Intercambi\xF3 cartas";default:return""}}getOpponentIcon(){return this.opponentName==="Aguila"||this.opponentName==="\xC1guila"?"\u{1F985}":this.opponentName==="Lince"?"\u{1F431}":""}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Xo({type:t,selectors:[["app-opponent-actions"]],inputs:{opponentName:"opponentName",opponentCards:"opponentCards",lastAction:"lastAction",isOpponentTurn:"isOpponentTurn"},decls:11,vars:5,consts:[[1,"opponent-actions-container"],[1,"opponent-header"],[1,"opponent-name"],[1,"opponent-icon"],["class","turn-indicator",4,"ngIf"],["class","last-action",4,"ngIf"],[1,"opponent-cards"],[1,"cards-mini-container"],["class","card-mini",3,"card-changed","card-new",4,"ngFor","ngForOf"],[1,"turn-indicator"],[1,"last-action"],[1,"action-text"],[1,"card-mini"],[1,"card-back"],["src","/assets/cards/RV.png","alt","Carta oculta",1,"card-mini-image"],["class","change-indicator",4,"ngIf"],[1,"change-indicator"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"div",1)(2,"h4",2)(3,"span",3),z(4),A(),z(5),Se(6,Tk,2,0,"span",4),A(),Se(7,Sk,3,1,"div",5),A(),S(8,"div",6)(9,"div",7),Se(10,xk,4,5,"div",8),A()()()),n&2&&(x(4),Bt(r.getOpponentIcon()),x(),ft(" ",r.opponentName," "),x(),K("ngIf",r.isOpponentTurn),x(),K("ngIf",r.lastAction),x(3),K("ngForOf",r.opponentCards))},dependencies:[is,Fi,rs],styles:[".opponent-actions-container[_ngcontent-%COMP%]{background:#fbefa45e;border-radius:12px;padding:15px;margin:10px 0;box-shadow:0 4px 4px #0000004d}.opponent-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.opponent-name[_ngcontent-%COMP%]{color:#000;font-size:1.1em;margin:0;display:flex;align-items:center;gap:8px}.opponent-icon[_ngcontent-%COMP%]{font-size:1.2em}.turn-indicator[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.last-action[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;background:#3498db33;padding:4px 8px;border-radius:6px;font-size:.9em;color:#3b3704}.action-icon[_ngcontent-%COMP%]{font-size:1.1em}.opponent-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.cards-mini-container[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:center}.card-mini[_ngcontent-%COMP%]{position:relative;width:40px;height:56px;border-radius:6px;overflow:hidden;box-shadow:0 2px 4px #0000004d;transition:all .3s ease}.card-mini-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.card-back[_ngcontent-%COMP%]{width:100%;height:100%}.card-changed[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cardChange 1s ease-in-out;border:2px solid #f39c12}.card-new[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cardNew .8s ease-in-out}.change-indicator[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#f39c12;border-radius:50%;width:16px;height:16px;display:flex;align-items:center;justify-content:center;font-size:10px;animation:_ngcontent-%COMP%_sparkle 1.5s infinite}.discarded-card-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;justify-content:center;padding:8px;background:#e74c3c1a;border-radius:6px;border:1px solid rgba(231,76,60,.3)}.discard-label[_ngcontent-%COMP%]{color:#e74c3c;font-size:.9em;font-weight:700}.discarded[_ngcontent-%COMP%]{border:2px solid #e74c3c}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.6}}@keyframes _ngcontent-%COMP%_cardChange{0%{transform:scale(1)}50%{transform:scale(1.1) rotate(5deg)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_cardNew{0%{transform:translateY(-10px) scale(.8);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_sparkle{0%,to{transform:scale(1) rotate(0)}50%{transform:scale(1.2) rotate(180deg)}}@media (max-width: 768px){.opponent-actions-container[_ngcontent-%COMP%]{padding:10px}.card-mini[_ngcontent-%COMP%]{width:35px;height:49px}.opponent-name[_ngcontent-%COMP%]{font-size:1em}}"]})};var mE=()=>{};var Nh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var E=function(t,e){if(!t)throw Dr(e)},Dr=function(t){return new Error("Firebase Database ("+Nh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var _E=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Nk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Ui={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,d=l?t[i+2]:0,p=o>>2,h=(o&3)<<4|a>>4,m=(a&15)<<2|d>>6,y=d&63;l||(y=64,s||(m=64)),r.push(n[p],n[h],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_E(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Nk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||d==null||h==null)throw new Mh;let m=o<<2|a>>4;if(r.push(m),d!==64){let y=a<<4&240|d>>2;if(r.push(y),h!==64){let _=d<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Mh=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Ph=function(t){let e=_E(t);return Ui.encodeByteArray(e,!0)},ds=function(t){return Ph(t).replace(/\./g,"")},Bi=function(t){try{return Ui.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wE(t){return EE(void 0,t)}function EE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!Mk(n)||(t[n]=EE(t[n],e[n]));return t}function Mk(t){return t!=="__proto__"}function bE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var kk=()=>bE().__FIREBASE_DEFAULTS__,Pk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Rk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Bi(t[1]);return e&&JSON.parse(e)},Rh=()=>{try{return mE()||kk()||Pk()||Rk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CE=t=>{var e,n;return(n=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IE=t=>{let e=CE(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Oh=()=>{var t;return(t=Rh())===null||t===void 0?void 0:t.config},DE=t=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${t}`]};var bt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Tr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function Fh(t){return w(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function TE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ds(JSON.stringify(n)),ds(JSON.stringify(s)),""].join(".")}var us={};function Ok(){let t={prod:[],emulator:[]};for(let e of Object.keys(us))us[e]?t.emulator.push(e):t.prod.push(e);return t}function Fk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var yE=!1;function Lh(t,e){if(typeof window>"u"||typeof document>"u"||!Tr(window.location.host)||us[t]===e||us[t]||yE)return;us[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=Ok().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{yE=!0,s()},m}function p(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){let m=Fk(r),y=n("text"),_=document.getElementById(y)||document.createElement("span"),C=n("learnmore"),I=document.getElementById(C)||document.createElement("a"),T=n("preprendIcon"),Pe=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let qe=m.element;a(qe),p(I,C);let Xt=d();l(Pe,T),qe.append(Pe,_,I,Xt),document.body.appendChild(qe)}o?(_.innerText="Preview backend disconnected.",Pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fs(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function SE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AE(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rl(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $t(){return Nh.NODE_CLIENT===!0||Nh.NODE_ADMIN===!0}function il(){try{return typeof indexedDB=="object"}catch{return!1}}function xE(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var Lk="FirebaseError",Ut=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Lk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ct.prototype.create)}},Ct=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Vk(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ut(i,a,r)}};function Vk(t,e){return t.replace(jk,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var jk=/\{\$([^}]+)}/g;function Hi(t){return JSON.parse(t)}function _e(t){return JSON.stringify(t)}var NE=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=Hi(Bi(o[0])||""),n=Hi(Bi(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var ME=function(t){let e=NE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},kE=function(t){let e=NE(t).claims;return typeof e=="object"&&e.admin===!0};function Wt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Sr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ol(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hs(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Ar(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(vE(o)&&vE(s)){if(!Ar(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function vE(t){return t!==null&&typeof t=="object"}function ps(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var nl=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){let m=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(m<<1|m>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],d,p;for(let h=0;h<80;h++){h<40?h<20?(d=a^o&(s^a),p=1518500249):(d=o^s^a,p=1859775393):h<60?(d=o&s|a&(o|s),p=2400959708):(d=o^s^a,p=3395469782);let m=(i<<5|i>>>27)+d+l+p+r[h]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=m}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function PE(t,e){let n=new kh(t,e);return n.subscribe.bind(n)}var kh=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Bk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=xh),i.error===void 0&&(i.error=xh),i.complete===void 0&&(i.complete=xh);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Bk(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xh(){}function sl(t,e){return`${t} failed: ${e} argument `}var RE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,E(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},gs=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var X7=14400*1e3;function rt(t){return t&&t._delegate?t._delegate:t}var Fe=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var xr="[DEFAULT]";var al=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new bt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Uk(e))try{this.getOrInitializeService({instanceIdentifier:xr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=xr){return this.instances.has(e)}getOptions(e=xr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Hk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xr){return this.component?this.component.multipleInstances?e:xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Hk(t){return t===xr?void 0:t}function Uk(t){return t.instantiationMode==="EAGER"}var ms=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new al(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var $k=[],te=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(te||{}),Wk={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},zk=te.INFO,Gk={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},qk=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Gk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},zt=class{constructor(e){this.name=e,this._logLevel=zk,this._logHandler=qk,this._userLogHandler=null,$k.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}};var Yk=(t,e)=>e.some(n=>t instanceof n),OE,FE;function Kk(){return OE||(OE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zk(){return FE||(FE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var LE=new WeakMap,jh=new WeakMap,VE=new WeakMap,Vh=new WeakMap,Hh=new WeakMap;function Qk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Gt(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&LE.set(n,t)}).catch(()=>{}),Hh.set(e,t),e}function Jk(t){if(jh.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});jh.set(t,e)}var Bh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jE(t){Bh=t(Bh)}function Xk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(cl(this),e,...n);return VE.set(r,e.sort?e.sort():[e]),Gt(r)}:Zk().includes(t)?function(...e){return t.apply(cl(this),e),Gt(LE.get(this))}:function(...e){return Gt(t.apply(cl(this),e))}}function eP(t){return typeof t=="function"?Xk(t):(t instanceof IDBTransaction&&Jk(t),Yk(t,Kk())?new Proxy(t,Bh):t)}function Gt(t){if(t instanceof IDBRequest)return Qk(t);if(Vh.has(t))return Vh.get(t);let e=eP(t);return e!==t&&(Vh.set(t,e),Hh.set(e,t)),e}var cl=t=>Hh.get(t);function HE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Gt(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Gt(s.result),l.oldVersion,l.newVersion,Gt(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var tP=["get","getKey","getAll","getAllKeys","count"],nP=["put","add","delete","clear"],Uh=new Map;function BE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uh.get(e))return Uh.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=nP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tP.includes(n)))return;let o=function(s,...a){return w(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),d=l.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[n](...a),i&&l.done]))[0]})};return Uh.set(e,o),o}jE(t=>re(ee({},t),{get:(e,n,r)=>BE(e,n)||t.get(e,n,r),has:(e,n)=>!!BE(e,n)||t.has(e,n)}));var Wh=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function rP(t){let e=t.getComponent();return e?.type==="VERSION"}var zh="@firebase/app",UE="0.13.2";var ln=new zt("@firebase/app"),iP="@firebase/app-compat",oP="@firebase/analytics-compat",sP="@firebase/analytics",aP="@firebase/app-check-compat",cP="@firebase/app-check",lP="@firebase/auth",uP="@firebase/auth-compat",dP="@firebase/database",fP="@firebase/data-connect",hP="@firebase/database-compat",pP="@firebase/functions",gP="@firebase/functions-compat",mP="@firebase/installations",yP="@firebase/installations-compat",vP="@firebase/messaging",_P="@firebase/messaging-compat",wP="@firebase/performance",EP="@firebase/performance-compat",bP="@firebase/remote-config",CP="@firebase/remote-config-compat",IP="@firebase/storage",DP="@firebase/storage-compat",TP="@firebase/firestore",SP="@firebase/ai",AP="@firebase/firestore-compat",xP="firebase",NP="11.10.0";var Gh="[DEFAULT]",MP={[zh]:"fire-core",[iP]:"fire-core-compat",[sP]:"fire-analytics",[oP]:"fire-analytics-compat",[cP]:"fire-app-check",[aP]:"fire-app-check-compat",[lP]:"fire-auth",[uP]:"fire-auth-compat",[dP]:"fire-rtdb",[fP]:"fire-data-connect",[hP]:"fire-rtdb-compat",[pP]:"fire-fn",[gP]:"fire-fn-compat",[mP]:"fire-iid",[yP]:"fire-iid-compat",[vP]:"fire-fcm",[_P]:"fire-fcm-compat",[wP]:"fire-perf",[EP]:"fire-perf-compat",[bP]:"fire-rc",[CP]:"fire-rc-compat",[IP]:"fire-gcs",[DP]:"fire-gcs-compat",[TP]:"fire-fst",[AP]:"fire-fst-compat",[SP]:"fire-vertex","fire-js":"fire-js",[xP]:"fire-js-all"};var ys=new Map,kP=new Map,qh=new Map;function $E(t,e){try{t.container.addComponent(e)}catch(n){ln.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dt(t){let e=t.name;if(qh.has(e))return ln.debug(`There were multiple attempts to register component ${e}.`),!1;qh.set(e,t);for(let n of ys.values())$E(n,t);for(let n of kP.values())$E(n,t);return!0}function ll(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function un(t){return t==null?!1:t.settings!==void 0}var PP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nn=new Ct("app","Firebase",PP);var Yh=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nn.create("app-deleted",{appName:this._name})}};var $i=NP;function Qh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Gh,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Nn.create("bad-app-name",{appName:String(i)});if(n||(n=Oh()),!n)throw Nn.create("no-options");let o=ys.get(i);if(o){if(Ar(n,o.options)&&Ar(r,o.config))return o;throw Nn.create("duplicate-app",{appName:i})}let s=new ms(i);for(let l of qh.values())s.addComponent(l);let a=new Yh(n,r,s);return ys.set(i,a),a}function Wi(t=Gh){let e=ys.get(t);if(!e&&t===Gh&&Oh())return Qh();if(!e)throw Nn.create("no-app",{appName:t});return e}function ul(){return Array.from(ys.values())}function me(t,e,n){var r;let i=(r=MP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ln.warn(a.join(" "));return}Dt(new Fe(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var RP="firebase-heartbeat-database",OP=1,vs="firebase-heartbeat-store",$h=null;function qE(){return $h||($h=HE(RP,OP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vs)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nn.create("idb-open",{originalErrorMessage:t.message})})),$h}function FP(t){return w(this,null,function*(){try{let n=(yield qE()).transaction(vs),r=yield n.objectStore(vs).get(YE(t));return yield n.done,r}catch(e){if(e instanceof Ut)ln.warn(e.message);else{let n=Nn.create("idb-get",{originalErrorMessage:e?.message});ln.warn(n.message)}}})}function WE(t,e){return w(this,null,function*(){try{let r=(yield qE()).transaction(vs,"readwrite");yield r.objectStore(vs).put(e,YE(t)),yield r.done}catch(n){if(n instanceof Ut)ln.warn(n.message);else{let r=Nn.create("idb-set",{originalErrorMessage:n?.message});ln.warn(r.message)}}})}function YE(t){return`${t.name}!${t.options.appId}`}var LP=1024,VP=30,Kh=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Zh(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=zE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>VP){let s=BP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ln.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=zE(),{heartbeatsToSend:r,unsentEntries:i}=jP(this._heartbeatsCache.heartbeats),o=ds(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ln.warn(n),""}})}};function zE(){return new Date().toISOString().substring(0,10)}function jP(t,e=LP){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),GE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Zh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return il()?xE().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield FP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return WE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return WE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function GE(t){return ds(JSON.stringify({version:2,heartbeats:t})).length}function BP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function HP(t){Dt(new Fe("platform-logger",e=>new Wh(e),"PRIVATE")),Dt(new Fe("heartbeat",e=>new Kh(e),"PRIVATE")),me(zh,UE,t),me(zh,UE,"esm2017"),me("fire-js","")}HP("");var UP="firebase",$P="11.10.0";me(UP,$P,"app");function KE(t){t===void 0&&(t=D(He));let e=t.get(bi);return n=>new R(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Mr=new Oi("ANGULARFIRE2_VERSION");function fl(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Gi=(t,e)=>{let n=e?[e]:ul(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},zi=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(zi||{}),ZE=gh()&&typeof Zone<"u"?zi.WARN:zi.SILENT;var dl=class{zone;delegate;constructor(e,n=Ku){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},kr=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=D(pe);this.outsideAngular=n.runOutsideAngular(()=>new dl(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new dl(typeof Zone>"u"?void 0:Zone.current,Yu))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),QE=!1;function WP(t,e){!QE&&(ZE>zi.SILENT||gh())&&(QE=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),ZE>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function zP(t){let e=D(pe,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Nr(t){let e=D(pe,{optional:!0});return e?e.run(()=>t()):t()}var GP=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Cn(n,()=>Nr(()=>t.apply(void 0,r)))),qt=(t,e,n)=>(n||=e?zi.WARN:zi.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=D(kr),s=D(bi),a=D(Be)}catch{return WP(t,n),t.apply(this,i)}for(let d=0;d<arguments.length;d++)typeof i[d]=="function"&&(e&&(r||=Nr(()=>s.add())),i[d]=GP(i[d],r,a));let l=zP(()=>t.apply(this,i));return e?l instanceof R?l.pipe(vn(o.outsideAngular),yn(o.insideAngular),KE(a)):l instanceof Promise?Nr(()=>{let d=s.add();return new Promise((p,h)=>{l.then(m=>Cn(a,()=>Nr(()=>p(m))),m=>Cn(a,()=>Nr(()=>h(m)))).finally(d)})}):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:Nr(()=>l):l instanceof R?l.pipe(vn(o.outsideAngular),yn(o.insideAngular)):Nr(()=>l)});var Pr=class{constructor(e){return e}},_s=class{constructor(){return ul()}};function qP(t){return t&&t.length===1?t[0]:new Pr(Wi())}var Jh=new M("angularfire2._apps"),YP={provide:Pr,useFactory:qP,deps:[[new on,Jh]]},KP={provide:_s,deps:[[new on,Jh]]};function ZP(t){return(e,n)=>{let r=n.get(Pf);me("angularfire",Mr.full,"core"),me("angularfire",Mr.full,"app"),me("angular",Ow.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Pr(i)}}function Y9(t,...e){return ar([YP,KP,{provide:Jh,useFactory:ZP(t),multi:!0,deps:[pe,He,kr,...e]}])}var K9=qt(Qh,!0);var QP=new Map,JP={activated:!1,tokenObservers:[]},XP={initialized:!1,enabled:!1};function Tt(t){return QP.get(t)||Object.assign({},JP)}function tb(){return XP}var eR="https://content-firebaseappcheck.googleapis.com/v1";var tR="exchangeDebugToken",JE={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},iY=1440*60*1e3;var tp=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return w(this,null,function*(){this.stop();try{this.pending=new bt,this.pending.promise.catch(n=>{}),yield nR(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new bt,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function nR(t){return new Promise(e=>{setTimeout(e,t)})}var rR={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Mn=new Ct("appCheck","AppCheck",rR);function nb(t){if(!Tt(t).activated)throw Mn.create("use-before-activation",{appName:t.name})}function rb(r,i){return w(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(t,a)}catch(y){throw Mn.create("fetch-network-error",{originalErrorMessage:y?.message})}if(l.status!==200)throw Mn.create("fetch-status-error",{httpStatus:l.status});let d;try{d=yield l.json()}catch(y){throw Mn.create("fetch-parse-error",{originalErrorMessage:y?.message})}let p=d.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Mn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});let h=Number(p[1])*1e3,m=Date.now();return{token:d.token,expireTimeMillis:m+h,issuedAtTimeMillis:m}})}function ib(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${eR}/projects/${n}/apps/${r}:${tR}?key=${i}`,body:{debug_token:e}}}var iR="firebase-app-check-database",oR=1,np="firebase-app-check-store";var hl=null;function sR(){return hl||(hl=new Promise((t,e)=>{try{let n=indexedDB.open(iR,oR);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Mn.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(np,{keyPath:"compositeKey"})}}}catch(n){e(Mn.create("storage-open",{originalErrorMessage:n?.message}))}}),hl)}function aR(t,e){return cR(lR(t),e)}function cR(t,e){return w(this,null,function*(){let r=(yield sR()).transaction(np,"readwrite"),o=r.objectStore(np).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var d;a(Mn.create("storage-set",{originalErrorMessage:(d=l.target.error)===null||d===void 0?void 0:d.message}))}})})}function lR(t){return`${t.options.appId}-${t.name}`}var ws=new zt("@firebase/app-check");function Xh(t,e){return il()?aR(t,e).catch(n=>{ws.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function ob(){return tb().enabled}function sb(){return w(this,null,function*(){let t=tb();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var uR={error:"UNKNOWN_ERROR"};function dR(t){return Ui.encodeString(JSON.stringify(t),!1)}function rp(t,e=!1,n=!1){return w(this,null,function*(){let r=t.app;nb(r);let i=Tt(r),o=i.token,s;if(o&&!Es(o)&&(i.token=void 0,o=void 0),!o){let d=yield i.cachedTokenPromise;d&&(Es(d)?o=d:yield Xh(r,void 0))}if(!e&&o&&Es(o))return{token:o.token};let a=!1;if(ob())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=rb(ib(r,yield sb()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let d=yield i.exchangeTokenPromise;return yield Xh(r,d),i.token=d,{token:d.token}}catch(d){return d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?ws.warn(d.message):n&&ws.error(d),ep(d)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Tt(r).exchangeTokenPromise}catch(d){d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?ws.warn(d.message):n&&ws.error(d),s=d}let l;return o?s?Es(o)?l={token:o.token,internalError:s}:l=ep(s):(l={token:o.token},i.token=o,yield Xh(r,o)):l=ep(s),a&&gR(r,l),l})}function fR(t){return w(this,null,function*(){let e=t.app;nb(e);let{provider:n}=Tt(e);if(ob()){let r=yield sb(),{token:i}=yield rb(ib(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function hR(t,e,n,r){let{app:i}=t,o=Tt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Es(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),XE(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>XE(t))}function ab(t,e){let n=Tt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function XE(t){let{app:e}=t,n=Tt(e),r=n.tokenRefresher;r||(r=pR(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function pR(t){let{app:e}=t;return new tp(()=>w(null,null,function*(){let n=Tt(e),r;if(n.token?r=yield rp(t,!0):r=yield rp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Tt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},JE.RETRIAL_MIN_WAIT,JE.RETRIAL_MAX_WAIT)}function gR(t,e){let n=Tt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Es(t){return t.expireTimeMillis-Date.now()>0}function ep(t){return{token:dR(uR),error:t}}var ip=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Tt(this.app);for(let n of e)ab(this.app,n.next);return Promise.resolve()}};function mR(t,e){return new ip(t,e)}function yR(t){return{getToken:e=>rp(t,e),getLimitedUseToken:()=>fR(t),addTokenListener:e=>hR(t,"INTERNAL",e),removeTokenListener:e=>ab(t.app,e)}}var vR="@firebase/app-check",_R="0.10.1";var wR="app-check",eb="app-check-internal";function ER(){Dt(new Fe(wR,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return mR(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(eb).initialize()})),Dt(new Fe(eb,t=>{let e=t.getProvider("app-check").getImmediate();return yR(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),me(vR,_R)}ER();var bR="app-check";var pl=class{constructor(){return Gi(bR)}};var CR=["localhost","0.0.0.0","127.0.0.1"],yY=typeof window<"u"&&CR.includes(window.location.hostname);function gb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var mb=gb,yb=new Ct("auth","Firebase",gb());var vl=new zt("@firebase/auth");function IR(t,...e){vl.logLevel<=te.WARN&&vl.warn(`Auth (${$i}): ${t}`,...e)}function ml(t,...e){vl.logLevel<=te.ERROR&&vl.error(`Auth (${$i}): ${t}`,...e)}function cb(t,...e){throw mp(t,...e)}function gp(t,...e){return mp(t,...e)}function vb(t,e,n){let r=Object.assign(Object.assign({},mb()),{[e]:n});return new Ct("auth","Firebase",r).create(e,{appName:t.name})}function yl(t){return vb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mp(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yb.create(t,...e)}function Z(t,e,...n){if(!t)throw mp(e,...n)}function bs(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ml(e),new Error(e)}function _l(t,e){t||bs(e)}function DR(){return lb()==="http:"||lb()==="https:"}function lb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function TR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DR()||AE()||"connection"in navigator)?navigator.onLine:!0}function SR(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Fr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,_l(n>e,"Short delay should be less than long delay!"),this.isMobile=fs()||rl()}get(){return TR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function AR(t,e){_l(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var wl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var xR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var NR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MR=new Fr(3e4,6e4);function _b(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Dl(o,s,a,l){return w(this,arguments,function*(t,e,n,r,i={}){return wb(t,i,()=>w(null,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let h=ps(Object.assign({key:t.config.apiKey},p)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},d);return SE()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&Tr(t.emulatorConfig.host)&&(y.credentials="include"),wl.fetch()(yield Eb(t,t.config.apiHost,n,h),y)}))})}function wb(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},xR),e);try{let i=new ap(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw gl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gl(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw gl(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw gl(t,"user-disabled",s);let p=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw vb(t,p,d);cb(t,p)}}catch(i){if(i instanceof Ut)throw i;cb(t,"network-request-failed",{message:String(i)})}})}function Eb(t,e,n,r){return w(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?AR(t.config,i):`${t.config.apiScheme}://${i}`;return NR.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var ap=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gp(this.auth,"network-request-failed")),MR.get())})}};function gl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=gp(t,e,r);return i.customData._tokenResponse=n,i}function kR(t,e){return w(this,null,function*(){return Dl(t,"POST","/v1/accounts:delete",e)})}function El(t,e){return w(this,null,function*(){return Dl(t,"POST","/v1/accounts:lookup",e)})}function Cs(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yp(t,e=!1){return w(this,null,function*(){let n=rt(t),r=yield n.getIdToken(e),i=bb(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Cs(op(i.auth_time)),issuedAtTime:Cs(op(i.iat)),expirationTime:Cs(op(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function op(t){return Number(t)*1e3}function bb(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ml("JWT malformed, contained fewer than 3 sections"),null;try{let i=Bi(n);return i?JSON.parse(i):(ml("Failed to decode base64 JWT payload"),null)}catch(i){return ml("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ub(t){let e=bb(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function cp(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ut&&PR(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function PR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var lp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ds=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cs(this.lastLoginAt),this.creationTime=Cs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function bl(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield cp(t,El(n,{idToken:r}));Z(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Cb(o.providerUserInfo):[],a=RR(t.providerData,s),l=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!a?.length,p=l?d:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ds(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,h)})}function vp(t){return w(this,null,function*(){let e=rt(t);yield bl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function RR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Cb(t){return t.map(e=>{var{providerId:n}=e,r=Zu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function OR(t,e){return w(this,null,function*(){let n=yield wb(t,{},()=>w(null,null,function*(){let r=ps({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield Eb(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Tr(t.emulatorConfig.host)&&(l.credentials="include"),wl.fetch()(s,l)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function FR(t,e){return w(this,null,function*(){return Dl(t,"POST","/v2/accounts:revokeToken",_b(t,e))})}var Is=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ub(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");let n=ub(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield OR(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Z(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return bs("not implemented")}};function kn(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Rr=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Zu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ds(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield cp(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return yp(this,e)}reload(){return vp(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield bl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(un(this.auth.app))return Promise.reject(yl(this.auth));let e=yield this.getIdToken();return yield cp(this,kR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,d,p;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(s=n.photoURL)!==null&&s!==void 0?s:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(d=n.createdAt)!==null&&d!==void 0?d:void 0,Pe=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:qe,emailVerified:Xt,isAnonymous:Ln,providerData:Vn,stsTokenManager:hn}=n;Z(qe&&hn,e,"internal-error");let ao=Is.fromJSON(this.name,hn);Z(typeof qe=="string",e,"internal-error"),kn(h,e.name),kn(m,e.name),Z(typeof Xt=="boolean",e,"internal-error"),Z(typeof Ln=="boolean",e,"internal-error"),kn(y,e.name),kn(_,e.name),kn(C,e.name),kn(I,e.name),kn(T,e.name),kn(Pe,e.name);let we=new t({uid:qe,auth:e,email:m,emailVerified:Xt,displayName:h,isAnonymous:Ln,photoURL:_,phoneNumber:y,tenantId:C,stsTokenManager:ao,createdAt:T,lastLoginAt:Pe});return Vn&&Array.isArray(Vn)&&(we.providerData=Vn.map(jn=>Object.assign({},jn))),I&&(we._redirectEventId=I),we}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Is;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield bl(o),o})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];Z(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Cb(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Is;a.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ds(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,d),l})}};var db=new Map;function Or(t){_l(t instanceof Function,"Expected a class definition");let e=db.get(t);return e?(_l(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,db.set(t,e),e)}var LR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),up=LR;function sp(t,e,n){return`firebase:${t}:${e}:${n}`}var Cl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=sp(this.userKey,i.apiKey,o),this.fullPersistenceKey=sp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield El(this.auth,{idToken:e}).catch(()=>{});return n?Rr._fromGetAccountInfoResponse(this.auth,n,e):null}return Rr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Or(up),e,r);let i=(yield Promise.all(n.map(d=>w(null,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||Or(up),s=sp(r,e.config.apiKey,e.name),a=null;for(let d of n)try{let p=yield d._get(s);if(p){let h;if(typeof p=="string"){let m=yield El(e,{idToken:p}).catch(()=>{});if(!m)break;h=yield Rr._fromGetAccountInfoResponse(e,m,p)}else h=Rr._fromJSON(e,p);d!==o&&(a=h),o=d;break}}catch{}let l=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new t(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(d=>w(null,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new t(o,e,r))})}};function fb(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($R(e))return"Blackberry";if(WR(e))return"Webos";if(jR(e))return"Safari";if((e.includes("chrome/")||BR(e))&&!e.includes("edge/"))return"Chrome";if(UR(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function VR(t=It()){return/firefox\//i.test(t)}function jR(t=It()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BR(t=It()){return/crios\//i.test(t)}function HR(t=It()){return/iemobile/i.test(t)}function UR(t=It()){return/android/i.test(t)}function $R(t=It()){return/blackberry/i.test(t)}function WR(t=It()){return/webos/i.test(t)}function Ib(t,e=[]){let n;switch(t){case"Browser":n=fb(It());break;case"Worker":n=`${fb(It())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$i}/${r}`}var dp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function zR(n){return w(this,arguments,function*(t,e={}){return Dl(t,"GET","/v2/passwordPolicy",_b(t,e))})}var GR=6,fp=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:GR,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var hp=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Il(this),this.idTokenSubscription=new Il(this),this.beforeStateQueue=new dp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Cl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield El(this,{idToken:e}),r=yield Rr._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(un(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield bl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=SR()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(un(this.app))return Promise.reject(yl(this));let n=e?rt(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return un(this.app)?Promise.reject(yl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return un(this.app)?Promise.reject(yl(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Or(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield zR(this),n=new fp(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ct("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield FR(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Or(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=yield Cl.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(n);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ib(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&IR(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function qR(t){return rt(t)}var Il=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=PE(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var YR={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KR(t){YR=t}function ZR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function QR(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Or);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var xY=ZR("rcb"),NY=new Fr(3e4,6e4);var MY=new Fr(2e3,1e4);var kY=600*1e3;var PY=new Fr(3e4,6e4);var RY=new Fr(5e3,15e3);var OY=encodeURIComponent("fac");var hb="@firebase/auth",pb="1.10.8";var pp=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function JR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XR(t){Dt(new Fe("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ib(t)},d=new hp(r,i,o,l);return QR(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dt(new Fe("auth-internal",e=>{let n=qR(e.getProvider("auth").getImmediate());return(r=>new pp(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),me(hb,pb,JR(t)),me(hb,pb,"esm2017")}var eO=300,FY=DE("authIdTokenMaxAge")||eO;function tO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}KR({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=gp("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",tO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XR("Browser");var XO="auth";var Tl=class{constructor(){return Gi(XO)}};var Db="@firebase/database",Tb="1.0.20";var _g="";function e1(t){_g=t}var Tp=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),_e(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Hi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Sp=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Wt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var iC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Tp(e)}}catch{}return new Sp},Vr=iC("localStorage"),Ap=iC("sessionStorage");var Ki=new zt("@firebase/database"),t1=(function(){let t=1;return function(){return t++}})(),oC=function(t){let e=RE(t),n=new nl;n.update(e);let r=n.digest();return Ui.encodeByteArray(r)},Ws=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ws.apply(null,r):typeof r=="object"?e+=_e(r):e+=r,e+=" "}return e},Br=null,Sb=!0,n1=function(t,e){E(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ki.logLevel=te.VERBOSE,Br=Ki.log.bind(Ki),e&&Ap.set("logging_enabled",!0)):typeof t=="function"?Br=t:(Br=null,Ap.remove("logging_enabled"))},ke=function(...t){if(Sb===!0&&(Sb=!1,Br===null&&Ap.get("logging_enabled")===!0&&n1(!0)),Br){let e=Ws.apply(null,t);Br(e)}},zs=function(t){return function(...e){ke(t,...e)}},xp=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ws(...t);Ki.error(e)},dn=function(...t){let e=`FIREBASE FATAL ERROR: ${Ws(...t)}`;throw Ki.error(e),new Error(e)},We=function(...t){let e="FIREBASE WARNING: "+Ws(...t);Ki.warn(e)},r1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&We("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},sC=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},i1=function(t){if($t()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Qi="[MIN_NAME]",Hr="[MAX_NAME]",io=function(t,e){if(t===e)return 0;if(t===Qi||e===Hr)return-1;if(e===Qi||t===Hr)return 1;{let n=Ab(t),r=Ab(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},o1=function(t,e){return t===e?0:t<e?-1:1},Ts=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+_e(e))},wg=function(t){if(typeof t!="object"||t===null)return _e(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=_e(e[r]),n+=":",n+=wg(t[e[r]]);return n+="}",n},aC=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ze(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var cC=function(t){E(!sC(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let d=[];for(l=n;l;l-=1)d.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(i?1:0),d.reverse();let p=d.join(""),h="";for(l=0;l<64;l+=8){let m=parseInt(p.substr(l,8),2).toString(16);m.length===1&&(m="0"+m),h=h+m}return h.toLowerCase()},s1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},a1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function c1(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var l1=new RegExp("^-?(0*)\\d{1,10}$"),u1=-2147483648,d1=2147483647,Ab=function(t){if(l1.test(t)){let e=Number(t);if(e>=u1&&e<=d1)return e}return null},oo=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw We("Exception was thrown by user callback.",n),e},Math.floor(0))}},f1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ms=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Np=class{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,un(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){We(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Mp=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',We(e)}},ks=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Al="5",lC="v",uC="s",dC="r",fC="f",hC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pC="ls",gC="p",kp="ac",mC="websocket",yC="long_polling";var xl=class{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1,d=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Vr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function h1(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function vC(t,e,n){E(typeof e=="string","typeof type must == string"),E(typeof n=="object","typeof params must == object");let r;if(e===mC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===yC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);h1(t)&&(n.ns=t.namespace);let i=[];return ze(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Pp=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Wt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return wE(this.counters_)}};var _p={},wp={};function Eg(t){let e=t.toString();return _p[e]||(_p[e]=new Pp),_p[e]}function p1(t,e){let n=t.toString();return wp[n]||(wp[n]=e()),wp[n]}var Rp=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&oo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var xb="start",g1="close",m1="pLPCommand",y1="pRTLPCB",_C="id",wC="pw",EC="ser",v1="cb",_1="seg",w1="ts",E1="d",b1="dframe",bC=1870,CC=30,C1=bC-CC,I1=25e3,D1=3e4,Op=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zs(e),this.stats_=Eg(n),this.urlFn=l=>(this.appCheckToken&&(l[kp]=this.appCheckToken),vC(n,yC,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Rp(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(D1)),i1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fp((...o)=>{let[s,a,l,d,p]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===xb)this.id=a,this.password=l;else if(s===g1)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[xb]="t",r[EC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[v1]=this.scriptTagHolder.uniqueCallbackIdentifier),r[lC]=Al,this.transportSessionId&&(r[uC]=this.transportSessionId),this.lastSessionId&&(r[pC]=this.lastSessionId),this.applicationId&&(r[gC]=this.applicationId),this.appCheckToken&&(r[kp]=this.appCheckToken),typeof location<"u"&&location.hostname&&hC.test(location.hostname)&&(r[dC]=fC);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return $t()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!s1()&&!a1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=_e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Ph(n),i=aC(r,C1);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if($t())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[b1]="t",r[_C]=e,r[wC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=_e(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Fp=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,$t())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=t1(),window[m1+this.uniqueCallbackIdentifier]=e,window[y1+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){ke("frame writing exception"),a.stack&&ke(a.stack),ke(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ke("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[_C]=this.myID,e[wC]=this.myPW,e[EC]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+CC+r.length<=bC;){let s=this.pendingSegs.shift();r=r+"&"+_1+i+"="+s.seg+"&"+w1+i+"="+s.ts+"&"+E1+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(I1)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){$t()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ke("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var T1=16384,S1=45e3,Nl=null;typeof MozWebSocket<"u"?Nl=MozWebSocket:typeof WebSocket<"u"&&(Nl=WebSocket);var Ss=(()=>{class t{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zs(this.connId),this.stats_=Eg(r),this.connURL=t.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[lC]=Al,!$t()&&typeof location<"u"&&location.hostname&&hC.test(location.hostname)&&(a[dC]=fC),r&&(a[uC]=r),i&&(a[pC]=i),o&&(a[kp]=o),s&&(a[gC]=s),vC(n,mC,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vr.set("previous_websocket_failure",!0);try{let i;if($t()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Al}/${_g}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Nl(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Nl!==null&&!t.forceDisallow_}static previouslyFailed(){return Vr.isInMemoryStorage||Vr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Vr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Hi(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(E(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=_e(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=aC(r,T1);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(S1))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),A1=(()=>{class t{static get ALL_TRANSPORTS(){return[Op,Ss]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=Ss&&Ss.isAvailable(),i=r&&!Ss.previouslyFailed();if(n.webSocketOnly&&(r||We("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ss];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),x1=6e4,N1=5e3,M1=10*1024,k1=100*1024,Ep="t",Nb="d",P1="s",Mb="r",R1="e",kb="o",Pb="a",Rb="n",Ob="p",O1="h",Lp=class{constructor(e,n,r,i,o,s,a,l,d,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=d,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zs("c:"+this.id+":"),this.transportManager_=new A1(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ms(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>k1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>M1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ep in e){let n=e[Ep];n===Pb?this.upgradeIfSecondaryHealthy_():n===Mb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Ts("t",e),r=Ts("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ob,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Pb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Rb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Ts("t",e),r=Ts("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Ts(Ep,e);if(Nb in e){let r=e[Nb];if(n===O1){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Rb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===P1?this.onConnectionShutdown_(r):n===Mb?this.onReset_(r):n===R1?xp("Server Error: "+r):n===kb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xp("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Al!==r&&We("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ms(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(x1))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ms(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(N1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ob,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Ml=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var kl=class{constructor(e){this.allowedEvents_=e,this.listeners_={},E(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){E(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Pl=class t extends kl{static getInstance(){return new t}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!fs()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return E(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var Fb=32,Lb=768,ne=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function q(){return new ne("")}function j(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function On(t){return t.pieces_.length-t.pieceNum_}function ce(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ne(t.pieces_,e)}function IC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function F1(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function DC(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function TC(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ne(e,0)}function be(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ne)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ne(n,0)}function H(t){return t.pieceNum_>=t.pieces_.length}function Le(t,e){let n=j(t),r=j(e);if(n===null)return e;if(n===r)return Le(ce(t),ce(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function bg(t,e){if(On(t)!==On(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function At(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(On(t)>On(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Vp=class{constructor(e,n){this.errorPrefix_=n,this.parts_=DC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=gs(this.parts_[r]);SC(this)}};function L1(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=gs(e),SC(t)}function V1(t){let e=t.parts_.pop();t.byteLength_-=gs(e),t.parts_.length>0&&(t.byteLength_-=1)}function SC(t){if(t.byteLength_>Lb)throw new Error(t.errorPrefix_+"has a key path longer than "+Lb+" bytes ("+t.byteLength_+").");if(t.parts_.length>Fb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Fb+") or object contains a cycle "+Lr(t))}function Lr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var jp=class t extends kl{static getInstance(){return new t}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return E(e==="visible","Unknown event type: "+e),[this.visible_]}};var As=1e3,j1=300*1e3,Vb=30*1e3,B1=1.3,H1=3e4,U1="server_kill",jb=3,Cg=(()=>{class t extends Ml{constructor(n,r,i,o,s,a,l,d){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=d,this.id=t.nextPersistentConnectionId_++,this.log_=zs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=As,this.maxReconnectDelay_=j1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!$t())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jp.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Pl.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(_e(s)),E(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new bt,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),E(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),E(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let d=l.d,p=l.s;t.warnOnListenWarnings_(d,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),p!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(p,d))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Wt(n,"w")){let i=Sr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();We(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||kE(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Vb)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=ME(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),E(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+_e(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):xp("Unrecognized action received from server: "+_e(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){E(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=As,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=As,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>H1&&(this.reconnectDelay_=As),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*B1)}this.onConnectStatus_(!1)}establishConnection_(){return w(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,d=function(){l?l.close():(a=!0,i())},p=function(m){E(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(m)};this.realtime_={close:d,sendRequest:p};let h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[m,y]=yield Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?ke("getToken() completed but was canceled"):(ke("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,l=new Lp(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,_=>{We(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(U1)},s))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&We(m),d())}}})}interrupt(n){ke("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ke("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ol(this.interruptReasons_)&&(this.reconnectDelay_=As,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>wg(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new ne(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){ke("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=jb&&(this.reconnectDelay_=Vb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){ke("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=jb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";$t()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+_g.replace(/\./g,"-")]=1,fs()?n["framework.cordova"]=1:rl()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Pl.getInstance().currentlyOnline();return ol(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),B=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Ji=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new B(Qi,e),i=new B(Qi,n);return this.compare(r,i)!==0}minPost(){return B.MIN}};var Sl,Rl=class extends Ji{static get __EMPTY_NODE(){return Sl}static set __EMPTY_NODE(e){Sl=e}compare(e,n){return io(e.name,n.name)}isDefinedOn(e){throw Dr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return B.MIN}maxPost(){return new B(Hr,Sl)}makePost(e,n){return E(typeof e=="string","KeyIndex indexValue must always be a string."),new B(e,Sl)}toString(){return".key"}},Zi=new Rl;var Yi=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},St=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??ht.EMPTY_NODE,this.right=s??ht.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ht.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return ht.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Bp=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new St(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},ht=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,St.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,St.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Yi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Yi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Yi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Yi(this.root_,null,this.comparator_,!0,e)}};ht.EMPTY_NODE=new Bp;function $1(t,e){return io(t.name,e.name)}function Ig(t,e){return io(t,e)}var Hp;function W1(t){Hp=t}var AC=function(t){return typeof t=="number"?"number:"+cC(t):"string:"+t},xC=function(t){if(t.isLeafNode()){let e=t.val();E(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Wt(e,".sv"),"Priority must be a string or number.")}else E(t===Hp||t.isEmpty(),"priority of unexpected type.");E(t===Hp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Bb,Xi=(()=>{class t{static set __childrenNodeConstructor(n){Bb=n}static get __childrenNodeConstructor(){return Bb}constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,E(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),xC(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return H(n)?this:j(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=j(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(E(i!==".priority"||On(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ce(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+AC(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=cC(this.value_):n+=this.value_,this.lazyHash_=oC(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(E(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return E(o>=0,"Unknown leaf type: "+r),E(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),NC,MC;function z1(t){NC=t}function G1(t){MC=t}var Up=class extends Ji{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?io(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return B.MIN}maxPost(){return new B(Hr,new Xi("[PRIORITY-POST]",MC))}makePost(e,n){let r=NC(e);return new B(n,new Xi("[PRIORITY-POST]",r))}toString(){return".priority"}},de=new Up;var q1=Math.log(2),$p=class{constructor(e){let n=o=>parseInt(Math.log(o)/q1,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Ol=function(t,e,n,r){t.sort(e);let i=function(l,d){let p=d-l,h,m;if(p===0)return null;if(p===1)return h=t[l],m=n?n(h):h,new St(m,h.node,St.BLACK,null,null);{let y=parseInt(p/2,10)+l,_=i(l,y),C=i(y+1,d);return h=t[y],m=n?n(h):h,new St(m,h.node,St.BLACK,_,C)}},o=function(l){let d=null,p=null,h=t.length,m=function(_,C){let I=h-_,T=h;h-=_;let Pe=i(I+1,T),qe=t[I],Xt=n?n(qe):qe;y(new St(Xt,qe.node,C,null,Pe))},y=function(_){d?(d.left=_,d=_):(p=_,d=_)};for(let _=0;_<l.count;++_){let C=l.nextBitIsOne(),I=Math.pow(2,l.count-(_+1));C?m(I,St.BLACK):(m(I,St.BLACK),m(I,St.RED))}return p},s=new $p(t.length),a=o(s);return new ht(r||e,a)};var bp,qi={},eo=class t{static get Default(){return E(qi&&de,"ChildrenNode.ts has not been loaded"),bp=bp||new t({".priority":qi},{".priority":de}),bp}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){let n=Sr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ht?n:null}hasIndex(e){return Wt(this.indexSet_,e.toString())}addIndex(e,n){E(e!==Zi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(B.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Ol(r,e.getCompare()):a=qi;let l=e.toString(),d=Object.assign({},this.indexSet_);d[l]=e;let p=Object.assign({},this.indexes_);return p[l]=a,new t(p,d)}addToIndexes(e,n){let r=hs(this.indexes_,(i,o)=>{let s=Sr(this.indexSet_,o);if(E(s,"Missing index implementation for "+o),i===qi)if(s.isDefinedOn(e.node)){let a=[],l=n.getIterator(B.Wrap),d=l.getNext();for(;d;)d.name!==e.name&&a.push(d),d=l.getNext();return a.push(e),Ol(a,s.getCompare())}else return qi;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new B(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=hs(this.indexes_,i=>{if(i===qi)return i;{let o=n.get(e.name);return o?i.remove(new B(e.name,o)):i}});return new t(r,this.indexSet_)}};var xs,O=(()=>{class t{static get EMPTY_NODE(){return xs||(xs=new t(new ht(Ig),null,eo.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&xC(this.priorityNode_),this.children_.isEmpty()&&E(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xs}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?xs:r}}getChild(n){let r=j(n);return r===null?this:this.getImmediateChild(r).getChild(ce(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(E(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new B(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?xs:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=j(n);if(i===null)return r;{E(j(n)!==".priority"||On(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ce(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(de,(a,l)=>{r[a]=l.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+AC(this.getPriority().val())+":"),this.forEachChild(de,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":oC(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new B(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new B(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new B(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,B.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,B.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Gs?-1:0}withIndex(n){if(n===Zi||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Zi||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(de),o=r.getIterator(de),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Zi?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Wp=class extends O{constructor(){super(new ht(Ig),O.EMPTY_NODE,eo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return O.EMPTY_NODE}isEmpty(){return!1}},Gs=new Wp;Object.defineProperties(B,{MIN:{value:new B(Qi,O.EMPTY_NODE)},MAX:{value:new B(Hr,Gs)}});Rl.__EMPTY_NODE=O.EMPTY_NODE;Xi.__childrenNodeConstructor=O;W1(Gs);G1(Gs);var Y1=!0;function Ie(t,e=null){if(t===null)return O.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),E(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Xi(n,Ie(e))}if(!(t instanceof Array)&&Y1){let n=[],r=!1;if(ze(t,(s,a)=>{if(s.substring(0,1)!=="."){let l=Ie(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new B(s,l)))}}),n.length===0)return O.EMPTY_NODE;let o=Ol(n,$1,s=>s.name,Ig);if(r){let s=Ol(n,de.getCompare());return new O(o,Ie(e),new eo({".priority":s},{".priority":de}))}else return new O(o,Ie(e),eo.Default)}else{let n=O.EMPTY_NODE;return ze(t,(r,i)=>{if(Wt(t,r)&&r.substring(0,1)!=="."){let o=Ie(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ie(e))}}z1(Ie);var zp=class extends Ji{constructor(e){super(),this.indexPath_=e,E(!H(e)&&j(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?io(e.name,n.name):o}makePost(e,n){let r=Ie(e),i=O.EMPTY_NODE.updateChild(this.indexPath_,r);return new B(n,i)}maxPost(){let e=O.EMPTY_NODE.updateChild(this.indexPath_,Gs);return new B(Hr,e)}toString(){return DC(this.indexPath_,0).join("/")}};var Gp=class extends Ji{compare(e,n){let r=e.node.compareTo(n.node);return r===0?io(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return B.MIN}maxPost(){return B.MAX}makePost(e,n){let r=Ie(e);return new B(n,r)}toString(){return".value"}},K1=new Gp;function kC(t){return{type:"value",snapshotNode:t}}function to(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Fs(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ls(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Z1(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Vs=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){E(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Fs(n,a)):E(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(to(n,r)):s.trackChildChange(Ls(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(de,(i,o)=>{n.hasChild(i)||r.trackChildChange(Fs(i,o))}),n.isLeafNode()||n.forEachChild(de,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Ls(i,o,s))}else r.trackChildChange(to(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?O.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Fl=class t{constructor(e){this.indexedFilter_=new Vs(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new B(n,r))||(r=O.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=O.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(O.EMPTY_NODE);let o=this;return n.forEachChild(de,(s,a)=>{o.matches(new B(s,a))||(i=i.updateImmediateChild(s,O.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var qp=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Fl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new B(n,r))||(r=O.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=O.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=O.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(O.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,O.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let h=this.index_.getCompare();s=(m,y)=>h(y,m)}else s=this.index_.getCompare();let a=e;E(a.numChildren()===this.limit_,"");let l=new B(n,r),d=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),p=this.rangedFilter_.matches(l);if(a.hasChild(n)){let h=a.getImmediateChild(n),m=i.getChildAfterChild(this.index_,d,this.reverse_);for(;m!=null&&(m.name===n||a.hasChild(m.name));)m=i.getChildAfterChild(this.index_,m,this.reverse_);let y=m==null?1:s(m,l);if(p&&!r.isEmpty()&&y>=0)return o?.trackChildChange(Ls(n,r,h)),a.updateImmediateChild(n,r);{o?.trackChildChange(Fs(n,h));let C=a.updateImmediateChild(n,O.EMPTY_NODE);return m!=null&&this.rangedFilter_.matches(m)?(o?.trackChildChange(to(m.name,m.node)),C.updateImmediateChild(m.name,m.node)):C}}else return r.isEmpty()?e:p&&s(d,l)>=0?(o!=null&&(o.trackChildChange(Fs(d.name,d.node)),o.trackChildChange(to(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(d.name,O.EMPTY_NODE)):e}};var Yp=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=de}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return E(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return E(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qi}hasEnd(){return this.endSet_}getIndexEndValue(){return E(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return E(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return E(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===de}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function Q1(t){return t.loadsAllData()?new Vs(t.getIndex()):t.hasLimit()?new qp(t):new Fl(t)}function Hb(t){let e={};if(t.isDefault())return e;let n;if(t.index_===de?n="$priority":t.index_===K1?n="$value":t.index_===Zi?n="$key":(E(t.index_ instanceof zp,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=_e(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=_e(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+_e(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=_e(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+_e(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Ub(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==de&&(e.i=t.index_.toString()),e}var Kp=class t extends Ml{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(E(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=zs("p:rest:"),this.listens_={}}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let l=Hb(e._queryParams);this.restRequest_(o+".json",l,(d,p)=>{let h=p;if(d===404&&(h=null,d=null),d===null&&this.onDataUpdate_(o,h,!1,r),Sr(this.listens_,s)===a){let m;d?d===401?m="permission_denied":m="rest_error:"+d:m="ok",i(m,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=Hb(e._queryParams),r=e._path.toString(),i=new bt;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ps(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Hi(a.responseText)}catch{We("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&We("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Zp=class{constructor(){this.rootNode_=O.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Ll(){return{value:null,children:new Map}}function PC(t,e,n){if(H(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=j(e);t.children.has(r)||t.children.set(r,Ll());let i=t.children.get(r);e=ce(e),PC(i,e,n)}}function Qp(t,e,n){t.value!==null?n(e,t.value):J1(t,(r,i)=>{let o=new ne(e.toString()+"/"+r);Qp(i,o,n)})}function J1(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Jp=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ze(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var $b=10*1e3,X1=30*1e3,eF=300*1e3,Xp=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Jp(e);let r=$b+(X1-$b)*Math.random();Ms(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;ze(e,(i,o)=>{o>0&&Wt(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Ms(this.reportStats_.bind(this),Math.floor(Math.random()*2*eF))}};var Yt=(function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t})(Yt||{});function RC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Dg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Tg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var eg=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Yt.ACK_USER_WRITE,this.source=RC()}operationForChild(e){if(H(this.path)){if(this.affectedTree.value!=null)return E(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ne(e));return new t(q(),n,this.revert)}}else return E(j(this.path)===e,"operationForChild called for unrelated child."),new t(ce(this.path),this.affectedTree,this.revert)}};var Vl=class t{constructor(e,n){this.source=e,this.path=n,this.type=Yt.LISTEN_COMPLETE}operationForChild(e){return H(this.path)?new t(this.source,q()):new t(this.source,ce(this.path))}};var no=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Yt.OVERWRITE}operationForChild(e){return H(this.path)?new t(this.source,q(),this.snap.getImmediateChild(e)):new t(this.source,ce(this.path),this.snap)}};var jl=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Yt.MERGE}operationForChild(e){if(H(this.path)){let n=this.children.subtree(new ne(e));return n.isEmpty()?null:n.value?new no(this.source,q(),n.value):new t(this.source,q(),n)}else return E(j(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Kt=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(H(e))return this.isFullyInitialized()&&!this.filtered_;let n=j(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var tg=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function tF(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Z1(s.childName,s.snapshotNode))}),Ns(t,i,"child_removed",e,r,n),Ns(t,i,"child_added",e,r,n),Ns(t,i,"child_moved",o,r,n),Ns(t,i,"child_changed",e,r,n),Ns(t,i,"value",e,r,n),i}function Ns(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,l)=>rF(t,a,l)),s.forEach(a=>{let l=nF(t,a,o);i.forEach(d=>{d.respondsTo(a.type)&&e.push(d.createEvent(l,t.query_))})})}function nF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function rF(t,e,n){if(e.childName==null||n.childName==null)throw Dr("Should only compare child_ events.");let r=new B(e.childName,e.snapshotNode),i=new B(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Xl(t,e){return{eventCache:t,serverCache:e}}function Ps(t,e,n,r){return Xl(new Kt(e,n,r),t.serverCache)}function OC(t,e,n,r){return Xl(t.eventCache,new Kt(e,n,r))}function Bl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ur(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Cp,iF=()=>(Cp||(Cp=new ht(o1)),Cp),Ge=class t{static fromObject(e){let n=new t(null);return ze(e,(r,i)=>{n=n.set(new ne(r),i)}),n}constructor(e,n=iF()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:q(),value:this.value};if(H(e))return null;{let r=j(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ce(e),n);return o!=null?{path:be(new ne(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(H(e))return this;{let n=j(e),r=this.children.get(n);return r!==null?r.subtree(ce(e)):new t(null)}}set(e,n){if(H(e))return new t(n,this.children);{let r=j(e),o=(this.children.get(r)||new t(null)).set(ce(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(H(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=j(e),r=this.children.get(n);if(r){let i=r.remove(ce(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(H(e))return this.value;{let n=j(e),r=this.children.get(n);return r?r.get(ce(e)):null}}setTree(e,n){if(H(e))return n;{let r=j(e),o=(this.children.get(r)||new t(null)).setTree(ce(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(q(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(be(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,q(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(H(e))return null;{let o=j(e),s=this.children.get(o);return s?s.findOnPath_(ce(e),be(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,q(),n)}foreachOnPath_(e,n,r){if(H(e))return this;{this.value&&r(n,this.value);let i=j(e),o=this.children.get(i);return o?o.foreachOnPath_(ce(e),be(n,i),r):new t(null)}}foreach(e){this.foreach_(q(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(be(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var xt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Ge(null))}};function Rs(t,e,n){if(H(e))return new xt(new Ge(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Le(i,e);return o=o.updateChild(s,n),new xt(t.writeTree_.set(i,o))}else{let i=new Ge(n),o=t.writeTree_.setTree(e,i);return new xt(o)}}}function Wb(t,e,n){let r=t;return ze(n,(i,o)=>{r=Rs(r,be(e,i),o)}),r}function zb(t,e){if(H(e))return xt.empty();{let n=t.writeTree_.setTree(e,new Ge(null));return new xt(n)}}function ng(t,e){return $r(t,e)!=null}function $r(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Le(n.path,e)):null}function Gb(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(de,(r,i)=>{e.push(new B(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new B(r,i.value))}),e}function Pn(t,e){if(H(e))return t;{let n=$r(t,e);return n!=null?new xt(new Ge(n)):new xt(t.writeTree_.subtree(e))}}function rg(t){return t.writeTree_.isEmpty()}function ro(t,e){return FC(q(),t.writeTree_,e)}function FC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(E(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=FC(be(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(be(t,".priority"),r)),n}}function eu(t,e){return BC(e,t)}function oF(t,e,n,r,i){E(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Rs(t.visibleWrites,e,n)),t.lastWriteId=r}function sF(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function aF(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);E(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&cF(a,r.path)?i=!1:At(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return lF(t),!0;if(r.snap)t.visibleWrites=zb(t.visibleWrites,r.path);else{let a=r.children;ze(a,l=>{t.visibleWrites=zb(t.visibleWrites,be(r.path,l))})}return!0}else return!1}function cF(t,e){if(t.snap)return At(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&At(be(t.path,n),e))return!0;return!1}function lF(t){t.visibleWrites=LC(t.allWrites,uF,q()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function uF(t){return t.visible}function LC(t,e,n){let r=xt.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)At(n,s)?(a=Le(n,s),r=Rs(r,a,o.snap)):At(s,n)&&(a=Le(s,n),r=Rs(r,q(),o.snap.getChild(a)));else if(o.children){if(At(n,s))a=Le(n,s),r=Wb(r,a,o.children);else if(At(s,n))if(a=Le(s,n),H(a))r=Wb(r,q(),o.children);else{let l=Sr(o.children,j(a));if(l){let d=l.getChild(ce(a));r=Rs(r,q(),d)}}}else throw Dr("WriteRecord should have .snap or .children")}}return r}function VC(t,e,n,r,i){if(!r&&!i){let o=$r(t.visibleWrites,e);if(o!=null)return o;{let s=Pn(t.visibleWrites,e);if(rg(s))return n;if(n==null&&!ng(s,q()))return null;{let a=n||O.EMPTY_NODE;return ro(s,a)}}}else{let o=Pn(t.visibleWrites,e);if(!i&&rg(o))return n;if(!i&&n==null&&!ng(o,q()))return null;{let s=function(d){return(d.visible||i)&&(!r||!~r.indexOf(d.writeId))&&(At(d.path,e)||At(e,d.path))},a=LC(t.allWrites,s,e),l=n||O.EMPTY_NODE;return ro(a,l)}}}function dF(t,e,n){let r=O.EMPTY_NODE,i=$r(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(de,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Pn(t.visibleWrites,e);return n.forEachChild(de,(s,a)=>{let l=ro(Pn(o,new ne(s)),a);r=r.updateImmediateChild(s,l)}),Gb(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Pn(t.visibleWrites,e);return Gb(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function fF(t,e,n,r,i){E(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=be(e,n);if(ng(t.visibleWrites,o))return null;{let s=Pn(t.visibleWrites,o);return rg(s)?i.getChild(n):ro(s,i.getChild(n))}}function hF(t,e,n,r){let i=be(e,n),o=$r(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Pn(t.visibleWrites,i);return ro(s,r.getNode().getImmediateChild(n))}else return null}function pF(t,e){return $r(t.visibleWrites,e)}function gF(t,e,n,r,i,o,s){let a,l=Pn(t.visibleWrites,e),d=$r(l,q());if(d!=null)a=d;else if(n!=null)a=ro(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let p=[],h=s.getCompare(),m=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),y=m.getNext();for(;y&&p.length<i;)h(y,r)!==0&&p.push(y),y=m.getNext();return p}else return[]}function mF(){return{visibleWrites:xt.empty(),allWrites:[],lastWriteId:-1}}function Hl(t,e,n,r){return VC(t.writeTree,t.treePath,e,n,r)}function Sg(t,e){return dF(t.writeTree,t.treePath,e)}function qb(t,e,n,r){return fF(t.writeTree,t.treePath,e,n,r)}function Ul(t,e){return pF(t.writeTree,be(t.treePath,e))}function yF(t,e,n,r,i,o){return gF(t.writeTree,t.treePath,e,n,r,i,o)}function Ag(t,e,n){return hF(t.writeTree,t.treePath,e,n)}function jC(t,e){return BC(be(t.treePath,e),t.writeTree)}function BC(t,e){return{treePath:t,writeTree:e}}var ig=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;E(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),E(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Ls(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Fs(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,to(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Ls(r,e.snapshotNode,i.oldSnap));else throw Dr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var og=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},HC=new og,js=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Kt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ag(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ur(this.viewCache_),o=yF(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function vF(t){return{filter:t}}function _F(t,e){E(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),E(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function wF(t,e,n,r,i){let o=new ig,s,a;if(n.type===Yt.OVERWRITE){let d=n;d.source.fromUser?s=sg(t,e,d.path,d.snap,r,i,o):(E(d.source.fromServer,"Unknown source."),a=d.source.tagged||e.serverCache.isFiltered()&&!H(d.path),s=$l(t,e,d.path,d.snap,r,i,a,o))}else if(n.type===Yt.MERGE){let d=n;d.source.fromUser?s=bF(t,e,d.path,d.children,r,i,o):(E(d.source.fromServer,"Unknown source."),a=d.source.tagged||e.serverCache.isFiltered(),s=ag(t,e,d.path,d.children,r,i,a,o))}else if(n.type===Yt.ACK_USER_WRITE){let d=n;d.revert?s=DF(t,e,d.path,r,i,o):s=CF(t,e,d.path,d.affectedTree,r,i,o)}else if(n.type===Yt.LISTEN_COMPLETE)s=IF(t,e,n.path,r,o);else throw Dr("Unknown operation type: "+n.type);let l=o.getChanges();return EF(e,s,l),{viewCache:s,changes:l}}function EF(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Bl(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(kC(Bl(e)))}}function UC(t,e,n,r,i,o){let s=e.eventCache;if(Ul(r,n)!=null)return e;{let a,l;if(H(n))if(E(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let d=Ur(e),p=d instanceof O?d:O.EMPTY_NODE,h=Sg(r,p);a=t.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{let d=Hl(r,Ur(e));a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let d=j(n);if(d===".priority"){E(On(n)===1,"Can't have a priority with additional path components");let p=s.getNode();l=e.serverCache.getNode();let h=qb(r,n,p,l);h!=null?a=t.filter.updatePriority(p,h):a=s.getNode()}else{let p=ce(n),h;if(s.isCompleteForChild(d)){l=e.serverCache.getNode();let m=qb(r,n,s.getNode(),l);m!=null?h=s.getNode().getImmediateChild(d).updateChild(p,m):h=s.getNode().getImmediateChild(d)}else h=Ag(r,d,e.serverCache);h!=null?a=t.filter.updateChild(s.getNode(),d,h,p,i,o):a=s.getNode()}}return Ps(e,a,s.isFullyInitialized()||H(n),t.filter.filtersNodes())}}function $l(t,e,n,r,i,o,s,a){let l=e.serverCache,d,p=s?t.filter:t.filter.getIndexedFilter();if(H(n))d=p.updateFullNode(l.getNode(),r,null);else if(p.filtersNodes()&&!l.isFiltered()){let y=l.getNode().updateChild(n,r);d=p.updateFullNode(l.getNode(),y,null)}else{let y=j(n);if(!l.isCompleteForPath(n)&&On(n)>1)return e;let _=ce(n),I=l.getNode().getImmediateChild(y).updateChild(_,r);y===".priority"?d=p.updatePriority(l.getNode(),I):d=p.updateChild(l.getNode(),y,I,_,HC,null)}let h=OC(e,d,l.isFullyInitialized()||H(n),p.filtersNodes()),m=new js(i,h,o);return UC(t,h,n,i,m,a)}function sg(t,e,n,r,i,o,s){let a=e.eventCache,l,d,p=new js(i,e,o);if(H(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Ps(e,d,!0,t.filter.filtersNodes());else{let h=j(n);if(h===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),l=Ps(e,d,a.isFullyInitialized(),a.isFiltered());else{let m=ce(n),y=a.getNode().getImmediateChild(h),_;if(H(m))_=r;else{let C=p.getCompleteChild(h);C!=null?IC(m)===".priority"&&C.getChild(TC(m)).isEmpty()?_=C:_=C.updateChild(m,r):_=O.EMPTY_NODE}if(y.equals(_))l=e;else{let C=t.filter.updateChild(a.getNode(),h,_,m,p,s);l=Ps(e,C,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Yb(t,e){return t.eventCache.isCompleteForChild(e)}function bF(t,e,n,r,i,o,s){let a=e;return r.foreach((l,d)=>{let p=be(n,l);Yb(e,j(p))&&(a=sg(t,a,p,d,i,o,s))}),r.foreach((l,d)=>{let p=be(n,l);Yb(e,j(p))||(a=sg(t,a,p,d,i,o,s))}),a}function Kb(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ag(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,d;H(n)?d=r:d=new Ge(null).setTree(n,r);let p=e.serverCache.getNode();return d.children.inorderTraversal((h,m)=>{if(p.hasChild(h)){let y=e.serverCache.getNode().getImmediateChild(h),_=Kb(t,y,m);l=$l(t,l,new ne(h),_,i,o,s,a)}}),d.children.inorderTraversal((h,m)=>{let y=!e.serverCache.isCompleteForChild(h)&&m.value===null;if(!p.hasChild(h)&&!y){let _=e.serverCache.getNode().getImmediateChild(h),C=Kb(t,_,m);l=$l(t,l,new ne(h),C,i,o,s,a)}}),l}function CF(t,e,n,r,i,o,s){if(Ul(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(H(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return $l(t,e,n,l.getNode().getChild(n),i,o,a,s);if(H(n)){let d=new Ge(null);return l.getNode().forEachChild(Zi,(p,h)=>{d=d.set(new ne(p),h)}),ag(t,e,n,d,i,o,a,s)}else return e}else{let d=new Ge(null);return r.foreach((p,h)=>{let m=be(n,p);l.isCompleteForPath(m)&&(d=d.set(p,l.getNode().getChild(m)))}),ag(t,e,n,d,i,o,a,s)}}function IF(t,e,n,r,i){let o=e.serverCache,s=OC(e,o.getNode(),o.isFullyInitialized()||H(n),o.isFiltered());return UC(t,s,n,r,HC,i)}function DF(t,e,n,r,i,o){let s;if(Ul(r,n)!=null)return e;{let a=new js(r,e,i),l=e.eventCache.getNode(),d;if(H(n)||j(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=Hl(r,Ur(e));else{let h=e.serverCache.getNode();E(h instanceof O,"serverChildren would be complete if leaf node"),p=Sg(r,h)}p=p,d=t.filter.updateFullNode(l,p,o)}else{let p=j(n),h=Ag(r,p,e.serverCache);h==null&&e.serverCache.isCompleteForChild(p)&&(h=l.getImmediateChild(p)),h!=null?d=t.filter.updateChild(l,p,h,ce(n),a,o):e.eventCache.getNode().hasChild(p)?d=t.filter.updateChild(l,p,O.EMPTY_NODE,ce(n),a,o):d=l,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Hl(r,Ur(e)),s.isLeafNode()&&(d=t.filter.updateFullNode(d,s,o)))}return s=e.serverCache.isFullyInitialized()||Ul(r,q())!=null,Ps(e,d,s,t.filter.filtersNodes())}}var cg=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Vs(r.getIndex()),o=Q1(r);this.processor_=vF(o);let s=n.serverCache,a=n.eventCache,l=i.updateFullNode(O.EMPTY_NODE,s.getNode(),null),d=o.updateFullNode(O.EMPTY_NODE,a.getNode(),null),p=new Kt(l,s.isFullyInitialized(),i.filtersNodes()),h=new Kt(d,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Xl(h,p),this.eventGenerator_=new tg(this.query_)}get query(){return this.query_}};function TF(t){return t.viewCache_.serverCache.getNode()}function SF(t){return Bl(t.viewCache_)}function AF(t,e){let n=Ur(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!H(e)&&!n.getImmediateChild(j(e)).isEmpty())?n.getChild(e):null}function Zb(t){return t.eventRegistrations_.length===0}function xF(t,e){t.eventRegistrations_.push(e)}function Qb(t,e,n){let r=[];if(n){E(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Jb(t,e,n,r){e.type===Yt.MERGE&&e.source.queryId!==null&&(E(Ur(t.viewCache_),"We should always have a full cache before handling merges"),E(Bl(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=wF(t.processor_,i,e,n,r);return _F(t.processor_,o.viewCache),E(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,$C(t,o.changes,o.viewCache.eventCache.getNode(),null)}function NF(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(de,(o,s)=>{r.push(to(o,s))}),n.isFullyInitialized()&&r.push(kC(n.getNode())),$C(t,r,n.getNode(),e)}function $C(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return tF(t.eventGenerator_,e,n,i)}var Wl,zl=class{constructor(){this.views=new Map}};function MF(t){E(!Wl,"__referenceConstructor has already been defined"),Wl=t}function kF(){return E(Wl,"Reference.ts has not been loaded"),Wl}function PF(t){return t.views.size===0}function xg(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return E(o!=null,"SyncTree gave us an op for an invalid query."),Jb(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(Jb(s,e,n,r));return o}}function WC(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Hl(n,i?r:null),l=!1;a?l=!0:r instanceof O?(a=Sg(n,r),l=!1):(a=O.EMPTY_NODE,l=!1);let d=Xl(new Kt(a,l,!1),new Kt(r,i,!1));return new cg(e,d)}return s}function RF(t,e,n,r,i,o){let s=WC(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),xF(s,n),NF(s,n)}function OF(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=Fn(t);if(i==="default")for(let[l,d]of t.views.entries())s=s.concat(Qb(d,n,r)),Zb(d)&&(t.views.delete(l),d.query._queryParams.loadsAllData()||o.push(d.query));else{let l=t.views.get(i);l&&(s=s.concat(Qb(l,n,r)),Zb(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Fn(t)&&o.push(new(kF())(e._repo,e._path)),{removed:o,events:s}}function zC(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Rn(t,e){let n=null;for(let r of t.views.values())n=n||AF(r,e);return n}function GC(t,e){if(e._queryParams.loadsAllData())return tu(t);{let r=e._queryIdentifier;return t.views.get(r)}}function qC(t,e){return GC(t,e)!=null}function Fn(t){return tu(t)!=null}function tu(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Gl;function FF(t){E(!Gl,"__referenceConstructor has already been defined"),Gl=t}function LF(){return E(Gl,"Reference.ts has not been loaded"),Gl}var VF=1,ql=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ge(null),this.pendingWriteTree_=mF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function YC(t,e,n,r,i){return oF(t.pendingWriteTree_,e,n,r,i),i?Ys(t,new no(RC(),e,n)):[]}function jr(t,e,n=!1){let r=sF(t.pendingWriteTree_,e);if(aF(t.pendingWriteTree_,e)){let o=new Ge(null);return r.snap!=null?o=o.set(q(),!0):ze(r.children,s=>{o=o.set(new ne(s),!0)}),Ys(t,new eg(r.path,o,n))}else return[]}function qs(t,e,n){return Ys(t,new no(Dg(),e,n))}function jF(t,e,n){let r=Ge.fromObject(n);return Ys(t,new jl(Dg(),e,r))}function BF(t,e){return Ys(t,new Vl(Dg(),e))}function HF(t,e,n){let r=Mg(t,n);if(r){let i=kg(r),o=i.path,s=i.queryId,a=Le(o,e),l=new Vl(Tg(s),a);return Pg(t,o,l)}else return[]}function Yl(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||qC(s,e))){let l=OF(s,e,n,r);PF(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let d=l.removed;if(a=l.events,!i){let p=d.findIndex(m=>m._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(o,(m,y)=>Fn(y));if(p&&!h){let m=t.syncPointTree_.subtree(o);if(!m.isEmpty()){let y=WF(m);for(let _=0;_<y.length;++_){let C=y[_],I=C.query,T=JC(t,C);t.listenProvider_.startListening(Os(I),Bs(t,I),T.hashFn,T.onComplete)}}}!h&&d.length>0&&!r&&(p?t.listenProvider_.stopListening(Os(e),null):d.forEach(m=>{let y=t.queryToTagMap.get(nu(m));t.listenProvider_.stopListening(Os(m),y)}))}zF(t,d)}return a}function KC(t,e,n,r){let i=Mg(t,r);if(i!=null){let o=kg(i),s=o.path,a=o.queryId,l=Le(s,e),d=new no(Tg(a),l,n);return Pg(t,s,d)}else return[]}function UF(t,e,n,r){let i=Mg(t,r);if(i){let o=kg(i),s=o.path,a=o.queryId,l=Le(s,e),d=Ge.fromObject(n),p=new jl(Tg(a),l,d);return Pg(t,s,p)}else return[]}function lg(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(m,y)=>{let _=Le(m,i);o=o||Rn(y,_),s=s||Fn(y)});let a=t.syncPointTree_.get(i);a?(s=s||Fn(a),o=o||Rn(a,q())):(a=new zl,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=O.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((y,_)=>{let C=Rn(_,q());C&&(o=o.updateImmediateChild(y,C))}));let d=qC(a,e);if(!d&&!e._queryParams.loadsAllData()){let m=nu(e);E(!t.queryToTagMap.has(m),"View does not exist, but we have a tag");let y=GF();t.queryToTagMap.set(m,y),t.tagToQueryMap.set(y,m)}let p=eu(t.pendingWriteTree_,i),h=RF(a,e,n,p,o,l);if(!d&&!s&&!r){let m=GC(a,e);h=h.concat(qF(t,e,m))}return h}function Ng(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let l=Le(s,e),d=Rn(a,l);if(d)return d});return VC(i,e,o,n,!0)}function $F(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(d,p)=>{let h=Le(d,n);r=r||Rn(p,h)});let i=t.syncPointTree_.get(n);i?r=r||Rn(i,q()):(i=new zl,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new Kt(r,!0,!1):null,a=eu(t.pendingWriteTree_,e._path),l=WC(i,e,a,o?s.getNode():O.EMPTY_NODE,o);return SF(l)}function Ys(t,e){return ZC(e,t.syncPointTree_,null,eu(t.pendingWriteTree_,q()))}function ZC(t,e,n,r){if(H(t.path))return QC(t,e,n,r);{let i=e.get(q());n==null&&i!=null&&(n=Rn(i,q()));let o=[],s=j(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){let d=n?n.getImmediateChild(s):null,p=jC(r,s);o=o.concat(ZC(a,l,d,p))}return i&&(o=o.concat(xg(i,t,r,n))),o}}function QC(t,e,n,r){let i=e.get(q());n==null&&i!=null&&(n=Rn(i,q()));let o=[];return e.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,d=jC(r,s),p=t.operationForChild(s);p&&(o=o.concat(QC(p,a,l,d)))}),i&&(o=o.concat(xg(i,t,r,n))),o}function JC(t,e){let n=e.query,r=Bs(t,n);return{hashFn:()=>(TF(e)||O.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?HF(t,n._path,r):BF(t,n._path);{let o=c1(i,n);return Yl(t,n,null,o)}}}}function Bs(t,e){let n=nu(e);return t.queryToTagMap.get(n)}function nu(t){return t._path.toString()+"$"+t._queryIdentifier}function Mg(t,e){return t.tagToQueryMap.get(e)}function kg(t){let e=t.indexOf("$");return E(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ne(t.substr(0,e))}}function Pg(t,e,n){let r=t.syncPointTree_.get(e);E(r,"Missing sync point for query tag that we're tracking");let i=eu(t.pendingWriteTree_,e);return xg(r,n,i,null)}function WF(t){return t.fold((e,n,r)=>{if(n&&Fn(n))return[tu(n)];{let i=[];return n&&(i=zC(n)),ze(r,(o,s)=>{i=i.concat(s)}),i}})}function Os(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(LF())(t._repo,t._path):t}function zF(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=nu(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function GF(){return VF++}function qF(t,e,n){let r=e._path,i=Bs(t,e),o=JC(t,n),s=t.listenProvider_.startListening(Os(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)E(!Fn(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((d,p,h)=>{if(!H(d)&&p&&Fn(p))return[tu(p).query];{let m=[];return p&&(m=m.concat(zC(p).map(y=>y.query))),ze(h,(y,_)=>{m=m.concat(_)}),m}});for(let d=0;d<l.length;++d){let p=l[d];t.listenProvider_.stopListening(Os(p),Bs(t,p))}}return s}var ug=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},dg=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=be(this.path_,e);return new t(this.syncTree_,n)}node(){return Ng(this.syncTree_,this.path_)}},YF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Xb=function(t,e,n){if(!t||typeof t!="object")return t;if(E(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return KF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return ZF(t[".sv"],e);E(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},KF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:E(!1,"Unexpected server value: "+t)}},ZF=function(t,e,n){t.hasOwnProperty("increment")||E(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&E(!1,"Unexpected increment value: "+r);let i=e.node();if(E(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},QF=function(t,e,n,r){return Rg(e,new dg(n,t),r)},XC=function(t,e,n){return Rg(t,new ug(e),n)};function Rg(t,e,n){let r=t.getPriority().val(),i=Xb(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=Xb(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Xi(a,Ie(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Xi(i))),s.forEachChild(de,(a,l)=>{let d=Rg(l,e.getImmediateChild(a),n);d!==l&&(o=o.updateImmediateChild(a,d))}),o}}var Hs=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Og(t,e){let n=e instanceof ne?e:new ne(e),r=t,i=j(n);for(;i!==null;){let o=Sr(r.node.children,i)||{children:{},childCount:0};r=new Hs(i,r,o),n=ce(n),i=j(n)}return r}function so(t){return t.node.value}function eI(t,e){t.node.value=e,fg(t)}function tI(t){return t.node.childCount>0}function JF(t){return so(t)===void 0&&!tI(t)}function ru(t,e){ze(t.node.children,(n,r)=>{e(new Hs(n,t,r))})}function nI(t,e,n,r){n&&!r&&e(t),ru(t,i=>{nI(i,e,!0,r)}),n&&r&&e(t)}function XF(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ks(t){return new ne(t.parent===null?t.name:Ks(t.parent)+"/"+t.name)}function fg(t){t.parent!==null&&eL(t.parent,t.name,t)}function eL(t,e,n){let r=JF(n),i=Wt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,fg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,fg(t))}var tL=/[\[\].#$\/\u0000-\u001F\u007F]/,nL=/[\[\].#$\u0000-\u001F\u007F]/,Ip=10*1024*1024,rI=function(t){return typeof t=="string"&&t.length!==0&&!tL.test(t)},iI=function(t){return typeof t=="string"&&t.length!==0&&!nL.test(t)},rL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),iI(t)};var iL=function(t,e,n,r){r&&e===void 0||Fg(sl(t,"value"),e,n)},Fg=function(t,e,n){let r=n instanceof ne?new Vp(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Lr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Lr(r)+" with contents = "+e.toString());if(sC(e))throw new Error(t+"contains "+e.toString()+" "+Lr(r));if(typeof e=="string"&&e.length>Ip/3&&gs(e)>Ip)throw new Error(t+"contains a string greater than "+Ip+" utf8 bytes "+Lr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(ze(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!rI(s)))throw new Error(t+" contains an invalid key ("+s+") "+Lr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);L1(r,s),Fg(t,a,r),V1(r)}),i&&o)throw new Error(t+' contains ".value" child '+Lr(r)+" in addition to actual children.")}};var oI=function(t,e,n,r){if(!(r&&n===void 0)&&!iI(n))throw new Error(sl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},oL=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),oI(t,e,n,r)},sL=function(t,e){if(j(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},aL=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!rI(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!rL(n))throw new Error(sl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var hg=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Lg(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!bg(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function sI(t,e,n){Lg(t,n),aI(t,r=>bg(r,e))}function Zt(t,e,n){Lg(t,n),aI(t,r=>At(r,e)||At(e,r))}function aI(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(cL(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function cL(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Br&&ke("event: "+n.toString()),oo(r)}}}var lL="repo_interrupt",uL=25,pg=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ll(),this.transactionQueueTree_=new Hs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function dL(t,e,n){if(t.stats_=Eg(t.repoInfo_),t.forceRestClient_||f1())t.server_=new Kp(t.repoInfo_,(r,i,o,s)=>{eC(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>tC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_e(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Cg(t.repoInfo_,e,(r,i,o,s)=>{eC(t,r,i,o,s)},r=>{tC(t,r)},r=>{hL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=p1(t.repoInfo_,()=>new Xp(t.stats_,t.server_)),t.infoData_=new Zp,t.infoSyncTree_=new ql({startListening:(r,i,o,s)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=qs(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),jg(t,"connected",!1),t.serverSyncTree_=new ql({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{let d=s(a,l);Zt(t.eventQueue_,r._path,d)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function fL(t){let n=t.infoData_.getNode(new ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Vg(t){return YF({timestamp:fL(t)})}function eC(t,e,n,r,i){t.dataUpdateCount++;let o=new ne(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let l=hs(n,d=>Ie(d));s=UF(t.serverSyncTree_,o,l,i)}else{let l=Ie(n);s=KC(t.serverSyncTree_,o,l,i)}else if(r){let l=hs(n,d=>Ie(d));s=jF(t.serverSyncTree_,o,l)}else{let l=Ie(n);s=qs(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=ou(t,o)),Zt(t.eventQueue_,a,s)}function tC(t,e){jg(t,"connected",e),e===!1&&mL(t)}function hL(t,e){ze(e,(n,r)=>{jg(t,n,r)})}function jg(t,e,n){let r=new ne("/.info/"+e),i=Ie(n);t.infoData_.updateSnapshot(r,i);let o=qs(t.infoSyncTree_,r,i);Zt(t.eventQueue_,r,o)}function cI(t){return t.nextWriteId_++}function pL(t,e,n){let r=$F(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=Ie(i).withIndex(e._queryParams.getIndex());lg(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=qs(t.serverSyncTree_,e._path,o);else{let a=Bs(t.serverSyncTree_,e);s=KC(t.serverSyncTree_,e._path,o,a)}return Zt(t.eventQueue_,e._path,s),Yl(t.serverSyncTree_,e,n,null,!0),o},i=>(iu(t,"get for query "+_e(e)+" failed: "+i),Promise.reject(new Error(i))))}function gL(t,e,n,r,i){iu(t,"set",{path:e.toString(),value:n,priority:r});let o=Vg(t),s=Ie(n,r),a=Ng(t.serverSyncTree_,e),l=XC(s,a,o),d=cI(t),p=YC(t.serverSyncTree_,e,l,d,!0);Lg(t.eventQueue_,p),t.server_.put(e.toString(),s.val(!0),(m,y)=>{let _=m==="ok";_||We("set at "+e+" failed: "+m);let C=jr(t.serverSyncTree_,d,!_);Zt(t.eventQueue_,e,C),_L(t,i,m,y)});let h=hI(t,e);ou(t,h),Zt(t.eventQueue_,h,[])}function mL(t){iu(t,"onDisconnectEvents");let e=Vg(t),n=Ll();Qp(t.onDisconnect_,q(),(i,o)=>{let s=QF(i,o,t.serverSyncTree_,e);PC(n,i,s)});let r=[];Qp(n,q(),(i,o)=>{r=r.concat(qs(t.serverSyncTree_,i,o));let s=hI(t,i);ou(t,s)}),t.onDisconnect_=Ll(),Zt(t.eventQueue_,q(),r)}function yL(t,e,n){let r;j(e._path)===".info"?r=lg(t.infoSyncTree_,e,n):r=lg(t.serverSyncTree_,e,n),sI(t.eventQueue_,e._path,r)}function nC(t,e,n){let r;j(e._path)===".info"?r=Yl(t.infoSyncTree_,e,n):r=Yl(t.serverSyncTree_,e,n),sI(t.eventQueue_,e._path,r)}function vL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(lL)}function iu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ke(n,...e)}function _L(t,e,n,r){e&&oo(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function lI(t,e,n){return Ng(t.serverSyncTree_,e,n)||O.EMPTY_NODE}function Bg(t,e=t.transactionQueueTree_){if(e||su(t,e),so(e)){let n=dI(t,e);E(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&wL(t,Ks(e),n)}else tI(e)&&ru(e,n=>{Bg(t,n)})}function wL(t,e,n){let r=n.map(d=>d.currentWriteId),i=lI(t,e,r),o=i,s=i.hash();for(let d=0;d<n.length;d++){let p=n[d];E(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;let h=Le(e,p.path);o=o.updateChild(h,p.currentOutputSnapshotRaw)}let a=o.val(!0),l=e;t.server_.put(l.toString(),a,d=>{iu(t,"transaction put response",{path:l.toString(),status:d});let p=[];if(d==="ok"){let h=[];for(let m=0;m<n.length;m++)n[m].status=2,p=p.concat(jr(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&h.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();su(t,Og(t.transactionQueueTree_,e)),Bg(t,t.transactionQueueTree_),Zt(t.eventQueue_,e,p);for(let m=0;m<h.length;m++)oo(h[m])}else{if(d==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{We("transaction at "+l.toString()+" failed: "+d);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=d}ou(t,e)}},s)}function ou(t,e){let n=uI(t,e),r=Ks(n),i=dI(t,n);return EL(t,i,r),r}function EL(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],d=Le(n,l.path),p=!1,h;if(E(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)p=!0,h=l.abortReason,i=i.concat(jr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=uL)p=!0,h="maxretry",i=i.concat(jr(t.serverSyncTree_,l.currentWriteId,!0));else{let m=lI(t,l.path,s);l.currentInputSnapshot=m;let y=e[a].update(m.val());if(y!==void 0){Fg("transaction failed: Data returned ",y,l.path);let _=Ie(y);typeof y=="object"&&y!=null&&Wt(y,".priority")||(_=_.updatePriority(m.getPriority()));let I=l.currentWriteId,T=Vg(t),Pe=XC(_,m,T);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=Pe,l.currentWriteId=cI(t),s.splice(s.indexOf(I),1),i=i.concat(YC(t.serverSyncTree_,l.path,Pe,l.currentWriteId,l.applyLocally)),i=i.concat(jr(t.serverSyncTree_,I,!0))}else p=!0,h="nodata",i=i.concat(jr(t.serverSyncTree_,l.currentWriteId,!0))}Zt(t.eventQueue_,n,i),i=[],p&&(e[a].status=2,(function(m){setTimeout(m,Math.floor(0))})(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}su(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)oo(r[a]);Bg(t,t.transactionQueueTree_)}function uI(t,e){let n,r=t.transactionQueueTree_;for(n=j(e);n!==null&&so(r)===void 0;)r=Og(r,n),e=ce(e),n=j(e);return r}function dI(t,e){let n=[];return fI(t,e,n),n.sort((r,i)=>r.order-i.order),n}function fI(t,e,n){let r=so(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ru(e,i=>{fI(t,i,n)})}function su(t,e){let n=so(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,eI(e,n.length>0?n:void 0)}ru(e,r=>{su(t,r)})}function hI(t,e){let n=Ks(uI(t,e)),r=Og(t.transactionQueueTree_,e);return XF(r,i=>{Dp(t,i)}),Dp(t,r),nI(r,i=>{Dp(t,i)}),n}function Dp(t,e){let n=so(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(E(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(E(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(jr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?eI(e,void 0):n.length=o+1,Zt(t.eventQueue_,Ks(e),i);for(let s=0;s<r.length;s++)oo(r[s])}}function bL(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function CL(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):We(`Invalid query segment '${n}' in query '${t}'`)}return e}var rC=function(t,e){let n=IL(t),r=n.namespace;n.domain==="firebase.com"&&dn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&dn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||r1();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new xl(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ne(n.pathString)}},IL=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(a=t.substring(0,d-1),t=t.substring(d+2));let p=t.indexOf("/");p===-1&&(p=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(p,h)),p<h&&(i=bL(t.substring(p,h)));let m=CL(t.substring(Math.min(t.length,h)));d=e.indexOf(":"),d>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(d+1),10)):d=e.length;let y=e.slice(0,d);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{let _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),o=r}"ns"in m&&(o=m.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var Kl=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+_e(this.snapshot.exportVal())}},Zl=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Ql=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return E(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var gg=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return H(this._path)?null:IC(this._path)}get ref(){return new Qt(this._repo,this._path)}get _queryIdentifier(){let e=Ub(this._queryParams),n=wg(e);return n==="{}"?"default":n}get _queryObject(){return Ub(this._queryParams)}isEqual(e){if(e=rt(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=bg(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+F1(this._path)}};var Qt=class t extends gg{constructor(e,n){super(e,n,new Yp,!1)}get parent(){let e=TC(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Us=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new ne(e),r=$s(this.ref,e);return new t(this._node.getChild(n),r,de)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,$s(this.ref,r),de)))}hasChild(e){let n=new ne(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function pI(t,e){return t=rt(t),t._checkNotDeleted("ref"),e!==void 0?$s(t._root,e):t._root}function $s(t,e){return t=rt(t),j(t._path)===null?oL("child","path",e,!1):oI("child","path",e,!1),new Qt(t._repo,be(t._path,e))}function gI(t,e){t=rt(t),sL("set",t._path),iL("set",e,t._path,!1);let n=new bt;return gL(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function mI(t){t=rt(t);let e=new Ql(()=>{}),n=new Jl(e);return pL(t._repo,t,n).then(r=>new Us(r,new Qt(t._repo,t._path),t._queryParams.getIndex()))}var Jl=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new Kl("value",this,new Us(e.snapshotNode,new Qt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Zl(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},mg=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Zl(this,e,n):null}createEvent(e,n){E(e.childName!=null,"Child events should have a childName.");let r=$s(new Qt(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Kl(e.type,this,new Us(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function DL(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let l=n,d=(p,h)=>{nC(t._repo,t,a),l(p,h)};d.userCallback=n.userCallback,d.context=n.context,n=d}let s=new Ql(n,o||void 0),a=e==="value"?new Jl(s):new mg(e,s);return yL(t._repo,t,a),()=>nC(t._repo,t,a)}function yI(t,e,n,r){return DL(t,"value",e,n,r)}MF(Qt);FF(Qt);var TL="FIREBASE_DATABASE_EMULATOR_HOST",yg={},SL=!1;function AL(t,e,n,r){let i=e.lastIndexOf(":"),o=e.substring(0,i),s=Tr(o);t.repoInfo_=new xl(e,s,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function xL(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||dn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ke("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=rC(o,i),a=s.repoInfo,l,d;typeof process<"u"&&process.env&&(d=process.env[TL]),d?(l=!0,o=`http://${d}?ns=${a.namespace}`,s=rC(o,i),a=s.repoInfo):l=!s.repoInfo.secure;let p=i&&l?new ks(ks.OWNER):new Mp(t.name,t.options,e);aL("Invalid Firebase Database URL",s),H(s.path)||dn("Database URL must point to the root of a Firebase Database (not including a child path).");let h=ML(a,t,p,new Np(t,n));return new vg(h,t)}function NL(t,e){let n=yg[e];(!n||n[t.key]!==t)&&dn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),vL(t),delete n[t.key]}function ML(t,e,n,r){let i=yg[e.name];i||(i={},yg[e.name]=i);let o=i[t.toURLString()];return o&&dn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new pg(t,SL,n,r),i[t.toURLString()]=o,o}var vg=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qt(this._repo,q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(NL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&dn("Cannot call "+e+" on a deleted database.")}};function vI(t=Wi(),e){let n=ll(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=IE("database");r&&_I(n,...r)}return n}function _I(t,e,n,r={}){t=rt(t),t._checkNotDeleted("useEmulator");let i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Ar(r,o.repoInfo_.emulatorOptions))return;dn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&dn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ks(ks.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:TE(r.mockUserToken,t.app.options.projectId);s=new ks(a)}Tr(e)&&(Fh(e),Lh("Database",!0)),AL(o,i,r,s)}function kL(t){e1($i),Dt(new Fe("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return xL(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),me(Db,Tb,t),me(Db,Tb,"esm2017")}Cg.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Cg.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};kL();var Wr=class{constructor(e){return e}},wI="database",Hg=class{constructor(){return Gi(wI)}};var Ug=new M("angularfire2.database-instances");function PL(t,e){let n=fl(wI,t,e);return n&&new Wr(n)}function RL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Wr(r)}}var OL={provide:Hg,deps:[[new on,Ug]]},FL={provide:Wr,useFactory:PL,deps:[[new on,Ug],Pr]};function EZ(t,...e){return me("angularfire",Mr.full,"rtdb"),ar([FL,OL,{provide:Ug,useFactory:RL(t),multi:!0,deps:[pe,He,kr,_s,[new on,Tl],[new on,pl],...e]}])}var Jt=qt(mI,!0),bZ=qt(vI,!0);var EI=qt(yI,!0);var it=qt(pI,!0,2);var au=qt(gI,!0,2);var cu=class t{constructor(e){this.db=e}suits=["C","O","E","B"];values=["1","2","3","4","5","6","7","S","C","R"];celebrationImages=["assets/a.jpeg","assets/b.jpeg","assets/c.jpeg","assets/d.jpeg","assets/e.jpeg","assets/f.jpeg","assets/g.jpeg","assets/h.jpeg","assets/i.jpeg","assets/j.jpeg","assets/k.jpeg","assets/l.jpeg","assets/m.jpeg","assets/n.jpeg","assets/o.jpeg","assets/p.jpeg","assets/q.jpeg","assets/r.jpeg","assets/s.jpeg","assets/t.jpeg","assets/u.jpeg","assets/w.jpeg","assets/x.jpeg","assets/y.jpeg","assets/z.jpeg","assets/\xF1.jpeg"];getRandomCelebrationImage(){let e=Math.floor(Math.random()*this.celebrationImages.length);return this.celebrationImages[e]}createRoom(e){return w(this,null,function*(){let n=Math.random().toString(36).substring(2,8).toUpperCase(),r=this.generateDeck(),o={players:[{name:e,cards:this.drawCards(r,3),lives:3,sessionWins:0}],deck:r,discardPile:[],turn:e,status:"waiting",gameType:"31"},s=it(this.db,`rooms/${n}`);return yield au(s,o),n})}joinRoom(e,n){return w(this,null,function*(){let r=it(this.db,`rooms/${e}`),i=yield Jt(r);if(!i.exists())return console.error("La sala no existe"),!1;let o=i.val();if(!o||!o.players||!Array.isArray(o.players))return console.error("Datos de la sala inv\xE1lidos:",o),!1;if(o.players.some(l=>l.name===n))return console.error("El jugador ya est\xE1 en la sala"),!1;if(!o.deck||o.deck.length<3)return console.error("No hay suficientes cartas en el deck"),!1;let s=[];for(let l=0;l<3&&o.deck.length>0;l++){let d=Math.floor(Math.random()*o.deck.length);s.push(o.deck.splice(d,1)[0])}let a={name:n,cards:s,lives:3,sessionWins:0};o.players.push(a),o.status="playing",o.discardPile||(o.discardPile=[]),o.deck.length>0&&o.discardPile.push(o.deck.pop());try{return yield au(r,o),!0}catch(l){return console.error("Error al actualizar la sala:",l),!1}})}subscribeToRoom(e){return new R(n=>{let r=it(this.db,`rooms/${e}`),i=EI(r,o=>{o.exists()?n.next(o.val()):n.next(null)},o=>{n.error(o)});return()=>i()})}generateDeck(){let e=[];for(let n of this.suits)for(let r of this.values)e.push(r+n);return e.sort(()=>Math.random()-.5)}drawCards(e,n){let r=[];for(let i=0;i<n&&e.length>0;i++){let o=Math.floor(Math.random()*e.length);r.push(e.splice(o,1)[0])}return r}updateRoom(e,n){return w(this,null,function*(){let r=it(this.db,`rooms/${e}`);yield au(r,n)})}changeTurn(e,n){return w(this,null,function*(){let r=it(this.db,`rooms/${e}`),i=yield Jt(r);if(!i.exists())return n;let o=i.val(),a=(o.players.findIndex(l=>l.name===n)+1)%o.players.length;return o.turn=o.players[a].name,yield this.updateRoom(e,o),o.turn})}drawFromDeck(e,n){return w(this,null,function*(){let r=it(this.db,`rooms/${e}`),i=yield Jt(r);if(!i.exists())return null;let o=i.val();if(!o.deck||o.deck.length===0)return console.error("No hay cartas en el deck"),null;let s=o.deck.pop();return this.trackOpponentAction(o,n,{type:"draw_deck",timestamp:Date.now()}),yield this.updateRoom(e,o),s})}drawFromDiscard(e,n){return w(this,null,function*(){let r=it(this.db,`rooms/${e}`),i=yield Jt(r);if(!i.exists())return null;let o=i.val();if(!o.discardPile||o.discardPile.length===0)return console.error("No hay cartas en el descarte"),null;let s=o.discardPile.pop();return this.trackOpponentAction(o,n,{type:"draw_discard",cardDrawn:s,timestamp:Date.now()}),yield this.updateRoom(e,o),s})}swapCard(e,n,r,i){return w(this,null,function*(){let o=it(this.db,`rooms/${e}`),s=yield Jt(o);if(!s.exists())return!1;let a=s.val(),l=a.players.find(h=>h.name===n);if(!l||!l.cards||r>=l.cards.length)return!1;a.discardPile||(a.discardPile=[]);let d=l.cards[r];if(a.discardPile.push(d),l.cards[r]=i,this.trackOpponentAction(a,n,{type:"swap",cardDiscarded:d,cardSwapped:i,timestamp:Date.now()}),a.status==="round_closing"||!!a.closingPlayer){let h=yield this.finishRoundInternal(a);return yield this.updateRoom(e,a),!0}else{let m=(a.players.findIndex(y=>y.name===n)+1)%a.players.length;return a.turn=a.players[m].name,yield this.updateRoom(e,a),!0}})}discardDrawnCard(e,n,r){return w(this,null,function*(){let i=it(this.db,`rooms/${e}`),o=yield Jt(i);if(!o.exists())return!1;let s=o.val();if(s.discardPile||(s.discardPile=[]),s.discardPile.push(r),this.trackOpponentAction(s,n,{type:"discard",cardDiscarded:r,timestamp:Date.now()}),s.status==="round_closing"||!!s.closingPlayer){let l=yield this.finishRoundInternal(s);return yield this.updateRoom(e,s),!0}else{let d=(s.players.findIndex(p=>p.name===n)+1)%s.players.length;return s.turn=s.players[d].name,yield this.updateRoom(e,s),!0}})}trackOpponentAction(e,n,r){e.opponentActions||(e.opponentActions={}),e.opponentActions[n]||(e.opponentActions[n]=[]),e.opponentActions[n].push(r),e.opponentActions[n].length>5&&(e.opponentActions[n]=e.opponentActions[n].slice(-5))}getLastOpponentAction(e,n){if(!e.opponentActions||!e.opponentActions[n])return null;let r=e.opponentActions[n];return r.length>0?r[r.length-1]:null}getOpponentActions(e,n){return!e.opponentActions||!e.opponentActions[n]?[]:e.opponentActions[n]}plantarse(e,n){return w(this,null,function*(){let r=it(this.db,`rooms/${e}`),i=yield Jt(r);if(!i.exists())return!1;let o=i.val();if(o.status==="round_closing"||o.closingPlayer)return!1;this.trackOpponentAction(o,n,{type:"discard",timestamp:Date.now()});let a=(o.players.findIndex(l=>l.name===n)+1)%o.players.length;return o.turn=o.players[a].name,o.status="round_closing",o.closingPlayer=n,yield this.updateRoom(e,o),!0})}finishRound(e){return w(this,null,function*(){let n=it(this.db,`rooms/${e}`),r=yield Jt(n);if(!r.exists())return null;let i=r.val(),o=this.finishRoundInternal(i);return o&&(yield this.updateRoom(e,i)),o})}finishRoundInternal(e){if(e.players.length!==2)return null;let n=e.players[0],r=e.players[1],i=this.calculatePlayerPoints(n.cards),o=this.calculatePlayerPoints(r.cards),s=this.getRandomCelebrationImage();if(i===o)return e.status="waiting",e.lastWinner="EMPATE",e.lastWinnerPoints=i,e.lastLoserPoints=o,e.celebrationImage=s,delete e.closingPlayer,{winner:"EMPATE",winnerPoints:i,loserPoints:o,isTie:!0};let a,l;return i>o?(a=n,l=r):(a=r,l=n),e.status="waiting",e.lastWinner=a.name,e.lastLoser=l.name,e.lastWinnerPoints=this.calculatePlayerPoints(a.cards),e.lastLoserPoints=this.calculatePlayerPoints(l.cards),e.celebrationImage=s,delete e.closingPlayer,a.sessionWins||(a.sessionWins=0),a.sessionWins++,{winner:a.name,winnerPoints:this.calculatePlayerPoints(a.cards),loserPoints:this.calculatePlayerPoints(l.cards),isTie:!1}}calculatePlayerPoints(e){let n={};for(let i of e){let o=i.charAt(i.length-1),s=i.charAt(0),a;switch(s){case"1":a=11;break;case"S":case"C":case"R":a=10;break;default:a=parseInt(s);break}n[o]||(n[o]=[]),n[o].push(a)}let r=0;for(let i in n){let o=n[i].reduce((s,a)=>s+a,0);o>r&&(r=o)}return r}startNewRound(e){return w(this,null,function*(){let n=it(this.db,`rooms/${e}`),r=yield Jt(n);if(!r.exists())return!1;let i=r.val(),o=this.generateDeck();if(i.players.forEach(s=>{s.cards=this.drawCards(o,3)}),i.discardPile=[this.drawCards(o,1)[0]],i.deck=o,i.status="playing",i.lastLoser)i.turn=i.lastLoser;else{let s=Math.floor(Math.random()*i.players.length);i.turn=i.players[s].name}return delete i.closingPlayer,delete i.lastWinner,delete i.lastLoser,delete i.lastWinnerPoints,delete i.lastLoserPoints,delete i.celebrationImage,delete i.opponentActions,delete i.lastAction,i.closingPlayer&&delete i.closingPlayer,yield this.updateRoom(e,i),!0})}static \u0275fac=function(n){return new(n||t)(Ee(Wr))};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})};var jL=()=>[];function BL(t,e){if(t&1&&(S(0,"span",36),z(1),A()),t&2){let n=ge();x(),ft("\u{1F3C6} ",n.getSessionScore())}}function HL(t,e){if(t&1&&an(0,"app-opponent-actions",37),t&2){let n,r,i=ge();K("opponentName",((n=i.getOpponent())==null?null:n.name)||"")("opponentCards",((r=i.getOpponent())==null?null:r.cards)||lh(4,jL))("lastAction",i.getOpponentLastAction())("isOpponentTurn",!i.isYourTurn)}}function UL(t,e){t&1&&(S(0,"p",38),z(1,"\u{1F3AF} Es tu turno"),A())}function $L(t,e){t&1&&(S(0,"p",39),z(1,"\u26A1 \xA1\xDALTIMA RONDA! Es tu turno final"),A())}function WL(t,e){t&1&&(S(0,"p",40),z(1,"\u23F3 Esperando turno..."),A())}function zL(t,e){t&1&&(S(0,"p",41),z(1,"\u2705 Te plantaste - El otro jugador tiene un turno m\xE1s"),A())}function GL(t,e){if(t&1){let n=br();S(0,"div",44),$e("click",function(){vt(n);let i=ge(2);return _t(i.drawFromDiscard())}),S(1,"img",45),$e("error",function(i){let o=vt(n).$implicit,s=ge(2);return _t(s.onImageError(i,o))}),A()()}if(t&2){let n=e.$implicit,r=ge(2);dt("discard-glow",r.canDrawFromDiscard()),x(),K("src",r.getCardImagePath(n),Ni)("alt",r.getCardDisplayName(n))}}function qL(t,e){if(t&1&&(S(0,"div",42),Se(1,GL,2,4,"div",43),A()),t&2){let n=ge();x(),K("ngForOf",n.room.discardPile.slice(-1))}}function YL(t,e){t&1&&(S(0,"div",46)(1,"div",47),z(2,"Vac\xEDo"),A()())}function KL(t,e){if(t&1){let n=br();S(0,"div",48)(1,"h4"),z(2,"Robada:"),A(),S(3,"div",49)(4,"div",50)(5,"img",45),$e("error",function(i){vt(n);let o=ge();return _t(o.onImageError(i,o.drawnCard))}),A(),S(6,"div",51)(7,"div",52),z(8),A(),S(9,"div",53),z(10),A()()()()()}if(t&2){let n=ge();x(4),dt("card-flip-in",n.showDrawnCardAnimation),x(),K("src",n.getCardImagePath(n.drawnCard),Ni)("alt",n.getCardDisplayName(n.drawnCard)),x(3),Bt(n.getCardValue(n.drawnCard)),x(),K("ngClass","suit-"+n.getCardSuit(n.drawnCard)),x(),ft(" ",n.getSuitSymbol(n.getCardSuit(n.drawnCard))," ")}}function ZL(t,e){if(t&1){let n=br();S(0,"div",54),$e("click",function(){let i=vt(n).index,o=ge();return _t(o.selectCard(i))}),S(1,"img",45),$e("error",function(i){let o=vt(n).$implicit,s=ge();return _t(s.onImageError(i,o))}),A(),S(2,"div",51)(3,"div",52),z(4),A(),S(5,"div",53),z(6),A()()()}if(t&2){let n=e.$implicit,r=e.index,i=ge();Uc("animation-delay",r*.1+"s"),dt("selected",i.selectedCardIndex===r)("card-entering",i.cardAnimations[r]&&i.cardAnimations[r].entering)("card-leaving",i.cardAnimations[r]&&i.cardAnimations[r].leaving),x(),K("src",i.getCardImagePath(n),Ni)("alt",i.getCardDisplayName(n)),x(3),Bt(i.getCardValue(n)),x(),K("ngClass","suit-"+i.getCardSuit(n)),x(),ft(" ",i.getSuitSymbol(i.getCardSuit(n))," ")}}function QL(t,e){if(t&1){let n=br();Bc(0),S(1,"button",55),$e("click",function(){vt(n);let i=ge();return _t(i.confirmCardSwap())}),S(2,"span",56),z(3,"\u{1F504}"),A(),S(4,"span",57),z(5,"Cambiar"),A()(),S(6,"button",58),$e("click",function(){vt(n);let i=ge();return _t(i.keepCurrentCards())}),S(7,"span",56),z(8,"\u{1F44B}"),A(),S(9,"span",57),z(10,"Pasar"),A()(),Hc()}if(t&2){let n=ge();x(),K("disabled",n.selectedCardIndex===-1||!n.isYourTurn),x(5),K("disabled",!n.isYourTurn)}}function JL(t,e){if(t&1){let n=br();S(0,"button",59),$e("click",function(){vt(n);let i=ge();return _t(i.closeRound())}),S(1,"span",56),z(2,"\u{1F3AF}"),A(),S(3,"span",57),z(4,"\xA1Cerrar!"),A()()}}function XL(t,e){if(t&1&&(S(0,"div",60)(1,"div",61),an(2,"img",62),S(3,"h2",63),z(4),A()()()),t&2){let n=ge();x(2),K("src",n.winnerImageSrc,Ni)("alt",n.winnerText),x(2),Bt(n.winnerText)}}var bI=class t{constructor(e){this.roomService=e}room;playerName="";roomCode="";roomSubscription;playerCards=[];isYourTurn=!1;drawnCard=null;selectedCardIndex=-1;cardAnimations={};showDrawnCardAnimation=!1;isDrawingFromDeck=!1;showWinnerImage=!1;isHandlingRoundEnd=!1;ngOnInit(){this.updateState(),this.roomSubscription=this.roomService.subscribeToRoom(this.roomCode).subscribe({next:e=>{this.room=e,this.updateState()},error:e=>{console.error("Error en la suscripci\xF3n de la sala:",e)}})}ngOnDestroy(){this.roomSubscription&&this.roomSubscription.unsubscribe()}updateState(){if(!this.room||!this.room.players)return;let e=this.room.players.find(n=>n.name===this.playerName);e&&(this.playerCards=e.cards||[],this.isYourTurn=this.room.turn===this.playerName,!this.isYourTurn&&this.room.status!=="round_closing"&&(this.drawnCard=null,this.selectedCardIndex=-1),this.room.status==="waiting"&&this.room.lastWinner&&!this.showWinnerImage&&!this.isHandlingRoundEnd&&this.handleRoundEnd(),this.room.status==="playing"&&!this.room.lastWinner&&(this.drawnCard=null,this.selectedCardIndex=-1,this.showWinnerImage=!1,this.isHandlingRoundEnd=!1),this.room.status==="round_closing"&&this.isYourTurn&&console.log("Es tu \xFAltimo turno despu\xE9s de que el otro jugador se plant\xF3"))}drawFromDeck(){return w(this,null,function*(){if(!(!this.isYourTurn||this.drawnCard))try{this.isDrawingFromDeck=!0,setTimeout(()=>{this.isDrawingFromDeck=!1},600);let e=yield this.roomService.drawFromDeck(this.roomCode,this.playerName);e&&(this.drawnCard=e,setTimeout(()=>{this.showDrawnCardAnimation=!0},300))}catch(e){console.error("Error al robar del mazo:",e),this.isDrawingFromDeck=!1}})}drawFromDiscard(){return w(this,null,function*(){if(!(!this.isYourTurn||this.drawnCard||!this.canDrawFromDiscard()))try{let e=yield this.roomService.drawFromDiscard(this.roomCode,this.playerName);e&&(this.drawnCard=e,setTimeout(()=>{this.showDrawnCardAnimation=!0},100))}catch(e){console.error("Error al robar del descarte:",e)}})}keepCurrentCards(){return w(this,null,function*(){if(this.drawnCard)try{(yield this.roomService.discardDrawnCard(this.roomCode,this.playerName,this.drawnCard))?(this.drawnCard=null,this.showDrawnCardAnimation=!1):console.error("No se pudo descartar la carta")}catch(e){console.error("Error al descartar carta:",e),this.drawnCard=null,this.showDrawnCardAnimation=!1}})}confirmCardSwap(){return w(this,null,function*(){if(!(this.selectedCardIndex===-1||!this.drawnCard))try{this.cardAnimations[this.selectedCardIndex]={entering:!1,leaving:!0},setTimeout(()=>w(this,null,function*(){try{(yield this.roomService.swapCard(this.roomCode,this.playerName,this.selectedCardIndex,this.drawnCard))?(this.cardAnimations[this.selectedCardIndex]={entering:!0,leaving:!1},setTimeout(()=>{this.cardAnimations[this.selectedCardIndex]={entering:!1,leaving:!1}},600),this.drawnCard=null,this.selectedCardIndex=-1,this.showDrawnCardAnimation=!1):(console.error("No se pudo intercambiar la carta"),this.cardAnimations[this.selectedCardIndex]={entering:!1,leaving:!1})}catch(e){console.error("Error al intercambiar carta:",e),this.cardAnimations[this.selectedCardIndex]={entering:!1,leaving:!1},this.drawnCard=null,this.selectedCardIndex=-1,this.showDrawnCardAnimation=!1}}),400)}catch(e){console.error("Error en confirmCardSwap:",e)}})}getDeckCount(){return this.room?.deck?.length||0}canDrawFromDiscard(){return this.room?.discardPile&&this.room.discardPile.length>0&&!this.drawnCard&&this.isYourTurn}selectCard(e){!this.isYourTurn||!this.drawnCard||(this.selectedCardIndex=e)}get canCloseRound(){let e=this.calculateHandPoints()>=21;return this.isYourTurn&&!this.drawnCard&&this.room.status!=="round_closing"&&e}getNextPlayerTurn(){let n=(this.room.players.findIndex(r=>r.name===this.playerName)+1)%this.room.players.length;return this.room.players[n].name}calculateHandPoints(){let e={};for(let r of this.playerCards){let i=this.getCardSuit(r),o=this.getCardNumericValue(r);e[i]||(e[i]=[]),e[i].push(o)}let n=0;for(let r in e){let i=e[r].reduce((o,s)=>o+s,0);i>n&&(n=i)}return n}getCardNumericValue(e){let n=e.charAt(0);switch(n){case"1":return 11;case"S":return 10;case"C":return 10;case"R":return 10;default:return parseInt(n)}}closeRound(){return w(this,null,function*(){if(this.drawnCard){yield fn.default.fire({title:"Error",text:"No puedes cerrar la ronda si tienes una carta robada",icon:"error",confirmButtonText:"OK"});return}try{let e=this.calculateHandPoints();(yield this.roomService.plantarse(this.roomCode,this.playerName))?yield fn.default.fire({title:"\u{1F31F} \xA1Plantado!",html:`
      <div style="text-align: center; font-size: 16px;">
        <span style="color: #d4a017; font-weight: 700; font-size: 18px;">
          ${e} puntos
        </span>
        <br>
        <small style="color: #8a7c5c; margin-top: 6px; display: block; font-size: 13px;">
          Turno del oponente
        </small>
      </div>
    `,icon:"success",showConfirmButton:!1,timer:2200,timerProgressBar:!0,toast:!0,position:"top",background:"#fffbe6",color:"#5a4a1f",iconColor:"#f1c40f",showClass:{popup:"animate__animated animate__fadeInDown animate__faster"},hideClass:{popup:"animate__animated animate__fadeOutUp animate__faster"},customClass:{popup:"swal-mobile-toast",title:"swal-mobile-title"},width:"280px",padding:"14px"}):yield fn.default.fire({title:"\u26A0\uFE0F Error",text:"Error al cerrar la ronda",icon:"error",confirmButtonText:"OK",confirmButtonColor:"#f39c12",background:"#fffbe6",color:"#5a4a1f"})}catch{yield fn.default.fire({title:"Error",text:"Error al cerrar la ronda",icon:"error",confirmButtonText:"OK"})}})}winnerImageSrc="";winnerText="";celebrationImages=["assets/a.jpeg","assets/b.jpeg","assets/c.jpeg","assets/d.jpeg","assets/e.jpeg","assets/f.jpeg","assets/g.jpeg","assets/h.jpeg","assets/i.jpeg","assets/j.jpeg","assets/k.jpeg","assets/l.jpeg","assets/m.jpeg","assets/n.jpeg","assets/o.jpeg","assets/p.jpeg","assets/q.jpeg","assets/r.jpeg","assets/s.jpeg","assets/t.jpeg","assets/u.jpeg","assets/w.jpeg","assets/x.jpeg","assets/y.jpeg","assets/z.jpeg","assets/\xF1.jpeg"];lastUsedImageIndex=-1;getRandomCelebrationImage(){let e;if(this.celebrationImages.length===1)return this.celebrationImages[0];do e=Math.floor(Math.random()*this.celebrationImages.length);while(e===this.lastUsedImageIndex&&this.celebrationImages.length>1);return this.lastUsedImageIndex=e,this.celebrationImages[e]}handleRoundEnd(){return w(this,null,function*(){if(!(this.isHandlingRoundEnd||this.showWinnerImage)&&this.room?.status==="waiting"&&this.room.lastWinner){this.isHandlingRoundEnd=!0;let e=this.room.lastWinner,n=this.room.lastWinnerPoints||0;this.winnerImageSrc=this.room.celebrationImage||"assets/a.jpeg",e==="EMPATE"?this.winnerText=`\xA1Empate! Ambos con ${n} puntos`:this.winnerText=`\xA1${e} gan\xF3 con ${n} puntos!`,this.showWinnerImage=!0,setTimeout(()=>w(this,null,function*(){this.showWinnerImage=!1,this.room.players&&this.room.players.length>0&&this.room.players[0].name===this.playerName&&(yield this.roomService.startNewRound(this.roomCode)),this.isHandlingRoundEnd=!1}),4e3)}})}prepareNewRoundLocal(){return w(this,null,function*(){this.room&&(this.room.deck=this.roomService.generateDeck(),this.room.discardPile=[],this.room.players.forEach(e=>{e.cards=this.roomService.drawCards(this.room.deck,3)}),this.room.deck.length>0&&this.room.discardPile.push(this.room.deck.pop()),this.room.turn=this.room.players[0].name,this.room.status="playing",yield this.roomService.updateRoom(this.room.code,this.room))})}getCardValue(e){let n=e.charAt(0);switch(n){case"S":return"Sota";case"C":return"Caballo";case"R":return"Rey";default:return n}}getCardSuit(e){return e.charAt(e.length-1)}getSuitSymbol(e){switch(e){case"C":return"\u2665";case"O":return"\u{1F536}";case"E":return"\u2660";case"B":return"\u2663";default:return e}}getCardImagePath(e){return`assets/cards/${e}.png`}getCardDisplayName(e){let n=this.getCardValue(e),r=this.getCardSuit(e),i=this.getSuitName(r);return`${n} de ${i}`}getSuitName(e){switch(e){case"C":return"Copas";case"O":return"Oros";case"E":return"Espadas";case"B":return"Bastos";default:return e}}onImageError(e,n){console.warn(`No se pudo cargar la imagen para la carta: ${n}`);let r=e.target,o=r.parentElement.querySelector(".card-fallback");r.style.display="none",o&&(o.style.display="flex")}getPlayerIcon(){return this.playerName==="Aguila"||this.playerName==="\xC1guila"?"\u{1F985}":this.playerName==="Lince"?"\u{1F431}":this.playerName.toLowerCase().includes("aguila")||this.playerName.toLowerCase().includes("\xE1guila")?"\u{1F985}":this.playerName.toLowerCase().includes("lince")?"\u{1F43E}":"\u{1F464}"}getOpponent(){return!this.room||!this.room.players||this.room.players.length<2?null:this.room.players.find(e=>e.name!==this.playerName)}getOpponentLastAction(){let e=this.getOpponent();return!e||!this.room?void 0:this.roomService.getLastOpponentAction(this.room,e.name)||void 0}getSessionScore(){if(!this.room||!this.room.players||this.room.players.length<2)return"";let e=this.room.players[0],n=this.room.players[1],r=e.sessionWins||0,i=n.sessionWins||0;return`${r} - ${i}`}plantarse(){return w(this,null,function*(){if(!this.isYourTurn){yield fn.default.fire({title:"No es tu turno",text:"Espera a que sea tu turno para plantarte",icon:"warning",confirmButtonText:"OK"});return}try{let e=this.calculateHandPoints();(yield this.roomService.plantarse(this.roomCode,this.playerName))?yield fn.default.fire({title:"\u{1F3AF} \xA1Plantado!",html:`<div style="text-align: center; font-size: 16px;"><span style="color: #27ae60; font-weight: 700; font-size: 18px;">${e} puntos</span><br><small style="color: #666; margin-top: 4px; display: block; font-size: 13px;">Turno del oponente</small></div>`,icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,position:"top",showClass:{popup:"animate__animated animate__fadeInDown animate__faster"},hideClass:{popup:"animate__animated animate__fadeOutUp animate__faster"},customClass:{popup:"swal-mobile-toast",title:"swal-mobile-title"},width:"280px",padding:"12px"}):yield fn.default.fire({title:"Error",text:"Error al plantarse",icon:"error",confirmButtonText:"OK"})}catch{yield fn.default.fire({title:"Error",text:"Error al plantarse",icon:"error",confirmButtonText:"OK"})}})}static \u0275fac=function(n){return new(n||t)(se(cu))};static \u0275cmp=Xo({type:t,selectors:[["app-game"]],inputs:{room:"room",playerName:"playerName",roomCode:"roomCode"},decls:45,vars:21,consts:[[1,"game-container"],[1,"game-title-enhanced"],[1,"title-number","text-center"],[1,"header-info"],[1,"room-code"],["class","session-score",4,"ngIf"],[3,"opponentName","opponentCards","lastAction","isOpponentTurn",4,"ngIf"],[1,"player-info"],["class","turn-indicator",4,"ngIf"],["class","last-turn-indicator",4,"ngIf"],["class","waiting",4,"ngIf"],["class","you-closed",4,"ngIf"],[1,"game-table"],[1,"deck-discard-row"],[1,"deck-area","mr-3"],[1,"deck-stack"],[1,"deck-card","deck-card-1"],[1,"deck-card","deck-card-2"],[1,"deck-card","deck-card-3",3,"click"],["src","/assets/cards/RV.png","alt","Mazo",1,"card-image"],[1,"deck-count"],[1,"discard-area"],["class","discard-stack",4,"ngIf"],["class","empty-discard",4,"ngIf"],["class","drawn-card-area",4,"ngIf"],[1,"player-hand"],[1,"player-hand-header"],[1,"player-score-header"],[1,"player-icon"],[1,"score-text"],[1,"cards-container"],["class","card player-card",3,"selected","card-entering","card-leaving","animation-delay","click",4,"ngFor","ngForOf"],[1,"game-actions"],[4,"ngIf"],["class","btn btn-close action-btn",3,"click",4,"ngIf"],["class","winner-overlay",4,"ngIf"],[1,"session-score"],[3,"opponentName","opponentCards","lastAction","isOpponentTurn"],[1,"turn-indicator"],[1,"last-turn-indicator"],[1,"waiting"],[1,"you-closed"],[1,"discard-stack"],["class","card discard-card",3,"discard-glow","click",4,"ngFor","ngForOf"],[1,"card","discard-card",3,"click"],[1,"card-image",3,"error","src","alt"],[1,"empty-discard"],[1,"empty-pile"],[1,"drawn-card-area"],[1,"drawn-card-container"],[1,"card","drawn-card"],[1,"card-fallback",2,"display","none"],[1,"card-value"],[1,"card-suit",3,"ngClass"],[1,"card","player-card",3,"click"],[1,"btn","btn-swap","action-btn",3,"click","disabled"],[1,"btn-icon"],[1,"btn-text"],[1,"btn","btn-pass","action-btn",3,"click","disabled"],[1,"btn","btn-close","action-btn",3,"click"],[1,"winner-overlay"],[1,"winner-content"],[1,"winner-image",3,"src","alt"],[1,"winner-text"]],template:function(n,r){n&1&&(S(0,"div",0)(1,"h2",1)(2,"span",2),z(3,"3\uFE0F\u20E31\uFE0F\u20E3"),A(),S(4,"div",3)(5,"span",4),z(6),A(),Se(7,BL,2,1,"span",5),A()(),Se(8,HL,1,5,"app-opponent-actions",6),S(9,"div",7),Se(10,UL,2,0,"p",8)(11,$L,2,0,"p",9)(12,WL,2,0,"p",10)(13,zL,2,0,"p",11),A(),S(14,"div",12)(15,"div",13)(16,"div",14)(17,"h3"),z(18,"Mazo"),A(),S(19,"div",15),an(20,"div",16)(21,"div",17),S(22,"div",18),$e("click",function(){return r.drawFromDeck()}),an(23,"img",19),A()(),S(24,"p",20),z(25),A()(),S(26,"div",21)(27,"h3"),z(28,"Descarte"),A(),Se(29,qL,2,1,"div",22)(30,YL,3,0,"div",23),A()(),Se(31,KL,11,7,"div",24),A(),S(32,"div",25)(33,"div",26)(34,"h4",27)(35,"span",28),z(36),A(),S(37,"span",29),z(38),A()()(),S(39,"div",30),Se(40,ZL,7,13,"div",31),A()(),S(41,"div",32),Se(42,QL,11,2,"ng-container",33)(43,JL,5,0,"button",34),A()(),Se(44,XL,5,3,"div",35)),n&2&&(dt("waiting-turn",!r.isYourTurn),x(6),ft(" Sala: ",r.roomCode),x(),K("ngIf",r.getSessionScore()),x(),K("ngIf",(r.room==null||r.room.players==null?null:r.room.players.length)===2&&r.getOpponent()),x(2),K("ngIf",r.isYourTurn&&(r.room==null?null:r.room.status)!=="round_closing"),x(),K("ngIf",r.isYourTurn&&(r.room==null?null:r.room.status)==="round_closing"),x(),K("ngIf",!r.isYourTurn&&(r.room==null?null:r.room.status)!=="round_closing"),x(),K("ngIf",!r.isYourTurn&&(r.room==null?null:r.room.status)==="round_closing"),x(9),dt("deck-drawing",r.isDrawingFromDeck),x(3),ft("",r.getDeckCount()," cartas"),x(4),K("ngIf",r.room.discardPile&&r.room.discardPile.length>0),x(),K("ngIf",!r.room.discardPile||r.room.discardPile.length===0),x(),K("ngIf",r.drawnCard),x(5),Bt(r.getPlayerIcon()),x(2),ft("Tus cartas (",r.calculateHandPoints()," puntos)"),x(2),K("ngForOf",r.playerCards),x(2),K("ngIf",r.drawnCard),x(),K("ngIf",r.calculateHandPoints()>=21&&r.isYourTurn&&!r.drawnCard&&r.room.status!=="round_closing"),x(),K("ngIf",r.showWinnerImage))},dependencies:[pE,is,Eh,Fi,rs,tl],styles:['.game-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:5px;font-family:Arial,sans-serif;background:linear-gradient(135deg,#fff3cd,#ffeaa7,#fdcb6e);min-height:100vh;color:#8b4513;display:flex;flex-direction:column;overflow-x:hidden;transition:background .5s ease}.game-container.waiting-turn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff8e1,#ffecb3,#ffe082);opacity:.85}.waiting[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d6e6fa,#60a5fa);padding:8px 16px;border-radius:20px;text-align:center;margin:5px auto;max-width:300px;color:#071236;font-size:.95rem;border:2px solid rgba(59,130,246,.3);box-shadow:0 4px 15px #3b82f633,inset 0 1px #ffffff4d;font-weight:500;animation:_ngcontent-%COMP%_gentlePulse 3s ease-in-out infinite}.game-container.waiting-turn[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{transition:all .3s ease}@keyframes _ngcontent-%COMP%_gentlePulse{0%,to{transform:scale(1);box-shadow:0 4px 15px #3b82f633,inset 0 1px #ffffff4d}50%{transform:scale(1.02);box-shadow:0 6px 20px #3b82f64d,inset 0 1px #fff6}}.game-title[_ngcontent-%COMP%]{color:#e17055;text-align:center;margin-bottom:15px;text-shadow:2px 2px 4px rgba(0,0,0,.3);font-size:1.5rem}.header-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:5px}.session-score[_ngcontent-%COMP%]{font-size:1rem;background:#ffffff4d;padding:4px 12px;border-radius:15px;border:1px solid rgba(255,255,255,.5);box-shadow:0 2px 5px #0000001a;color:#d35400;font-weight:700;animation:_ngcontent-%COMP%_popIn .5s cubic-bezier(.175,.885,.32,1.275)}@keyframes _ngcontent-%COMP%_popIn{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}.player-info[_ngcontent-%COMP%]{text-align:center;margin-bottom:5px}.turn-indicator[_ngcontent-%COMP%]{background:linear-gradient(45deg,#f39c12,#fdcb6e);color:#fff;padding:6px 12px;border-radius:25px;text-align:center;margin:3px auto;max-width:280px;box-shadow:0 4px 15px #f39c124d;animation:pulse 2s infinite;font-size:.9rem}.game-table[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin:8px 0;padding:10px;background:#fff3;border-radius:20px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(255,234,167,.3);flex-shrink:0}.deck-area[_ngcontent-%COMP%]{text-align:center}.deck-stack[_ngcontent-%COMP%]{position:relative;width:110px;height:150px;margin:0 auto}.deck-card[_ngcontent-%COMP%]{position:absolute;width:110px;height:150px;background:#8b4513;border:3px solid #d2691e;border-radius:12px;cursor:pointer;transition:all .3s ease}.deck-card-1[_ngcontent-%COMP%]{transform:rotate(-2deg) translate(-2px,2px);z-index:1}.deck-card-2[_ngcontent-%COMP%]{transform:rotate(1deg) translate(1px,-1px);z-index:2}.deck-card-3[_ngcontent-%COMP%]{z-index:3;box-shadow:0 8px 25px #8b45134d}.deck-card-3[_ngcontent-%COMP%]:hover{transform:translateY(-10px) scale(1.05);box-shadow:0 15px 35px #8b451366}.deck-drawing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cardDraw .6s ease-out}.deck-count[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;opacity:.8;color:#e17055}.discard-area[_ngcontent-%COMP%]{text-align:center}.discard-stack[_ngcontent-%COMP%]{position:relative;width:110px;height:150px;margin:0 auto}.discard-card[_ngcontent-%COMP%]{position:absolute;width:110px;height:150px;cursor:pointer;transition:all .3s ease;animation:_ngcontent-%COMP%_cardDiscard .5s ease-out}.discard-glow[_ngcontent-%COMP%]{box-shadow:0 0 20px #f39c12,0 0 40px #f39c12;animation:_ngcontent-%COMP%_glow 2s ease-in-out infinite alternate}.empty-discard[_ngcontent-%COMP%]{width:110px;height:150px;margin:0 auto}.empty-pile[_ngcontent-%COMP%]{width:100%;height:100%;border:3px dashed rgba(225,112,85,.5);border-radius:12px;display:flex;align-items:center;justify-content:center;color:#e17055b3;font-size:14px}.cards-container[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;margin:15px 0;justify-content:center;perspective:1000px;overflow-x:auto;overflow-y:hidden;padding:10px 5px;-webkit-overflow-scrolling:touch}.card[_ngcontent-%COMP%]{width:110px;height:150px;border:3px solid #fff;border-radius:12px;margin:5px;cursor:pointer;position:relative;background:#fff;box-shadow:0 4px 15px #0003;transition:all .3s cubic-bezier(.4,0,.2,1);overflow:hidden;transform-style:preserve-3d;flex-shrink:0}.player-card[_ngcontent-%COMP%]:hover{transform:translateY(-15px) rotateY(5deg);box-shadow:0 15px 35px #0000004d}.card.selected[_ngcontent-%COMP%]{border-color:#f39c12;transform:translateY(-20px) scale(1.1);box-shadow:0 0 25px #f39c12,0 15px 35px #0006;z-index:10}.card-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;border-radius:9px;padding:5px;box-sizing:border-box}.card-entering[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cardEnter .6s ease-out}.card-leaving[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cardLeave .4s ease-in}.card-flip-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flipIn .8s ease-out}.drawn-card-area[_ngcontent-%COMP%]{text-align:center;margin:0;padding:5px;border-radius:15px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.drawn-card-area[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9rem;margin:2px 0;color:#8b4513;font-weight:600}.drawn-card-container[_ngcontent-%COMP%]{display:flex;justify-content:center;perspective:1000px;margin-top:0}.drawn-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cardDrawn .8s ease-out;box-shadow:0 0 30px #f39c1299}.player-hand[_ngcontent-%COMP%]{margin:15px 0;padding:15px;border:2px solid rgba(255,234,167,.5);border-radius:20px;background:#fff3;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);flex-shrink:0}.game-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;gap:12px;padding:20px 10px;margin-top:15px}.action-btn[_ngcontent-%COMP%]{padding:12px 24px;background:transparent;border:2px solid #666;border-radius:8px;cursor:pointer;font-weight:500;font-size:14px;color:#333;transition:all .2s ease;min-height:auto;min-width:140px;display:flex;flex-direction:row;align-items:center;justify-content:center;gap:8px;margin:4px;box-shadow:none;-webkit-backdrop-filter:none;backdrop-filter:none;position:relative}.action-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#333;color:#000;background:#3333330d;transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.action-btn[_ngcontent-%COMP%]:active:not(:disabled){border-color:#000;background:#3333331a;transform:translateY(0) scale(.98);box-shadow:0 1px 3px #0003}.action-btn[_ngcontent-%COMP%]:disabled{border-color:#ccc;color:#999;cursor:not-allowed;opacity:.6}.btn-icon[_ngcontent-%COMP%]{font-size:16px;line-height:1;order:2;filter:none;transition:transform .2s ease}.action-btn[_ngcontent-%COMP%]:hover:not(:disabled)   .btn-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.btn-text[_ngcontent-%COMP%]{font-size:14px;font-weight:500;text-transform:none;letter-spacing:normal;order:1;filter:none;text-shadow:none}.btn-draw-deck[_ngcontent-%COMP%]{border-color:#4a90e2;color:#4a90e2}.btn-draw-deck[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#357abd;color:#357abd;background:#4a90e214;box-shadow:0 2px 8px #4a90e233}.btn-draw-deck[_ngcontent-%COMP%]:active:not(:disabled){background:#4a90e226;box-shadow:0 1px 3px #4a90e24d}.btn-draw-discard[_ngcontent-%COMP%]{border-color:#e74c3c;color:#e74c3c}.btn-draw-discard[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#c0392b;color:#c0392b;background:#e74c3c14;box-shadow:0 2px 8px #e74c3c33}.btn-draw-discard[_ngcontent-%COMP%]:active:not(:disabled){background:#e74c3c26;box-shadow:0 1px 3px #e74c3c4d}.btn-swap[_ngcontent-%COMP%]{border-color:#3498db;color:#3498db}.btn-swap[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#2980b9;color:#2980b9;background:#3498db14;box-shadow:0 2px 8px #3498db33}.btn-swap[_ngcontent-%COMP%]:active:not(:disabled){background:#3498db26;box-shadow:0 1px 3px #3498db4d}.btn-discard[_ngcontent-%COMP%]{border-color:#f39c12;color:#f39c12}.btn-discard[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#e67e22;color:#e67e22;background:#f39c1214;box-shadow:0 2px 8px #f39c1233}.btn-discard[_ngcontent-%COMP%]:active:not(:disabled){background:#f39c1226;box-shadow:0 1px 3px #f39c124d}.btn-pass[_ngcontent-%COMP%]{border-color:#27ae60;color:#27ae60;background:transparent;position:relative;overflow:visible;box-shadow:none;text-shadow:none;-webkit-backdrop-filter:none;backdrop-filter:none;animation:none}.btn-pass[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#229954;color:#229954;background:#27ae6014;transform:translateY(-1px);box-shadow:0 2px 8px #27ae6033;animation:none}.btn-pass[_ngcontent-%COMP%]:active:not(:disabled){background:#27ae6026;transform:translateY(0) scale(.98);box-shadow:0 1px 3px #27ae604d}.btn-pass[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{position:static;z-index:auto;display:flex;flex-direction:row;align-items:center;gap:8px}.btn-pass[_ngcontent-%COMP%]   .btn-shine[_ngcontent-%COMP%]{display:none}.btn-pass[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:16px;filter:none;animation:none}.btn-pass[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:14px;font-weight:500;text-transform:none;letter-spacing:normal;filter:none}.btn-pass[_ngcontent-%COMP%]:disabled{background:transparent;color:#999;border-color:#ccc;box-shadow:none;text-shadow:none;opacity:.6}.btn-pass[_ngcontent-%COMP%]:disabled   .btn-shine[_ngcontent-%COMP%]{display:none}.btn-pass[_ngcontent-%COMP%]:disabled   .btn-icon[_ngcontent-%COMP%]{animation:none;filter:none}.btn-close[_ngcontent-%COMP%]{border-color:#e74c3c;color:#e74c3c;background:transparent;position:relative;overflow:visible;box-shadow:none;text-shadow:none;animation:none;font-weight:500;-webkit-backdrop-filter:none;backdrop-filter:none}.btn-close[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#c0392b;color:#c0392b;background:#e74c3c14;transform:translateY(-1px);box-shadow:0 2px 8px #e74c3c33}.btn-close[_ngcontent-%COMP%]:active:not(:disabled){background:#e74c3c26;transform:translateY(0) scale(.98);box-shadow:0 1px 3px #e74c3c4d}.btn-close[_ngcontent-%COMP%]:before{display:none}.action-btn[_ngcontent-%COMP%]:disabled{opacity:.4!important;cursor:not-allowed!important;transform:none!important;box-shadow:none!important;filter:grayscale(70%)!important;pointer-events:none!important}.action-btn[_ngcontent-%COMP%]:not(:disabled){cursor:pointer}@media (max-width: 768px){.action-btn[_ngcontent-%COMP%]{padding:10px 20px;min-width:120px;font-size:13px;gap:6px}.btn-icon[_ngcontent-%COMP%]{font-size:14px}.btn-text[_ngcontent-%COMP%]{font-size:13px}.action-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:none}.game-actions[_ngcontent-%COMP%]{gap:8px;padding:15px 5px}}@keyframes _ngcontent-%COMP%_glow{0%{box-shadow:0 0 20px #f39c12}to{box-shadow:0 0 30px #f39c12,0 0 40px #f39c12}}@keyframes _ngcontent-%COMP%_cardDraw{0%{transform:translateY(0) rotate(0)}50%{transform:translateY(-30px) rotate(10deg)}to{transform:translateY(-60px) rotate(0) scale(.8);opacity:0}}@keyframes _ngcontent-%COMP%_cardDiscard{0%{transform:scale(.8) rotate(180deg);opacity:0}to{transform:scale(1) rotate(0);opacity:1}}@keyframes _ngcontent-%COMP%_cardEnter{0%{transform:translate(-100px) rotate(-90deg) scale(.5);opacity:0}to{transform:translate(0) rotate(0) scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_cardLeave{0%{transform:translate(0) rotate(0) scale(1);opacity:1}to{transform:translate(100px) rotate(90deg) scale(.5);opacity:0}}@keyframes _ngcontent-%COMP%_flipIn{0%{transform:rotateY(180deg) scale(.5);opacity:0}50%{transform:rotateY(90deg) scale(.8)}to{transform:rotateY(0) scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_cardDrawn{0%{transform:translateY(-100px) rotateX(180deg) scale(.3);opacity:0}50%{transform:translateY(-20px) rotateX(90deg) scale(.8)}to{transform:translateY(0) rotateX(0) scale(1);opacity:1}}.card[_ngcontent-%COMP%]:hover:after{content:"";position:absolute;inset:0;background:radial-gradient(circle at center,rgba(255,255,255,.1) 0%,transparent 70%);pointer-events:none}@media (max-width: 480px){.game-container[_ngcontent-%COMP%]{padding:5px;min-height:100vh;height:100vh;overflow-y:auto}.game-title[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:10px}.game-table[_ngcontent-%COMP%]{flex-direction:column;gap:15px;margin:10px 0;padding:10px}.cards-container[_ngcontent-%COMP%]{gap:5px;margin:10px 0;flex-wrap:nowrap;justify-content:flex-start;padding:5px}.card[_ngcontent-%COMP%]{width:70px;height:95px;margin:2px}.deck-card[_ngcontent-%COMP%], .discard-card[_ngcontent-%COMP%], .deck-stack[_ngcontent-%COMP%], .discard-stack[_ngcontent-%COMP%], .empty-discard[_ngcontent-%COMP%]{width:70px;height:95px}.action-btn[_ngcontent-%COMP%]{padding:10px 15px;font-size:12px;min-height:40px;min-width:80px}.game-actions[_ngcontent-%COMP%]{gap:8px;margin:10px 0}.player-hand[_ngcontent-%COMP%]{margin:10px 0;padding:10px}.turn-indicator[_ngcontent-%COMP%], .waiting[_ngcontent-%COMP%]{padding:8px 12px;margin:5px auto;max-width:250px;font-size:.8rem}}@media (max-width: 768px) and (orientation: landscape){.game-container[_ngcontent-%COMP%]{padding:5px;height:100vh;overflow-y:auto}.game-table[_ngcontent-%COMP%]{flex-direction:row;gap:10px;margin:5px 0;padding:8px}.cards-container[_ngcontent-%COMP%]{gap:6px;margin:8px 0}.card[_ngcontent-%COMP%], .deck-card[_ngcontent-%COMP%], .discard-card[_ngcontent-%COMP%], .deck-stack[_ngcontent-%COMP%], .discard-stack[_ngcontent-%COMP%], .empty-discard[_ngcontent-%COMP%]{width:60px;height:82px}.game-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:5px}.player-hand[_ngcontent-%COMP%]{margin:8px 0;padding:8px}}@media (min-width: 481px) and (max-width: 768px){.game-table[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.cards-container[_ngcontent-%COMP%]{gap:12px}.card[_ngcontent-%COMP%], .deck-card[_ngcontent-%COMP%], .discard-card[_ngcontent-%COMP%], .deck-stack[_ngcontent-%COMP%], .discard-stack[_ngcontent-%COMP%], .empty-discard[_ngcontent-%COMP%]{width:85px;height:115px}.action-btn[_ngcontent-%COMP%]{padding:12px 18px;font-size:13px}}@media (hover: none) and (pointer: coarse){.card[_ngcontent-%COMP%]:hover{transform:none}.card[_ngcontent-%COMP%]:active{transform:scale(.95)}.action-btn[_ngcontent-%COMP%]:hover{transform:none}.action-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.deck-card-3[_ngcontent-%COMP%]:hover{transform:none}.deck-card-3[_ngcontent-%COMP%]:active{transform:scale(.95)}}.winner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;justify-content:center;align-items:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .5s ease-in}.winner-content[_ngcontent-%COMP%]{text-align:center;background:#fff;padding:30px;border-radius:20px;box-shadow:0 10px 30px #0000004d;animation:_ngcontent-%COMP%_slideIn .5s ease-out;max-width:90%;max-height:90%}.winner-image[_ngcontent-%COMP%]{max-width:400px;max-height:400px;width:100%;height:auto;border-radius:15px;margin-bottom:20px;object-fit:contain}.winner-text[_ngcontent-%COMP%]{color:#e17055;font-size:1.5em;margin:0;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.1)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-50px) scale(.8);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}@media (max-width: 600px){.winner-content[_ngcontent-%COMP%]{padding:20px;margin:20px}.winner-image[_ngcontent-%COMP%]{max-width:300px;max-height:300px}.winner-text[_ngcontent-%COMP%]{font-size:1.2em}}.deck-discard-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:60px;margin-bottom:0;padding:0 20px}.deck-area[_ngcontent-%COMP%], .discard-area[_ngcontent-%COMP%]{flex:1;max-width:150px}.drawn-card-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.player-hand-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2px;flex-wrap:wrap;gap:5px}.player-hand-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.1rem}.player-points[_ngcontent-%COMP%]{font-size:1.1em;font-weight:600;color:#4caf50;background:#4caf501a;padding:5px 10px;border-radius:15px;border:2px solid #4CAF50}@media (max-width: 768px){.deck-discard-row[_ngcontent-%COMP%]{gap:40px;padding:0 10px;margin-bottom:0}.drawn-card-area[_ngcontent-%COMP%]{margin:0;padding:3px}.drawn-card-area[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.9rem;margin:3px 0}.deck-area[_ngcontent-%COMP%], .discard-area[_ngcontent-%COMP%]{max-width:120px}.player-hand-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:3px;margin-bottom:1px}.player-hand-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin:0}.cards-container[_ngcontent-%COMP%]{margin:3px 0 10px;padding:3px}.player-points[_ngcontent-%COMP%]{font-size:1em;padding:4px 8px}.player-hand[_ngcontent-%COMP%]{margin:8px 0;padding:8px}.game-actions[_ngcontent-%COMP%]{margin:8px 0;gap:6px;padding:0 3px}.action-btn[_ngcontent-%COMP%]{padding:6px 12px;font-size:13px}}@media (max-width: 480px){.deck-discard-row[_ngcontent-%COMP%]{gap:25px;padding:0 5px;margin-bottom:0}.drawn-card-area[_ngcontent-%COMP%]{margin:0;padding:2px}.drawn-card-area[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.8rem;margin:0}.deck-area[_ngcontent-%COMP%], .discard-area[_ngcontent-%COMP%]{max-width:100px}.deck-area[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .discard-area[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.9em;margin:3px 0}.turn-indicator[_ngcontent-%COMP%], .waiting[_ngcontent-%COMP%]{padding:4px 8px;margin:2px auto}[_nghost-%COMP%]     .swal2-popup.swal-custom-popup{border-radius:15px!important;box-shadow:0 10px 40px #0000001a!important;border:none!important;padding:20px!important;font-family:Arial,sans-serif!important;max-width:350px!important}[_nghost-%COMP%]     .swal2-title.swal-custom-title{font-size:1.3rem!important;font-weight:600!important;color:#2c3e50!important;margin-bottom:15px!important}[_nghost-%COMP%]     .swal2-html-container{font-size:.95rem!important;color:#5a6c7d!important;line-height:1.4!important;margin:0!important}[_nghost-%COMP%]     .swal2-confirm{background:linear-gradient(45deg,#27ae60,#2ecc71)!important;border:none!important;border-radius:8px!important;padding:10px 25px!important;font-size:.9rem!important;font-weight:500!important;box-shadow:0 3px 15px #27ae604d!important;transition:all .2s ease!important}[_nghost-%COMP%]     .swal2-confirm:hover{transform:translateY(-1px)!important;box-shadow:0 5px 20px #27ae6066!important}[_nghost-%COMP%]     .swal2-icon{border:none!important;margin:10px auto 15px!important}[_nghost-%COMP%]     .swal2-icon.swal2-success{color:#27ae60!important}[_nghost-%COMP%]     .swal2-icon.swal2-success .swal2-success-ring{border-color:#27ae60!important}[_nghost-%COMP%]     .swal2-icon.swal2-success [class^=swal2-success-line]{background-color:#27ae60!important}}']})};export{ee as a,re as b,lT as c,w as d,ye as e,wT as f,R as g,zu as h,Gu as i,gt as j,yo as k,_o as l,Pt as m,NT as n,MT as o,kT as p,Kn as q,tn as r,BT as s,Zn as t,$a as u,UT as v,$T as w,wo as x,Ey as y,WT as z,Eo as A,Ju as B,GT as C,qT as D,Xu as E,YT as F,KT as G,ZT as H,QT as I,JT as J,XT as K,L,To as M,J as N,nS as O,M as P,Ee as Q,D as R,ar as S,Nd as T,Be as U,Cn as V,vt as W,_t as X,yv as Y,He as Z,Bo as _,Ei as $,nr as aa,Vt as ba,gr as ca,Sn as da,Pc as ea,Mf as fa,lA as ga,uA as ha,m_ as ia,Pf as ja,fA as ka,Ti as la,Ni as ma,x as na,zo as oa,qo as pa,se as qa,Jo as ra,aw as sa,cw as ta,Xo as ua,Et as va,Se as wa,rh as xa,nt as ya,pe as za,FN as Aa,Pi as Ba,LN as Ca,mw as Da,Ri as Ea,jN as Fa,BN as Ga,K as Ha,S as Ia,A as Ja,an as Ka,Bc as La,Hc as Ma,br as Na,$e as Oa,ge as Pa,zN as Qa,Uc as Ra,dt as Sa,z as Ta,Bt as Ua,ft as Va,bw as Wa,uM as Xa,Cw as Ya,lh as Za,gM as _a,mM as $a,cn as ab,GG as bb,gh as cb,mh as db,qG as eb,Ir as fb,zM as gb,vh as hb,Ww as ib,Eh as jb,Fi as kb,rs as lb,is as mb,KM as nb,bh as ob,C7 as pb,iE as qb,z7 as rb,Ik as sb,pE as tb,gE as ub,tl as vb,Y9 as wb,K9 as xb,Wr as yb,EZ as zb,Jt as Ab,bZ as Bb,EI as Cb,it as Db,au as Eb,cu as Fb,bI as Gb};
